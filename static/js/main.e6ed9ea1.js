/*! For license information please see main.e6ed9ea1.js.LICENSE.txt */
(()=>{"use strict";var t={43:(t,e,n)=>{t.exports=n(202)},153:(t,e,n)=>{var i=n(43),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var i,s={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)o.call(e,i)&&!l.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===s[i]&&(s[i]=e[i]);return{$$typeof:r,type:t,key:c,ref:u,props:s,_owner:a.current}}e.Fragment=s,e.jsx=c,e.jsxs=c},175:(t,e)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,i=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function l(t,e,n){do{const n=t.charCodeAt(e);if(32!==n&&9!==n)return e}while(++e<n);return n}function c(t,e,n){for(;e>n;){const n=t.charCodeAt(--e);if(32!==n&&9!==n)return e+1}return n}function u(t){if(-1===t.indexOf("%"))return t;try{return decodeURIComponent(t)}catch(e){return t}}},202:(t,e)=>{var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}function v(){}function b(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,i){var r,s={},o=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)_.call(e,r)&&!E.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(1===l)s.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:n,type:t,key:o,ref:a,props:s,_owner:S.current}}function T(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var C=/\/+/g;function I(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function P(t,e,r,s,o){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case i:l=!0}}if(l)return o=o(l=t),t=""===s?"."+I(l,0):s,x(o)?(r="",null!=t&&(r=t.replace(C,"$&/")+"/"),P(o,e,r,"",(function(t){return t}))):null!=o&&(T(o)&&(o=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+t)),e.push(o)),1;if(l=0,s=""===s?".":s+":",x(t))for(var c=0;c<t.length;c++){var u=s+I(a=t[c],c);l+=P(a,e,r,u,o)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(a=t.next()).done;)l+=P(a=a.value,e,r,u=s+I(a,c++),o);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function A(t,e,n){if(null==t)return t;var i=[],r=0;return P(t,i,"","",(function(t){return e.call(n,t,r++)})),i}function R(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var D={current:null},M={transition:null},N={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:M,ReactCurrentOwner:S};function O(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:A,forEach:function(t,e,n){A(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return A(t,(function(){e++})),e},toArray:function(t){return A(t,(function(t){return t}))||[]},only:function(t){if(!T(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=y,e.Fragment=r,e.Profiler=o,e.PureComponent=b,e.StrictMode=s,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,e.act=O,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=m({},t.props),s=t.key,o=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,a=S.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)_.call(e,c)&&!E.hasOwnProperty(c)&&(r[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:t.type,key:s,ref:o,props:r,_owner:a}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=k,e.createFactory=function(t){var e=k.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=T,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:R}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=M.transition;M.transition={};try{t()}finally{M.transition=e}},e.unstable_act=O,e.useCallback=function(t,e){return D.current.useCallback(t,e)},e.useContext=function(t){return D.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return D.current.useDeferredValue(t)},e.useEffect=function(t,e){return D.current.useEffect(t,e)},e.useId=function(){return D.current.useId()},e.useImperativeHandle=function(t,e,n){return D.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return D.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return D.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return D.current.useMemo(t,e)},e.useReducer=function(t,e,n){return D.current.useReducer(t,e,n)},e.useRef=function(t){return D.current.useRef(t)},e.useState=function(t){return D.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return D.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return D.current.useTransition()},e.version="18.3.1"},234:(t,e)=>{function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,r=t[i];if(!(0<s(r,e)))break t;t[i]=e,t[n]=r,n=i}}function i(t){return 0===t.length?null:t[0]}function r(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length,o=r>>>1;i<o;){var a=2*(i+1)-1,l=t[a],c=a+1,u=t[c];if(0>s(l,n))c<r&&0>s(u,l)?(t[i]=u,t[c]=n,i=c):(t[i]=l,t[a]=n,i=a);else{if(!(c<r&&0>s(u,n)))break t;t[i]=u,t[c]=n,i=c}}}return e}function s(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(t){for(var e=i(u);null!==e;){if(null===e.callback)r(u);else{if(!(e.startTime<=t))break;r(u),e.sortIndex=e.expirationTime,n(c,e)}e=i(u)}}function x(t){if(g=!1,w(t),!m)if(null!==i(c))m=!0,M(_);else{var e=i(u);null!==e&&N(x,e.startTime-t)}}function _(t,n){m=!1,g&&(g=!1,v(T),T=-1),p=!0;var s=f;try{for(w(n),d=i(c);null!==d&&(!(d.expirationTime>n)||t&&!P());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=e.unstable_now(),"function"===typeof a?d.callback=a:d===i(c)&&r(c),w(n)}else r(c);d=i(c)}if(null!==d)var l=!0;else{var h=i(u);null!==h&&N(x,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,k=null,T=-1,C=5,I=-1;function P(){return!(e.unstable_now()-I<C)}function A(){if(null!==k){var t=e.unstable_now();I=t;var n=!0;try{n=k(!0,t)}finally{n?S():(E=!1,k=null)}}else E=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=A,S=function(){D.postMessage(null)}}else S=function(){y(A,0)};function M(t){k=t,E||(E=!0,S())}function N(t,n){T=y((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,M(_))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return i(c)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,r,s){var o=e.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:h++,callback:r,priorityLevel:t,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(t.sortIndex=s,n(u,t),null===i(c)&&t===i(u)&&(g?(v(T),T=-1):g=!0,N(x,s-o))):(t.sortIndex=a,n(c,t),m||p||(m=!0,M(_))),t},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}},391:(t,e,n)=>{var i=n(950);e.createRoot=i.createRoot,e.hydrateRoot=i.hydrateRoot},579:(t,e,n)=>{t.exports=n(153)},730:(t,e,n)=>{var i=n(43),r=n(853);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(a[t]=e,t=0;t<e.length;t++)o.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(t,e,n,i,r,s,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){g[t]=new m(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];g[e]=new m(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){g[t]=new m(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){g[t]=new m(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){g[t]=new m(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){g[t]=new m(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){g[t]=new m(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){g[t]=new m(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){g[t]=new m(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(t){return t[1].toUpperCase()}function b(t,e,n,i){var r=g.hasOwnProperty(e)?g[e]:null;(null!==r?0!==r.type:i||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,i)&&(n=null),i||null===r?function(t){return!!h.call(p,t)||!h.call(f,t)&&(d.test(t)?p[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,v);g[e]=new m(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,v);g[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,v);g[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function O(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=N&&t[N]||t["@@iterator"])?t:null}var L,F=Object.assign;function j(t){if(void 0===L)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||""}return"\n"+L+t}var V=!1;function U(t,e){if(!t||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),s=i.stack.split("\n"),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||r[o]!==s[a]){var l="\n"+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=o&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?j(t):""}function z(t){switch(t.tag){case 5:return j(t.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return t=U(t.type,!1);case 11:return t=U(t.type.render,!1);case 1:return t=U(t.type,!0);default:return""}}function B(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case S:return"Fragment";case _:return"Portal";case k:return"Profiler";case E:return"StrictMode";case P:return"Suspense";case A:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case C:return(t.displayName||"Context")+".Consumer";case T:return(t._context.displayName||"Context")+".Provider";case I:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case R:return null!==(e=t.displayName||null)?e:B(t.type)||"Memo";case D:e=t._payload,t=t._init;try{return B(t(e))}catch(n){}}return null}function $(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(e);case 8:return e===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function H(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function W(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function q(t){t._valueTracker||(t._valueTracker=function(t){var e=W(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function K(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=W(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function G(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(px){return t.body}}function Y(t,e){var n=e.checked;return F({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Q(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=H(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function X(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function J(t,e){X(t,e);var n=H(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,H(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Z(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&G(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+H(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function it(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return F({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(s(92));if(et(n)){if(1<n.length)throw Error(s(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:H(n)}}function st(t,e){var n=H(e.value),i=H(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function ot(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut,ht=(ut=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction((function(){return ut(t,e)}))}:ut);function dt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function mt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function gt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=mt(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(ft).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]}))}));var yt=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(t,e){if(e){if(yt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wt=null;function xt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var _t=null,St=null,Et=null;function kt(t){if(t=br(t)){if("function"!==typeof _t)throw Error(s(280));var e=t.stateNode;e&&(e=xr(e),_t(t.stateNode,t.type,e))}}function Tt(t){St?Et?Et.push(t):Et=[t]:St=t}function Ct(){if(St){var t=St,e=Et;if(Et=St=null,kt(t),e)for(t=0;t<e.length;t++)kt(e[t])}}function It(t,e){return t(e)}function Pt(){}var At=!1;function Rt(t,e,n){if(At)return t(e,n);At=!0;try{return It(t,e,n)}finally{At=!1,(null!==St||null!==Et)&&(Pt(),Ct())}}function Dt(t,e){var n=t.stateNode;if(null===n)return null;var i=xr(n);if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(s(231,e,typeof n));return n}var Mt=!1;if(u)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){Mt=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch(ut){Mt=!1}function Ot(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Lt=!1,Ft=null,jt=!1,Vt=null,Ut={onError:function(t){Lt=!0,Ft=t}};function zt(t,e,n,i,r,s,o,a,l){Lt=!1,Ft=null,Ot.apply(Ut,arguments)}function Bt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function $t(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Ht(t){if(Bt(t)!==t)throw Error(s(188))}function Wt(t){return t=function(t){var e=t.alternate;if(!e){if(null===(e=Bt(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Ht(r),t;if(o===i)return Ht(r),e;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=o;break}if(l===i){a=!0,i=r,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,i=r;break}if(l===i){a=!0,i=o,n=r;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(t),null!==t?qt(t):null}function qt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=qt(t);if(null!==e)return e;t=t.sibling}return null}var Kt=r.unstable_scheduleCallback,Gt=r.unstable_cancelCallback,Yt=r.unstable_shouldYield,Qt=r.unstable_requestPaint,Xt=r.unstable_now,Jt=r.unstable_getCurrentPriorityLevel,Zt=r.unstable_ImmediatePriority,te=r.unstable_UserBlockingPriority,ee=r.unstable_NormalPriority,ne=r.unstable_LowPriority,ie=r.unstable_IdlePriority,re=null,se=null;var oe=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/le|0)|0},ae=Math.log,le=Math.LN2;var ce=64,ue=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var n=t.pendingLanes;if(0===n)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=268435455&n;if(0!==o){var a=o&~r;0!==a?i=he(a):0!==(s&=o)&&(i=he(s))}else 0!==(o=n&~r)?i=he(o):0!==s&&(i=he(s));if(0===i)return 0;if(0!==e&&e!==i&&0===(e&r)&&((r=i&-i)>=(s=e&-e)||16===r&&0!==(4194240&s)))return e;if(0!==(4&i)&&(i|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=i;0<e;)r=1<<(n=31-oe(e)),i|=t[n],e&=~r;return i}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function me(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function ge(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ye(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-oe(e)]=n}function ve(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-oe(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var be=0;function we(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var xe,_e,Se,Ee,ke,Te=!1,Ce=[],Ie=null,Pe=null,Ae=null,Re=new Map,De=new Map,Me=[],Ne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oe(t,e){switch(t){case"focusin":case"focusout":Ie=null;break;case"dragenter":case"dragleave":Pe=null;break;case"mouseover":case"mouseout":Ae=null;break;case"pointerover":case"pointerout":Re.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":De.delete(e.pointerId)}}function Le(t,e,n,i,r,s){return null===t||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},null!==e&&(null!==(e=br(e))&&_e(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function Fe(t){var e=vr(t.target);if(null!==e){var n=Bt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=$t(n)))return t.blockedOn=e,void ke(t.priority,(function(){Se(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function je(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ye(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=br(n))&&_e(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);wt=i,n.target.dispatchEvent(i),wt=null,e.shift()}return!0}function Ve(t,e,n){je(t)&&n.delete(e)}function Ue(){Te=!1,null!==Ie&&je(Ie)&&(Ie=null),null!==Pe&&je(Pe)&&(Pe=null),null!==Ae&&je(Ae)&&(Ae=null),Re.forEach(Ve),De.forEach(Ve)}function ze(t,e){t.blockedOn===e&&(t.blockedOn=null,Te||(Te=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ue)))}function Be(t){function e(e){return ze(e,t)}if(0<Ce.length){ze(Ce[0],t);for(var n=1;n<Ce.length;n++){var i=Ce[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==Ie&&ze(Ie,t),null!==Pe&&ze(Pe,t),null!==Ae&&ze(Ae,t),Re.forEach(e),De.forEach(e),n=0;n<Me.length;n++)(i=Me[n]).blockedOn===t&&(i.blockedOn=null);for(;0<Me.length&&null===(n=Me[0]).blockedOn;)Fe(n),null===n.blockedOn&&Me.shift()}var $e=w.ReactCurrentBatchConfig,He=!0;function We(t,e,n,i){var r=be,s=$e.transition;$e.transition=null;try{be=1,Ke(t,e,n,i)}finally{be=r,$e.transition=s}}function qe(t,e,n,i){var r=be,s=$e.transition;$e.transition=null;try{be=4,Ke(t,e,n,i)}finally{be=r,$e.transition=s}}function Ke(t,e,n,i){if(He){var r=Ye(t,e,n,i);if(null===r)Hi(t,e,i,Ge,n),Oe(t,i);else if(function(t,e,n,i,r){switch(e){case"focusin":return Ie=Le(Ie,t,e,n,i,r),!0;case"dragenter":return Pe=Le(Pe,t,e,n,i,r),!0;case"mouseover":return Ae=Le(Ae,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Re.set(s,Le(Re.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,De.set(s,Le(De.get(s)||null,t,e,n,i,r)),!0}return!1}(r,t,e,n,i))i.stopPropagation();else if(Oe(t,i),4&e&&-1<Ne.indexOf(t)){for(;null!==r;){var s=br(r);if(null!==s&&xe(s),null===(s=Ye(t,e,n,i))&&Hi(t,e,i,Ge,n),s===r)break;r=s}null!==r&&i.stopPropagation()}else Hi(t,e,i,null,n)}}var Ge=null;function Ye(t,e,n,i){if(Ge=null,null!==(t=vr(t=xt(i))))if(null===(e=Bt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=$t(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ge=t,null}function Qe(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case Zt:return 1;case te:return 4;case ee:case ne:return 16;case ie:return 536870912;default:return 16}default:return 16}}var Xe=null,Je=null,Ze=null;function tn(){if(Ze)return Ze;var t,e,n=Je,i=n.length,r="value"in Xe?Xe.value:Xe.textContent,s=r.length;for(t=0;t<i&&n[t]===r[t];t++);var o=i-t;for(e=1;e<=o&&n[i-e]===r[s-e];e++);return Ze=r.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function sn(t){function e(e,n,i,r,s){for(var o in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=F({},cn,{view:0,detail:0}),dn=sn(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(on=t.screenX-ln.screenX,an=t.screenY-ln.screenY):an=on=0,ln=t),on)},movementY:function(t){return"movementY"in t?t.movementY:an}}),pn=sn(fn),mn=sn(F({},fn,{dataTransfer:0})),gn=sn(F({},hn,{relatedTarget:0})),yn=sn(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bn=sn(vn),wn=sn(F({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function kn(){return En}var Tn=F({},hn,{key:function(t){if(t.key){var e=xn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?_n[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Cn=sn(Tn),In=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),An=sn(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},fn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Rn),Mn=[9,13,27,32],Nn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Ln=u&&"TextEvent"in window&&!On,Fn=u&&(!Nn||On&&8<On&&11>=On),jn=String.fromCharCode(32),Vn=!1;function Un(t,e){switch(t){case"keyup":return-1!==Mn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Bn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!$n[t.type]:"textarea"===e}function Wn(t,e,n,i){Tt(i),0<(e=qi(e,"onChange")).length&&(n=new un("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var qn=null,Kn=null;function Gn(t){ji(t,0)}function Yn(t){if(K(wr(t)))return t}function Qn(t,e){if("change"===t)return e}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var ti=document.createElement("div");ti.setAttribute("oninput","return;"),Zn="function"===typeof ti.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function ei(){qn&&(qn.detachEvent("onpropertychange",ni),Kn=qn=null)}function ni(t){if("value"===t.propertyName&&Yn(Kn)){var e=[];Wn(e,Kn,t,xt(t)),Rt(Gn,e)}}function ii(t,e,n){"focusin"===t?(ei(),Kn=n,(qn=e).attachEvent("onpropertychange",ni)):"focusout"===t&&ei()}function ri(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Yn(Kn)}function si(t,e){if("click"===t)return Yn(e)}function oi(t,e){if("input"===t||"change"===t)return Yn(e)}var ai="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function li(t,e){if(ai(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(e,r)||!ai(t[r],e[r]))return!1}return!0}function ci(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ui(t,e){var n,i=ci(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=ci(i)}}function hi(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hi(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function di(){for(var t=window,e=G();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=G((t=e.contentWindow).document)}return e}function fi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pi(t){var e=di(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&fi(n))if(e=i.start,void 0===(t=i.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=void 0===i.end?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=ui(n,s);var o=ui(n,i);r&&o&&(1!==t.rangeCount||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&((e=e.createRange()).setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mi=u&&"documentMode"in document&&11>=document.documentMode,gi=null,yi=null,vi=null,bi=!1;function wi(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bi||null==gi||gi!==G(i)||("selectionStart"in(i=gi)&&fi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},vi&&li(vi,i)||(vi=i,0<(i=qi(yi,"onSelect")).length&&(e=new un("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=gi)))}function xi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _i={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},Si={},Ei={};function ki(t){if(Si[t])return Si[t];if(!_i[t])return t;var e,n=_i[t];for(e in n)if(n.hasOwnProperty(e)&&e in Ei)return Si[t]=n[e];return t}u&&(Ei=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);var Ti=ki("animationend"),Ci=ki("animationiteration"),Ii=ki("animationstart"),Pi=ki("transitionend"),Ai=new Map,Ri="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(t,e){Ai.set(t,e),l(e,[t])}for(var Mi=0;Mi<Ri.length;Mi++){var Ni=Ri[Mi];Di(Ni.toLowerCase(),"on"+(Ni[0].toUpperCase()+Ni.slice(1)))}Di(Ti,"onAnimationEnd"),Di(Ci,"onAnimationIteration"),Di(Ii,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(Pi,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Li=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oi));function Fi(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,i,r,o,a,l,c){if(zt.apply(this,arguments),Lt){if(!Lt)throw Error(s(198));var u=Ft;Lt=!1,Ft=null,jt||(jt=!0,Vt=u)}}(i,e,void 0,t),t.currentTarget=null}function ji(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;t:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break t;Fi(r,a,c),s=l}else for(o=0;o<i.length;o++){if(l=(a=i[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break t;Fi(r,a,c),s=l}}}if(jt)throw t=Vt,jt=!1,Vt=null,t}function Vi(t,e){var n=e[mr];void 0===n&&(n=e[mr]=new Set);var i=t+"__bubble";n.has(i)||($i(e,t,2,!1),n.add(i))}function Ui(t,e,n){var i=0;e&&(i|=4),$i(n,t,i,e)}var zi="_reactListening"+Math.random().toString(36).slice(2);function Bi(t){if(!t[zi]){t[zi]=!0,o.forEach((function(e){"selectionchange"!==e&&(Li.has(e)||Ui(e,!1,t),Ui(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[zi]||(e[zi]=!0,Ui("selectionchange",!1,e))}}function $i(t,e,n,i){switch(Qe(e)){case 1:var r=We;break;case 4:r=qe;break;default:r=Ke}n=r.bind(null,e,n,t),r=void 0,!Mt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),i?void 0!==r?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):void 0!==r?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Hi(t,e,n,i,r){var s=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==a;){if(null===(o=vr(a)))return;if(5===(l=o.tag)||6===l){i=s=o;continue t}a=a.parentNode}}i=i.return}Rt((function(){var i=s,r=xt(n),o=[];t:{var a=Ai.get(t);if(void 0!==a){var l=un,c=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Ti:case Ci:case Ii:l=yn;break;case Pi:l=An;break;case"scroll":l=dn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&e),h=!u&&"scroll"===t,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=i;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Dt(p,d))&&u.push(Wi(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,r),o.push({event:a,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||n===wt||!(c=n.relatedTarget||n.fromElement)||!vr(c)&&!c[pr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?vr(c):null)&&(c!==(h=Bt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(u=In,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:wr(l),f=null==c?a:wr(c),(a=new u(m,p+"leave",l,n,r)).target=h,a.relatedTarget=f,m=null,vr(r)===i&&((u=new u(d,p+"enter",c,n,r)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)t:{for(d=c,p=0,f=u=l;f;f=Ki(f))p++;for(f=0,m=d;m;m=Ki(m))f++;for(;0<p-f;)u=Ki(u),p--;for(;0<f-p;)d=Ki(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break t;u=Ki(u),d=Ki(d)}u=null}else u=null;null!==l&&Gi(o,a,l,u,!1),null!==c&&null!==h&&Gi(o,h,c,u,!0)}if("select"===(l=(a=i?wr(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Qn;else if(Hn(a))if(Xn)g=oi;else{g=ri;var y=ii}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=si);switch(g&&(g=g(t,i))?Wn(o,g,n,r):(y&&y(t,a,i),"focusout"===t&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&tt(a,"number",a.value)),y=i?wr(i):window,t){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gi=y,yi=i,vi=null);break;case"focusout":vi=yi=gi=null;break;case"mousedown":bi=!0;break;case"contextmenu":case"mouseup":case"dragend":bi=!1,wi(o,n,r);break;case"selectionchange":if(mi)break;case"keydown":case"keyup":wi(o,n,r)}var v;if(Nn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Bn?Un(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(v=tn()):(Je="value"in(Xe=r)?Xe.value:Xe.textContent,Bn=!0)),0<(y=qi(i,b)).length&&(b=new wn(b,t,null,n,r),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=zn(n))&&(b.data=v))),(v=Ln?function(t,e){switch(t){case"compositionend":return zn(e);case"keypress":return 32!==e.which?null:(Vn=!0,jn);case"textInput":return(t=e.data)===jn&&Vn?null:t;default:return null}}(t,n):function(t,e){if(Bn)return"compositionend"===t||!Nn&&Un(t,e)?(t=tn(),Ze=Je=Xe=null,Bn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(i=qi(i,"onBeforeInput")).length&&(r=new wn("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:i}),r.data=v))}ji(o,e)}))}function Wi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qi(t,e){for(var n=e+"Capture",i=[];null!==t;){var r=t,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Dt(t,n))&&i.unshift(Wi(t,s,r)),null!=(s=Dt(t,e))&&i.push(Wi(t,s,r))),t=t.return}return i}function Ki(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Gi(t,e,n,i,r){for(var s=e._reactName,o=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,r?null!=(l=Dt(n,s))&&o.unshift(Wi(n,l,a)):r||null!=(l=Dt(n,s))&&o.push(Wi(n,l,a))),n=n.return}0!==o.length&&t.push({event:e,listeners:o})}var Yi=/\r\n?/g,Qi=/\u0000|\uFFFD/g;function Xi(t){return("string"===typeof t?t:""+t).replace(Yi,"\n").replace(Qi,"")}function Ji(t,e,n){if(e=Xi(e),Xi(t)!==e&&n)throw Error(s(425))}function Zi(){}var tr=null,er=null;function nr(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(t){return sr.resolve(null).then(t).catch(ar)}:ir;function ar(t){setTimeout((function(){throw t}))}function lr(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return t.removeChild(r),void Be(e);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Be(e)}function cr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ur(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hr=Math.random().toString(36).slice(2),dr="__reactFiber$"+hr,fr="__reactProps$"+hr,pr="__reactContainer$"+hr,mr="__reactEvents$"+hr,gr="__reactListeners$"+hr,yr="__reactHandles$"+hr;function vr(t){var e=t[dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pr]||n[dr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ur(t);null!==t;){if(n=t[dr])return n;t=ur(t)}return e}n=(t=n).parentNode}return null}function br(t){return!(t=t[dr]||t[pr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function wr(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function xr(t){return t[fr]||null}var _r=[],Sr=-1;function Er(t){return{current:t}}function kr(t){0>Sr||(t.current=_r[Sr],_r[Sr]=null,Sr--)}function Tr(t,e){Sr++,_r[Sr]=t.current,t.current=e}var Cr={},Ir=Er(Cr),Pr=Er(!1),Ar=Cr;function Rr(t,e){var n=t.type.contextTypes;if(!n)return Cr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Dr(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Mr(){kr(Pr),kr(Ir)}function Nr(t,e,n){if(Ir.current!==Cr)throw Error(s(168));Tr(Ir,e),Tr(Pr,n)}function Or(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in e))throw Error(s(108,$(t)||"Unknown",r));return F({},n,i)}function Lr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cr,Ar=Ir.current,Tr(Ir,t),Tr(Pr,Pr.current),!0}function Fr(t,e,n){var i=t.stateNode;if(!i)throw Error(s(169));n?(t=Or(t,e,Ar),i.__reactInternalMemoizedMergedChildContext=t,kr(Pr),kr(Ir),Tr(Ir,t)):kr(Pr),Tr(Pr,n)}var jr=null,Vr=!1,Ur=!1;function zr(t){null===jr?jr=[t]:jr.push(t)}function Br(){if(!Ur&&null!==jr){Ur=!0;var t=0,e=be;try{var n=jr;for(be=1;t<n.length;t++){var i=n[t];do{i=i(!0)}while(null!==i)}jr=null,Vr=!1}catch(r){throw null!==jr&&(jr=jr.slice(t+1)),Kt(Zt,Br),r}finally{be=e,Ur=!1}}return null}var $r=[],Hr=0,Wr=null,qr=0,Kr=[],Gr=0,Yr=null,Qr=1,Xr="";function Jr(t,e){$r[Hr++]=qr,$r[Hr++]=Wr,Wr=t,qr=e}function Zr(t,e,n){Kr[Gr++]=Qr,Kr[Gr++]=Xr,Kr[Gr++]=Yr,Yr=t;var i=Qr;t=Xr;var r=32-oe(i)-1;i&=~(1<<r),n+=1;var s=32-oe(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Qr=1<<32-oe(e)+r|n<<r|i,Xr=s+t}else Qr=1<<s|n<<r|i,Xr=t}function ts(t){null!==t.return&&(Jr(t,1),Zr(t,1,0))}function es(t){for(;t===Wr;)Wr=$r[--Hr],$r[Hr]=null,qr=$r[--Hr],$r[Hr]=null;for(;t===Yr;)Yr=Kr[--Gr],Kr[Gr]=null,Xr=Kr[--Gr],Kr[Gr]=null,Qr=Kr[--Gr],Kr[Gr]=null}var ns=null,is=null,rs=!1,ss=null;function os(t,e){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function as(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,ns=t,is=cr(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,ns=t,is=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Yr?{id:Qr,overflow:Xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,ns=t,is=null,!0);default:return!1}}function ls(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function cs(t){if(rs){var e=is;if(e){var n=e;if(!as(t,e)){if(ls(t))throw Error(s(418));e=cr(n.nextSibling);var i=ns;e&&as(t,e)?os(i,n):(t.flags=-4097&t.flags|2,rs=!1,ns=t)}}else{if(ls(t))throw Error(s(418));t.flags=-4097&t.flags|2,rs=!1,ns=t}}}function us(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ns=t}function hs(t){if(t!==ns)return!1;if(!rs)return us(t),rs=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!nr(t.type,t.memoizedProps)),e&&(e=is)){if(ls(t))throw ds(),Error(s(418));for(;e;)os(t,e),e=cr(e.nextSibling)}if(us(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){is=cr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}is=null}}else is=ns?cr(t.stateNode.nextSibling):null;return!0}function ds(){for(var t=is;t;)t=cr(t.nextSibling)}function fs(){is=ns=null,rs=!1}function ps(t){null===ss?ss=[t]:ss.push(t)}var ms=w.ReactCurrentBatchConfig;function gs(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,t));var r=i,o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=r.refs;null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}if("string"!==typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function ys(t,e){throw t=Object.prototype.toString.call(e),Error(s(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vs(t){return(0,t._init)(t._payload)}function bs(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Mc(t,e)).index=0,t.sibling=null,t}function o(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=2,n):i:(e.flags|=2,n):(e.flags|=1048576,n)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Fc(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function c(t,e,n,i){var s=n.type;return s===S?h(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&vs(s)===e.type)?((i=r(e,n.props)).ref=gs(t,e,n),i.return=t,i):((i=Nc(n.type,n.key,n.props,null,t.mode,i)).ref=gs(t,e,n),i.return=t,i)}function u(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=jc(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function h(t,e,n,i,s){return null===e||7!==e.tag?((e=Oc(n,t.mode,i,s)).return=t,e):((e=r(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Fc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case x:return(n=Nc(e.type,e.key,e.props,null,t.mode,n)).ref=gs(t,null,e),n.return=t,n;case _:return(e=jc(e,t.mode,n)).return=t,e;case D:return d(t,(0,e._init)(e._payload),n)}if(et(e)||O(e))return(e=Oc(e,t.mode,n,null)).return=t,e;ys(t,e)}return null}function f(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===r?c(t,e,n,i):null;case _:return n.key===r?u(t,e,n,i):null;case D:return f(t,e,(r=n._init)(n._payload),i)}if(et(n)||O(n))return null!==r?null:h(t,e,n,i,null);ys(t,n)}return null}function p(t,e,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(e,t=t.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case x:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r);case _:return u(e,t=t.get(null===i.key?n:i.key)||null,i,r);case D:return p(t,e,n,(0,i._init)(i._payload),r)}if(et(i)||O(i))return h(e,t=t.get(n)||null,i,r,null);ys(e,i)}return null}function m(r,s,a,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(r,h,a[m],l);if(null===y){null===h&&(h=g);break}t&&h&&null===y.alternate&&e(r,h),s=o(y,s,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===a.length)return n(r,h),rs&&Jr(r,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(r,a[m],l))&&(s=o(h,s,m),null===u?c=h:u.sibling=h,u=h);return rs&&Jr(r,m),c}for(h=i(r,h);m<a.length;m++)null!==(g=p(h,r,m,a[m],l))&&(t&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return t&&h.forEach((function(t){return e(r,t)})),rs&&Jr(r,m),c}function g(r,a,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(r,m,v.value,c);if(null===b){null===m&&(m=y);break}t&&m&&null===b.alternate&&e(r,m),a=o(b,a,g),null===h?u=b:h.sibling=b,h=b,m=y}if(v.done)return n(r,m),rs&&Jr(r,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(r,v.value,c))&&(a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return rs&&Jr(r,g),u}for(m=i(r,m);!v.done;g++,v=l.next())null!==(v=p(m,r,g,v.value,c))&&(t&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return t&&m.forEach((function(t){return e(r,t)})),rs&&Jr(r,g),u}return function t(i,s,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:t:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===S){if(7===u.tag){n(i,u.sibling),(s=r(u,o.props.children)).return=i,i=s;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&vs(c)===u.type){n(i,u.sibling),(s=r(u,o.props)).ref=gs(i,u,o),s.return=i,i=s;break t}n(i,u);break}e(i,u),u=u.sibling}o.type===S?((s=Oc(o.props.children,i.mode,l,o.key)).return=i,i=s):((l=Nc(o.type,o.key,o.props,null,i.mode,l)).ref=gs(i,s,o),l.return=i,i=l)}return a(i);case _:t:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(i,s.sibling),(s=r(s,o.children||[])).return=i,i=s;break t}n(i,s);break}e(i,s),s=s.sibling}(s=jc(o,i.mode,l)).return=i,i=s}return a(i);case D:return t(i,s,(u=o._init)(o._payload),l)}if(et(o))return m(i,s,o,l);if(O(o))return g(i,s,o,l);ys(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(i,s.sibling),(s=r(s,o)).return=i,i=s):(n(i,s),(s=Fc(o,i.mode,l)).return=i,i=s),a(i)):n(i,s)}}var ws=bs(!0),xs=bs(!1),_s=Er(null),Ss=null,Es=null,ks=null;function Ts(){ks=Es=Ss=null}function Cs(t){var e=_s.current;kr(_s),t._currentValue=e}function Is(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Ps(t,e){Ss=t,ks=Es=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(ba=!0),t.firstContext=null)}function As(t){var e=t._currentValue;if(ks!==t)if(t={context:t,memoizedValue:e,next:null},null===Es){if(null===Ss)throw Error(s(308));Es=t,Ss.dependencies={lanes:0,firstContext:t}}else Es=Es.next=t;return e}var Rs=null;function Ds(t){null===Rs?Rs=[t]:Rs.push(t)}function Ms(t,e,n,i){var r=e.interleaved;return null===r?(n.next=n,Ds(e)):(n.next=r.next,r.next=n),e.interleaved=n,Ns(t,i)}function Ns(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Os=!1;function Ls(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function js(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vs(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Il)){var r=i.pending;return null===r?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ns(t,n)}return null===(r=i.interleaved)?(e.next=e,Ds(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ns(t,n)}function Us(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ve(t,n)}}function zs(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?r=s=e:s=s.next=e}else r=s=e;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bs(t,e,n,i){var r=t.updateQueue;Os=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=t.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=r.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((i&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,m=a;switch(d=e,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break t;h=F({},h,d);break t;case 2:Os=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(d=r.effects)?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(d=a).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===u&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(e=r.shared.interleaved)){r=e;do{o|=r.lane,r=r.next}while(r!==e)}else null===s&&(r.shared.lanes=0);Ll|=o,t.lanes=o,t.memoizedState=h}}function $s(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var Hs={},Ws=Er(Hs),qs=Er(Hs),Ks=Er(Hs);function Gs(t){if(t===Hs)throw Error(s(174));return t}function Ys(t,e){switch(Tr(Ks,e),Tr(qs,t),Tr(Ws,Hs),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}kr(Ws),Tr(Ws,e)}function Qs(){kr(Ws),kr(qs),kr(Ks)}function Xs(t){Gs(Ks.current);var e=Gs(Ws.current),n=lt(e,t.type);e!==n&&(Tr(qs,t),Tr(Ws,n))}function Js(t){qs.current===t&&(kr(Ws),kr(qs))}var Zs=Er(0);function to(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var eo=[];function no(){for(var t=0;t<eo.length;t++)eo[t]._workInProgressVersionPrimary=null;eo.length=0}var io=w.ReactCurrentDispatcher,ro=w.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(s(321))}function mo(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ai(t[n],e[n]))return!1;return!0}function go(t,e,n,i,r,o){if(so=o,oo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,io.current=null===t||null===t.memoizedState?Zo:ta,t=n(i,r),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,e.updateQueue=null,io.current=ea,t=n(i,r)}while(uo)}if(io.current=Jo,e=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,co=!1,e)throw Error(s(300));return t}function yo(){var t=0!==ho;return ho=0,t}function vo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=t:lo=lo.next=t,lo}function bo(){if(null===ao){var t=oo.alternate;t=null!==t?t.memoizedState:null}else t=ao.next;var e=null===lo?oo.memoizedState:lo.next;if(null!==e)lo=e,ao=t;else{if(null===t)throw Error(s(310));t={memoizedState:(ao=t).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=t:lo=lo.next=t}return lo}function wo(t,e){return"function"===typeof e?e(t):e}function xo(t){var e=bo(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=ao,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,i=i.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((so&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=i):c=c.next=d,oo.lanes|=h,Ll|=h}u=u.next}while(null!==u&&u!==o);null===c?a=i:c.next=l,ai(i,e.memoizedState)||(ba=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=c,n.lastRenderedState=i}if(null!==(t=n.interleaved)){r=t;do{o=r.lane,oo.lanes|=o,Ll|=o,r=r.next}while(r!==t)}else null===r&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _o(t){var e=bo(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=t(o,a.action),a=a.next}while(a!==r);ai(o,e.memoizedState)||(ba=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function So(){}function Eo(t,e){var n=oo,i=bo(),r=e(),o=!ai(i.memoizedState,r);if(o&&(i.memoizedState=r,ba=!0),i=i.queue,Lo(Co.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Ro(9,To.bind(null,n,i,r,e),void 0,null),null===Pl)throw Error(s(349));0!==(30&so)||ko(n,e,r)}return r}function ko(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=oo.updateQueue)?(e={lastEffect:null,stores:null},oo.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function To(t,e,n,i){e.value=n,e.getSnapshot=i,Io(e)&&Po(t)}function Co(t,e,n){return n((function(){Io(e)&&Po(t)}))}function Io(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ai(t,n)}catch(i){return!0}}function Po(t){var e=Ns(t,1);null!==e&&nc(e,t,1,-1)}function Ao(t){var e=vo();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:t},e.queue=t,t=t.dispatch=Go.bind(null,oo,t),[e.memoizedState,t]}function Ro(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=oo.updateQueue)?(e={lastEffect:null,stores:null},oo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Do(){return bo().memoizedState}function Mo(t,e,n,i){var r=vo();oo.flags|=t,r.memoizedState=Ro(1|e,n,void 0,void 0===i?null:i)}function No(t,e,n,i){var r=bo();i=void 0===i?null:i;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==i&&mo(i,o.deps))return void(r.memoizedState=Ro(e,n,s,i))}oo.flags|=t,r.memoizedState=Ro(1|e,n,s,i)}function Oo(t,e){return Mo(8390656,8,t,e)}function Lo(t,e){return No(2048,8,t,e)}function Fo(t,e){return No(4,2,t,e)}function jo(t,e){return No(4,4,t,e)}function Vo(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Uo(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,No(4,4,Vo.bind(null,e,t),n)}function zo(){}function Bo(t,e){var n=bo();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&mo(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function $o(t,e){var n=bo();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&mo(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Ho(t,e,n){return 0===(21&so)?(t.baseState&&(t.baseState=!1,ba=!0),t.memoizedState=n):(ai(n,e)||(n=me(),oo.lanes|=n,Ll|=n,t.baseState=!0),e)}function Wo(t,e){var n=be;be=0!==n&&4>n?n:4,t(!0);var i=ro.transition;ro.transition={};try{t(!1),e()}finally{be=n,ro.transition=i}}function qo(){return bo().memoizedState}function Ko(t,e,n){var i=ec(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Yo(t))Qo(e,n);else if(null!==(n=Ms(t,e,n,i))){nc(n,t,i,tc()),Xo(n,e,i)}}function Go(t,e,n){var i=ec(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yo(t))Qo(e,r);else{var s=t.alternate;if(0===t.lanes&&(null===s||0===s.lanes)&&null!==(s=e.lastRenderedReducer))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,ai(a,o)){var l=e.interleaved;return null===l?(r.next=r,Ds(e)):(r.next=l.next,l.next=r),void(e.interleaved=r)}}catch(c){}null!==(n=Ms(t,e,r,i))&&(nc(n,t,i,r=tc()),Xo(n,e,i))}}function Yo(t){var e=t.alternate;return t===oo||null!==e&&e===oo}function Qo(t,e){uo=co=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Xo(t,e,n){if(0!==(4194240&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ve(t,n)}}var Jo={readContext:As,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:As,useCallback:function(t,e){return vo().memoizedState=[t,void 0===e?null:e],t},useContext:As,useEffect:Oo,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Mo(4194308,4,Vo.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Mo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mo(4,2,t,e)},useMemo:function(t,e){var n=vo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=vo();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=Ko.bind(null,oo,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},vo().memoizedState=t},useState:Ao,useDebugValue:zo,useDeferredValue:function(t){return vo().memoizedState=t},useTransition:function(){var t=Ao(!1),e=t[0];return t=Wo.bind(null,t[1]),vo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=oo,r=vo();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=e(),null===Pl)throw Error(s(349));0!==(30&so)||ko(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,Oo(Co.bind(null,i,o,t),[t]),i.flags|=2048,Ro(9,To.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=vo(),e=Pl.identifierPrefix;if(rs){var n=Xr;e=":"+e+"R"+(n=(Qr&~(1<<32-oe(Qr)-1)).toString(32)+n),0<(n=ho++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=fo++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ta={readContext:As,useCallback:Bo,useContext:As,useEffect:Lo,useImperativeHandle:Uo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:$o,useReducer:xo,useRef:Do,useState:function(){return xo(wo)},useDebugValue:zo,useDeferredValue:function(t){return Ho(bo(),ao.memoizedState,t)},useTransition:function(){return[xo(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Eo,useId:qo,unstable_isNewReconciler:!1},ea={readContext:As,useCallback:Bo,useContext:As,useEffect:Lo,useImperativeHandle:Uo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:$o,useReducer:_o,useRef:Do,useState:function(){return _o(wo)},useDebugValue:zo,useDeferredValue:function(t){var e=bo();return null===ao?e.memoizedState=t:Ho(e,ao.memoizedState,t)},useTransition:function(){return[_o(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Eo,useId:qo,unstable_isNewReconciler:!1};function na(t,e){if(t&&t.defaultProps){for(var n in e=F({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function ia(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:F({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var ra={isMounted:function(t){return!!(t=t._reactInternals)&&Bt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=tc(),r=ec(t),s=js(i,r);s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=Vs(t,s,r))&&(nc(e,t,r,i),Us(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=tc(),r=ec(t),s=js(i,r);s.tag=1,s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=Vs(t,s,r))&&(nc(e,t,r,i),Us(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tc(),i=ec(t),r=js(n,i);r.tag=2,void 0!==e&&null!==e&&(r.callback=e),null!==(e=Vs(t,r,i))&&(nc(e,t,i,n),Us(e,t,i))}};function sa(t,e,n,i,r,s,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,s,o):!e.prototype||!e.prototype.isPureReactComponent||(!li(n,i)||!li(r,s))}function oa(t,e,n){var i=!1,r=Cr,s=e.contextType;return"object"===typeof s&&null!==s?s=As(s):(r=Dr(e)?Ar:Ir.current,s=(i=null!==(i=e.contextTypes)&&void 0!==i)?Rr(t,r):Cr),e=new e(n,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=ra,t.stateNode=e,e._reactInternals=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function aa(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&ra.enqueueReplaceState(e,e.state,null)}function la(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Ls(t);var s=e.contextType;"object"===typeof s&&null!==s?r.context=As(s):(s=Dr(e)?Ar:Ir.current,r.context=Rr(t,s)),r.state=t.memoizedState,"function"===typeof(s=e.getDerivedStateFromProps)&&(ia(t,e,s,n),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&ra.enqueueReplaceState(r,r.state,null),Bs(t,n,r,i),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308)}function ca(t,e){try{var n="",i=e;do{n+=z(i),i=i.return}while(i);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:t,source:e,stack:r,digest:null}}function ua(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function ha(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(t,e,n){(n=js(-1,n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Hl||(Hl=!0,Wl=i),ha(0,e)},n}function pa(t,e,n){(n=js(-1,n)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){ha(0,e)}}var s=t.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,e),"function"!==typeof i&&(null===ql?ql=new Set([this]):ql.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function ma(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new da;var r=new Set;i.set(e,r)}else void 0===(r=i.get(e))&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=kc.bind(null,t,e,n),e.then(t,t))}function ga(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ya(t,e,n,i,r){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=js(-1,1)).tag=2,Vs(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=r,t)}var va=w.ReactCurrentOwner,ba=!1;function wa(t,e,n,i){e.child=null===t?xs(e,null,n,i):ws(e,t.child,n,i)}function xa(t,e,n,i,r){n=n.render;var s=e.ref;return Ps(e,r),i=go(t,e,n,i,s,r),n=yo(),null===t||ba?(rs&&n&&ts(e),e.flags|=1,wa(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ha(t,e,r))}function _a(t,e,n,i,r){if(null===t){var s=n.type;return"function"!==typeof s||Dc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Nc(n.type,null,i,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,Sa(t,e,s,i,r))}if(s=t.child,0===(t.lanes&r)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:li)(o,i)&&t.ref===e.ref)return Ha(t,e,r)}return e.flags|=1,(t=Mc(s,i)).ref=e.ref,t.return=e,e.child=t}function Sa(t,e,n,i,r){if(null!==t){var s=t.memoizedProps;if(li(s,i)&&t.ref===e.ref){if(ba=!1,e.pendingProps=i=s,0===(t.lanes&r))return e.lanes=t.lanes,Ha(t,e,r);0!==(131072&t.flags)&&(ba=!0)}}return Ta(t,e,n,i,r)}function Ea(t,e,n){var i=e.pendingProps,r=i.children,s=null!==t?t.memoizedState:null;if("hidden"===i.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tr(Ml,Dl),Dl|=n;else{if(0===(1073741824&n))return t=null!==s?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Tr(Ml,Dl),Dl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==s?s.baseLanes:n,Tr(Ml,Dl),Dl|=i}else null!==s?(i=s.baseLanes|n,e.memoizedState=null):i=n,Tr(Ml,Dl),Dl|=i;return wa(t,e,r,n),e.child}function ka(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ta(t,e,n,i,r){var s=Dr(n)?Ar:Ir.current;return s=Rr(e,s),Ps(e,r),n=go(t,e,n,i,s,r),i=yo(),null===t||ba?(rs&&i&&ts(e),e.flags|=1,wa(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ha(t,e,r))}function Ca(t,e,n,i,r){if(Dr(n)){var s=!0;Lr(e)}else s=!1;if(Ps(e,r),null===e.stateNode)$a(t,e),oa(e,n,i),la(e,n,i,r),i=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=As(c):c=Rr(e,c=Dr(n)?Ar:Ir.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==i||l!==c)&&aa(e,o,i,c),Os=!1;var d=e.memoizedState;o.state=d,Bs(e,i,o,r),l=e.memoizedState,a!==i||d!==l||Pr.current||Os?("function"===typeof u&&(ia(e,n,u,i),l=e.memoizedState),(a=Os||sa(e,n,a,i,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.flags|=4194308)):("function"===typeof o.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):("function"===typeof o.componentDidMount&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Fs(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:na(e.type,a),o.props=c,h=e.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=As(l):l=Rr(e,l=Dr(n)?Ar:Ir.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&aa(e,o,i,l),Os=!1,d=e.memoizedState,o.state=d,Bs(e,i,o,r);var p=e.memoizedState;a!==h||d!==p||Pr.current||Os?("function"===typeof f&&(ia(e,n,f,i),p=e.memoizedState),(c=Os||sa(e,n,c,i,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof o.componentDidUpdate&&(e.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=c):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return Ia(t,e,n,i,s,r)}function Ia(t,e,n,i,r,s){ka(t,e);var o=0!==(128&e.flags);if(!i&&!o)return r&&Fr(e,n,!1),Ha(t,e,s);i=e.stateNode,va.current=e;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.flags|=1,null!==t&&o?(e.child=ws(e,t.child,null,s),e.child=ws(e,null,a,s)):wa(t,e,a,s),e.memoizedState=i.state,r&&Fr(e,n,!0),e.child}function Pa(t){var e=t.stateNode;e.pendingContext?Nr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Nr(0,e.context,!1),Ys(t,e.containerInfo)}function Aa(t,e,n,i,r){return fs(),ps(r),e.flags|=256,wa(t,e,n,i),e.child}var Ra,Da,Ma,Na,Oa={dehydrated:null,treeContext:null,retryLane:0};function La(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fa(t,e,n){var i,r=e.pendingProps,o=Zs.current,a=!1,l=0!==(128&e.flags);if((i=l)||(i=(null===t||null!==t.memoizedState)&&0!==(2&o)),i?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(o|=1),Tr(Zs,1&o),null===t)return cs(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=r.children,t=r.fallback,a?(r=e.mode,a=e.child,l={mode:"hidden",children:l},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Lc(l,r,0,null),t=Oc(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=La(n),e.memoizedState=Oa,t):ja(e,l));if(null!==(o=t.memoizedState)&&null!==(i=o.dehydrated))return function(t,e,n,i,r,o,a){if(n)return 256&e.flags?(e.flags&=-257,Va(t,e,a,i=ua(Error(s(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=Lc({mode:"visible",children:i.children},r,0,null),(o=Oc(o,r,a,null)).flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,0!==(1&e.mode)&&ws(e,t.child,null,a),e.child.memoizedState=La(a),e.memoizedState=Oa,o);if(0===(1&e.mode))return Va(t,e,a,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Va(t,e,a,i=ua(o=Error(s(419)),i,void 0))}if(l=0!==(a&t.childLanes),ba||l){if(null!==(i=Pl)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|a))?0:r)&&r!==o.retryLane&&(o.retryLane=r,Ns(t,r),nc(i,t,r,-1))}return mc(),Va(t,e,a,i=ua(Error(s(421))))}return"$?"===r.data?(e.flags|=128,e.child=t.child,e=Cc.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,is=cr(r.nextSibling),ns=e,rs=!0,ss=null,null!==t&&(Kr[Gr++]=Qr,Kr[Gr++]=Xr,Kr[Gr++]=Yr,Qr=t.id,Xr=t.overflow,Yr=e),e=ja(e,i.children),e.flags|=4096,e)}(t,e,l,r,i,o,n);if(a){a=r.fallback,l=e.mode,i=(o=t.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&e.child!==o?((r=e.child).childLanes=0,r.pendingProps=c,e.deletions=null):(r=Mc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==i?a=Mc(i,a):(a=Oc(a,l,n,null)).flags|=2,a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,l=null===(l=t.child.memoizedState)?La(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=Oa,r}return t=(a=t.child).sibling,r=Mc(a,{mode:"visible",children:r.children}),0===(1&e.mode)&&(r.lanes=n),r.return=e,r.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ja(t,e){return(e=Lc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Va(t,e,n,i){return null!==i&&ps(i),ws(e,t.child,null,n),(t=ja(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Ua(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),Is(t.return,e,n)}function za(t,e,n,i,r){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Ba(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(wa(t,e,i.children,n),0!==(2&(i=Zs.current)))i=1&i|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ua(t,n,e);else if(19===t.tag)Ua(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Tr(Zs,i),0===(1&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===to(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),za(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===to(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}za(e,!0,n,null,s);break;case"together":za(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $a(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ha(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Ll|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=Mc(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Mc(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Wa(t,e){if(!rs)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function qa(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Ka(t,e,n){var i=e.pendingProps;switch(es(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qa(e),null;case 1:case 17:return Dr(e.type)&&Mr(),qa(e),null;case 3:return i=e.stateNode,Qs(),kr(Pr),kr(Ir),no(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||(hs(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==ss&&(oc(ss),ss=null))),Da(t,e),qa(e),null;case 5:Js(e);var r=Gs(Ks.current);if(n=e.type,null!==t&&null!=e.stateNode)Ma(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(null===e.stateNode)throw Error(s(166));return qa(e),null}if(t=Gs(Ws.current),hs(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[dr]=e,i[fr]=o,t=0!==(1&e.mode),n){case"dialog":Vi("cancel",i),Vi("close",i);break;case"iframe":case"object":case"embed":Vi("load",i);break;case"video":case"audio":for(r=0;r<Oi.length;r++)Vi(Oi[r],i);break;case"source":Vi("error",i);break;case"img":case"image":case"link":Vi("error",i),Vi("load",i);break;case"details":Vi("toggle",i);break;case"input":Q(i,o),Vi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Vi("invalid",i);break;case"textarea":rt(i,o),Vi("invalid",i)}for(var l in vt(n,o),r=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==o.suppressHydrationWarning&&Ji(i.textContent,c,t),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Ji(i.textContent,c,t),r=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vi("scroll",i)}switch(n){case"input":q(i),Z(i,o,!0);break;case"textarea":q(i),ot(i);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(i.onclick=Zi)}i=r,e.updateQueue=i,null!==i&&(e.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),"select"===n&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[dr]=e,t[fr]=i,Ra(t,e,!1,!1),e.stateNode=t;t:{switch(l=bt(n,i),n){case"dialog":Vi("cancel",t),Vi("close",t),r=i;break;case"iframe":case"object":case"embed":Vi("load",t),r=i;break;case"video":case"audio":for(r=0;r<Oi.length;r++)Vi(Oi[r],t);r=i;break;case"source":Vi("error",t),r=i;break;case"img":case"image":case"link":Vi("error",t),Vi("load",t),r=i;break;case"details":Vi("toggle",t),r=i;break;case"input":Q(t,i),r=Y(t,i),Vi("invalid",t);break;case"option":default:r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=F({},i,{value:void 0}),Vi("invalid",t);break;case"textarea":rt(t,i),r=it(t,i),Vi("invalid",t)}for(o in vt(n,r),c=r)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?gt(t,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&ht(t,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&dt(t,u):"number"===typeof u&&dt(t,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Vi("scroll",t):null!=u&&b(t,o,u,l))}switch(n){case"input":q(t),Z(t,i,!1);break;case"textarea":q(t),ot(t);break;case"option":null!=i.value&&t.setAttribute("value",""+H(i.value));break;case"select":t.multiple=!!i.multiple,null!=(o=i.value)?nt(t,!!i.multiple,o,!1):null!=i.defaultValue&&nt(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(t.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return qa(e),null;case 6:if(t&&null!=e.stateNode)Na(t,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(s(166));if(n=Gs(Ks.current),Gs(Ws.current),hs(e)){if(i=e.stateNode,n=e.memoizedProps,i[dr]=e,(o=i.nodeValue!==n)&&null!==(t=ns))switch(t.tag){case 3:Ji(i.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!==(1&t.mode))}o&&(e.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[dr]=e,e.stateNode=i}return qa(e),null;case 13:if(kr(Zs),i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(rs&&null!==is&&0!==(1&e.mode)&&0===(128&e.flags))ds(),fs(),e.flags|=98560,o=!1;else if(o=hs(e),null!==i&&null!==i.dehydrated){if(null===t){if(!o)throw Error(s(318));if(!(o=null!==(o=e.memoizedState)?o.dehydrated:null))throw Error(s(317));o[dr]=e}else fs(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;qa(e),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((i=null!==i)!==(null!==t&&null!==t.memoizedState)&&i&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&Zs.current)?0===Nl&&(Nl=3):mc())),null!==e.updateQueue&&(e.flags|=4),qa(e),null);case 4:return Qs(),Da(t,e),null===t&&Bi(e.stateNode.containerInfo),qa(e),null;case 10:return Cs(e.type._context),qa(e),null;case 19:if(kr(Zs),null===(o=e.memoizedState))return qa(e),null;if(i=0!==(128&e.flags),null===(l=o.rendering))if(i)Wa(o,!1);else{if(0!==Nl||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=to(t))){for(e.flags|=128,Wa(o,!1),null!==(i=l.updateQueue)&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;null!==n;)t=i,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Tr(Zs,1&Zs.current|2),e.child}t=t.sibling}null!==o.tail&&Xt()>Bl&&(e.flags|=128,i=!0,Wa(o,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=to(l))){if(e.flags|=128,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Wa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!rs)return qa(e),null}else 2*Xt()-o.renderingStartTime>Bl&&1073741824!==n&&(e.flags|=128,i=!0,Wa(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=o.last)?n.sibling=l:e.child=l,o.last=l)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Xt(),e.sibling=null,n=Zs.current,Tr(Zs,i?1&n|2:1&n),e):(qa(e),null);case 22:case 23:return hc(),i=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==i&&(e.flags|=8192),i&&0!==(1&e.mode)?0!==(1073741824&Dl)&&(qa(e),6&e.subtreeFlags&&(e.flags|=8192)):qa(e),null;case 24:case 25:return null}throw Error(s(156,e.tag))}function Ga(t,e){switch(es(e),e.tag){case 1:return Dr(e.type)&&Mr(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Qs(),kr(Pr),kr(Ir),no(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return Js(e),null;case 13:if(kr(Zs),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(s(340));fs()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return kr(Zs),null;case 4:return Qs(),null;case 10:return Cs(e.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ra=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},Ma=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Gs(Ws.current);var s,o=null;switch(n){case"input":r=Y(t,r),i=Y(t,i),o=[];break;case"select":r=F({},r,{value:void 0}),i=F({},i,{value:void 0}),o=[];break;case"textarea":r=it(t,r),i=it(t,i),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(t.onclick=Zi)}for(u in vt(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vi("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}},Na=function(t,e,n,i){n!==i&&(e.flags|=4)};var Ya=!1,Qa=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Ec(t,e,i)}else n.current=null}function tl(t,e,n){try{n()}catch(i){Ec(t,e,i)}}var el=!1;function nl(t,e,n){var i=e.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,void 0!==s&&tl(e,n,s)}r=r.next}while(r!==i)}}function il(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function rl(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function sl(t){var e=t.alternate;null!==e&&(t.alternate=null,sl(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[dr],delete e[fr],delete e[mr],delete e[gr],delete e[yr])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ol(t){return 5===t.tag||3===t.tag||4===t.tag}function al(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||ol(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ll(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Zi));else if(4!==i&&null!==(t=t.child))for(ll(t,e,n),t=t.sibling;null!==t;)ll(t,e,n),t=t.sibling}function cl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}var ul=null,hl=!1;function dl(t,e,n){for(n=n.child;null!==n;)fl(t,e,n),n=n.sibling}function fl(t,e,n){if(se&&"function"===typeof se.onCommitFiberUnmount)try{se.onCommitFiberUnmount(re,n)}catch(a){}switch(n.tag){case 5:Qa||Za(n,e);case 6:var i=ul,r=hl;ul=null,dl(t,e,n),hl=r,null!==(ul=i)&&(hl?(t=ul,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(t=ul,n=n.stateNode,8===t.nodeType?lr(t.parentNode,n):1===t.nodeType&&lr(t,n),Be(t)):lr(ul,n.stateNode));break;case 4:i=ul,r=hl,ul=n.stateNode.containerInfo,hl=!0,dl(t,e,n),ul=i,hl=r;break;case 0:case 11:case 14:case 15:if(!Qa&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tl(n,e,o),r=r.next}while(r!==i)}dl(t,e,n);break;case 1:if(!Qa&&(Za(n,e),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Ec(n,e,a)}dl(t,e,n);break;case 21:dl(t,e,n);break;case 22:1&n.mode?(Qa=(i=Qa)||null!==n.memoizedState,dl(t,e,n),Qa=i):dl(t,e,n);break;default:dl(t,e,n)}}function pl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Xa),e.forEach((function(e){var i=Ic.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}}function ml(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,a=e,l=a;t:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break t;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break t}l=l.return}if(null===ul)throw Error(s(160));fl(o,a,r),ul=null,hl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){Ec(r,e,u)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)gl(e,t),e=e.sibling}function gl(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ml(e,t),yl(t),4&i){try{nl(3,t,t.return),il(3,t)}catch(g){Ec(t,t.return,g)}try{nl(5,t,t.return)}catch(g){Ec(t,t.return,g)}}break;case 1:ml(e,t),yl(t),512&i&&null!==n&&Za(n,n.return);break;case 5:if(ml(e,t),yl(t),512&i&&null!==n&&Za(n,n.return),32&t.flags){var r=t.stateNode;try{dt(r,"")}catch(g){Ec(t,t.return,g)}}if(4&i&&null!=(r=t.stateNode)){var o=t.memoizedProps,a=null!==n?n.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(r,o),bt(l,a);var u=bt(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?gt(r,d):"dangerouslySetInnerHTML"===h?ht(r,d):"children"===h?dt(r,d):b(r,h,d,u)}switch(l){case"input":J(r,o);break;case"textarea":st(r,o);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?nt(r,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?nt(r,!!o.multiple,o.defaultValue,!0):nt(r,!!o.multiple,o.multiple?[]:"",!1))}r[fr]=o}catch(g){Ec(t,t.return,g)}}break;case 6:if(ml(e,t),yl(t),4&i){if(null===t.stateNode)throw Error(s(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(g){Ec(t,t.return,g)}}break;case 3:if(ml(e,t),yl(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Be(e.containerInfo)}catch(g){Ec(t,t.return,g)}break;case 4:default:ml(e,t),yl(t);break;case 13:ml(e,t),yl(t),8192&(r=t.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(zl=Xt())),4&i&&pl(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Qa=(u=Qa)||h,ml(e,t),Qa=u):ml(e,t),yl(t),8192&i){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!h&&0!==(1&t.mode))for(Ja=t,h=t.child;null!==h;){for(d=Ja=h;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){i=f,n=f.return;try{e=i,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Ec(i,n,g)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){xl(d);continue}}null!==p?(p.return=f,Ja=p):xl(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{r=d.stateNode,u?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=mt("display",a))}catch(g){Ec(t,t.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Ec(t,t.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(e,t),yl(t),4&i&&pl(t);case 21:}}function yl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(ol(n)){var i=n;break t}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(dt(r,""),i.flags&=-33),cl(t,al(t),r);break;case 3:case 4:var o=i.stateNode.containerInfo;ll(t,al(t),o);break;default:throw Error(s(161))}}catch(a){Ec(t,t.return,a)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function vl(t,e,n){Ja=t,bl(t,e,n)}function bl(t,e,n){for(var i=0!==(1&t.mode);null!==Ja;){var r=Ja,s=r.child;if(22===r.tag&&i){var o=null!==r.memoizedState||Ya;if(!o){var a=r.alternate,l=null!==a&&null!==a.memoizedState||Qa;a=Ya;var c=Qa;if(Ya=o,(Qa=l)&&!c)for(Ja=r;null!==Ja;)l=(o=Ja).child,22===o.tag&&null!==o.memoizedState?_l(r):null!==l?(l.return=o,Ja=l):_l(r);for(;null!==s;)Ja=s,bl(s,e,n),s=s.sibling;Ja=r,Ya=a,Qa=c}wl(t)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,Ja=s):wl(t)}}function wl(t){for(;null!==Ja;){var e=Ja;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Qa||il(5,e);break;case 1:var i=e.stateNode;if(4&e.flags&&!Qa)if(null===n)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:na(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;null!==o&&$s(e,o,i);break;case 3:var a=e.updateQueue;if(null!==a){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}$s(e,a,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Be(d)}}}break;default:throw Error(s(163))}Qa||512&e.flags&&rl(e)}catch(f){Ec(e,e.return,f)}}if(e===t){Ja=null;break}if(null!==(n=e.sibling)){n.return=e.return,Ja=n;break}Ja=e.return}}function xl(t){for(;null!==Ja;){var e=Ja;if(e===t){Ja=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Ja=n;break}Ja=e.return}}function _l(t){for(;null!==Ja;){var e=Ja;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{il(4,e)}catch(l){Ec(e,n,l)}break;case 1:var i=e.stateNode;if("function"===typeof i.componentDidMount){var r=e.return;try{i.componentDidMount()}catch(l){Ec(e,r,l)}}var s=e.return;try{rl(e)}catch(l){Ec(e,s,l)}break;case 5:var o=e.return;try{rl(e)}catch(l){Ec(e,o,l)}}}catch(l){Ec(e,e.return,l)}if(e===t){Ja=null;break}var a=e.sibling;if(null!==a){a.return=e.return,Ja=a;break}Ja=e.return}}var Sl,El=Math.ceil,kl=w.ReactCurrentDispatcher,Tl=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,Il=0,Pl=null,Al=null,Rl=0,Dl=0,Ml=Er(0),Nl=0,Ol=null,Ll=0,Fl=0,jl=0,Vl=null,Ul=null,zl=0,Bl=1/0,$l=null,Hl=!1,Wl=null,ql=null,Kl=!1,Gl=null,Yl=0,Ql=0,Xl=null,Jl=-1,Zl=0;function tc(){return 0!==(6&Il)?Xt():-1!==Jl?Jl:Jl=Xt()}function ec(t){return 0===(1&t.mode)?1:0!==(2&Il)&&0!==Rl?Rl&-Rl:null!==ms.transition?(0===Zl&&(Zl=me()),Zl):0!==(t=be)?t:t=void 0===(t=window.event)?16:Qe(t.type)}function nc(t,e,n,i){if(50<Ql)throw Ql=0,Xl=null,Error(s(185));ye(t,n,i),0!==(2&Il)&&t===Pl||(t===Pl&&(0===(2&Il)&&(Fl|=n),4===Nl&&ac(t,Rl)),ic(t,i),1===n&&0===Il&&0===(1&e.mode)&&(Bl=Xt()+500,Vr&&Br()))}function ic(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-oe(s),a=1<<o,l=r[o];-1===l?0!==(a&n)&&0===(a&i)||(r[o]=fe(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}(t,e);var i=de(t,t===Pl?Rl:0);if(0===i)null!==n&&Gt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(null!=n&&Gt(n),1===e)0===t.tag?function(t){Vr=!0,zr(t)}(lc.bind(null,t)):zr(lc.bind(null,t)),or((function(){0===(6&Il)&&Br()})),n=null;else{switch(we(i)){case 1:n=Zt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=ie}n=Pc(n,rc.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rc(t,e){if(Jl=-1,Zl=0,0!==(6&Il))throw Error(s(327));var n=t.callbackNode;if(_c()&&t.callbackNode!==n)return null;var i=de(t,t===Pl?Rl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||e)e=gc(t,i);else{e=i;var r=Il;Il|=2;var o=pc();for(Pl===t&&Rl===e||($l=null,Bl=Xt()+500,dc(t,e));;)try{vc();break}catch(l){fc(t,l)}Ts(),kl.current=o,Il=r,null!==Al?e=0:(Pl=null,Rl=0,e=Nl)}if(0!==e){if(2===e&&(0!==(r=pe(t))&&(i=r,e=sc(t,r))),1===e)throw n=Ol,dc(t,0),ac(t,i),ic(t,Xt()),n;if(6===e)ac(t,i);else{if(r=t.current.alternate,0===(30&i)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!ai(s(),r))return!1}catch(a){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(r)&&(2===(e=gc(t,i))&&(0!==(o=pe(t))&&(i=o,e=sc(t,o))),1===e))throw n=Ol,dc(t,0),ac(t,i),ic(t,Xt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(s(345));case 2:case 5:xc(t,Ul,$l);break;case 3:if(ac(t,i),(130023424&i)===i&&10<(e=zl+500-Xt())){if(0!==de(t,0))break;if(((r=t.suspendedLanes)&i)!==i){tc(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=ir(xc.bind(null,t,Ul,$l),e);break}xc(t,Ul,$l);break;case 4:if(ac(t,i),(4194240&i)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-oe(i);o=1<<a,(a=e[a])>r&&(r=a),i&=~o}if(i=r,10<(i=(120>(i=Xt()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*El(i/1960))-i)){t.timeoutHandle=ir(xc.bind(null,t,Ul,$l),i);break}xc(t,Ul,$l);break;default:throw Error(s(329))}}}return ic(t,Xt()),t.callbackNode===n?rc.bind(null,t):null}function sc(t,e){var n=Vl;return t.current.memoizedState.isDehydrated&&(dc(t,e).flags|=256),2!==(t=gc(t,e))&&(e=Ul,Ul=n,null!==e&&oc(e)),t}function oc(t){null===Ul?Ul=t:Ul.push.apply(Ul,t)}function ac(t,e){for(e&=~jl,e&=~Fl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oe(e),i=1<<n;t[n]=-1,e&=~i}}function lc(t){if(0!==(6&Il))throw Error(s(327));_c();var e=de(t,0);if(0===(1&e))return ic(t,Xt()),null;var n=gc(t,e);if(0!==t.tag&&2===n){var i=pe(t);0!==i&&(e=i,n=sc(t,i))}if(1===n)throw n=Ol,dc(t,0),ac(t,e),ic(t,Xt()),n;if(6===n)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xc(t,Ul,$l),ic(t,Xt()),null}function cc(t,e){var n=Il;Il|=1;try{return t(e)}finally{0===(Il=n)&&(Bl=Xt()+500,Vr&&Br())}}function uc(t){null!==Gl&&0===Gl.tag&&0===(6&Il)&&_c();var e=Il;Il|=1;var n=Cl.transition,i=be;try{if(Cl.transition=null,be=1,t)return t()}finally{be=i,Cl.transition=n,0===(6&(Il=e))&&Br()}}function hc(){Dl=Ml.current,kr(Ml)}function dc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,rr(n)),null!==Al)for(n=Al.return;null!==n;){var i=n;switch(es(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Mr();break;case 3:Qs(),kr(Pr),kr(Ir),no();break;case 5:Js(i);break;case 4:Qs();break;case 13:case 19:kr(Zs);break;case 10:Cs(i.type._context);break;case 22:case 23:hc()}n=n.return}if(Pl=t,Al=t=Mc(t.current,null),Rl=Dl=e,Nl=0,Ol=null,jl=Fl=Ll=0,Ul=Vl=null,null!==Rs){for(e=0;e<Rs.length;e++)if(null!==(i=(n=Rs[e]).interleaved)){n.interleaved=null;var r=i.next,s=n.pending;if(null!==s){var o=s.next;s.next=r,i.next=o}n.pending=i}Rs=null}return t}function fc(t,e){for(;;){var n=Al;try{if(Ts(),io.current=Jo,co){for(var i=oo.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}co=!1}if(so=0,lo=ao=oo=null,uo=!1,ho=0,Tl.current=null,null===n||null===n.return){Nl=1,Ol=e,Al=null;break}t:{var o=t,a=n.return,l=n,c=e;if(e=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,e),1&p.mode&&ma(o,u,e),c=u;var m=(e=p).updateQueue;if(null===m){var g=new Set;g.add(c),e.updateQueue=g}else m.add(c);break t}if(0===(1&e)){ma(o,u,e),mc();break t}c=Error(s(426))}else if(rs&&1&l.mode){var y=ga(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,e),ps(ca(c,l));break t}}o=c=ca(c,l),4!==Nl&&(Nl=2),null===Vl?Vl=[o]:Vl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e,zs(o,fa(0,c,e));break t;case 1:l=c;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e,zs(o,pa(o,l,e));break t}}o=o.return}while(null!==o)}wc(n)}catch(w){e=w,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pc(){var t=kl.current;return kl.current=Jo,null===t?Jo:t}function mc(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Pl||0===(268435455&Ll)&&0===(268435455&Fl)||ac(Pl,Rl)}function gc(t,e){var n=Il;Il|=2;var i=pc();for(Pl===t&&Rl===e||($l=null,dc(t,e));;)try{yc();break}catch(r){fc(t,r)}if(Ts(),Il=n,kl.current=i,null!==Al)throw Error(s(261));return Pl=null,Rl=0,Nl}function yc(){for(;null!==Al;)bc(Al)}function vc(){for(;null!==Al&&!Yt();)bc(Al)}function bc(t){var e=Sl(t.alternate,t,Dl);t.memoizedProps=t.pendingProps,null===e?wc(t):Al=e,Tl.current=null}function wc(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Ka(n,e,Dl)))return void(Al=n)}else{if(null!==(n=Ga(n,e)))return n.flags&=32767,void(Al=n);if(null===t)return Nl=6,void(Al=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Al=e);Al=e=t}while(null!==e);0===Nl&&(Nl=5)}function xc(t,e,n){var i=be,r=Cl.transition;try{Cl.transition=null,be=1,function(t,e,n,i){do{_c()}while(null!==Gl);if(0!==(6&Il))throw Error(s(327));n=t.finishedWork;var r=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-oe(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}(t,o),t===Pl&&(Al=Pl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Pc(ee,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cl.transition,Cl.transition=null;var a=be;be=1;var l=Il;Il|=4,Tl.current=null,function(t,e){if(tr=He,fi(t=di())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(Wx){n=null;break t}var a=0,l=-1,c=-1,u=0,h=0,d=t,f=null;e:for(;;){for(var p;d!==n||0!==r&&3!==d.nodeType||(l=a+r),d!==o||0!==i&&3!==d.nodeType||(c=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===n&&++u===r&&(l=a),f===o&&++h===i&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(er={focusedElem:t,selectionRange:n},He=!1,Ja=e;null!==Ja;)if(t=(e=Ja).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Ja=t;else for(;null!==Ja;){e=Ja;try{var m=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:na(e.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(Wx){Ec(e,e.return,Wx)}if(null!==(t=e.sibling)){t.return=e.return,Ja=t;break}Ja=e.return}m=el,el=!1}(t,n),gl(n,t),pi(er),He=!!tr,er=tr=null,t.current=n,vl(n,t,r),Qt(),Il=l,be=a,Cl.transition=o}else t.current=n;if(Kl&&(Kl=!1,Gl=t,Yl=r),o=t.pendingLanes,0===o&&(ql=null),function(t){if(se&&"function"===typeof se.onCommitFiberRoot)try{se.onCommitFiberRoot(re,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),ic(t,Xt()),null!==e)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Hl)throw Hl=!1,t=Wl,Wl=null,t;0!==(1&Yl)&&0!==t.tag&&_c(),o=t.pendingLanes,0!==(1&o)?t===Xl?Ql++:(Ql=0,Xl=t):Ql=0,Br()}(t,e,n,i)}finally{Cl.transition=r,be=i}return null}function _c(){if(null!==Gl){var t=we(Yl),e=Cl.transition,n=be;try{if(Cl.transition=null,be=16>t?16:t,null===Gl)var i=!1;else{if(t=Gl,Gl=null,Yl=0,0!==(6&Il))throw Error(s(331));var r=Il;for(Il|=4,Ja=t.current;null!==Ja;){var o=Ja,a=o.child;if(0!==(16&Ja.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var h=Ja;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Ja=d;else for(;null!==Ja;){var f=(h=Ja).sibling,p=h.return;if(sl(h),h===u){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Ja=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Ja=a;else t:for(;null!==Ja;){if(0!==(2048&(o=Ja).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Ja=v;break t}Ja=o.return}}var b=t.current;for(Ja=b;null!==Ja;){var w=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Ja=w;else t:for(a=b;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(_){Ec(l,l.return,_)}if(l===a){Ja=null;break t}var x=l.sibling;if(null!==x){x.return=l.return,Ja=x;break t}Ja=l.return}}if(Il=r,Br(),se&&"function"===typeof se.onPostCommitFiberRoot)try{se.onPostCommitFiberRoot(re,t)}catch(_){}i=!0}return i}finally{be=n,Cl.transition=e}}return!1}function Sc(t,e,n){t=Vs(t,e=fa(0,e=ca(n,e),1),1),e=tc(),null!==t&&(ye(t,1,e),ic(t,e))}function Ec(t,e,n){if(3===t.tag)Sc(t,t,n);else for(;null!==e;){if(3===e.tag){Sc(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===ql||!ql.has(i))){e=Vs(e,t=pa(e,t=ca(n,t),1),1),t=tc(),null!==e&&(ye(e,1,t),ic(e,t));break}}e=e.return}}function kc(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),e=tc(),t.pingedLanes|=t.suspendedLanes&n,Pl===t&&(Rl&n)===n&&(4===Nl||3===Nl&&(130023424&Rl)===Rl&&500>Xt()-zl?dc(t,0):jl|=n),ic(t,e)}function Tc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ue,0===(130023424&(ue<<=1))&&(ue=4194304)));var n=tc();null!==(t=Ns(t,e))&&(ye(t,e,n),ic(t,n))}function Cc(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Tc(t,n)}function Ic(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(s(314))}null!==i&&i.delete(e),Tc(t,n)}function Pc(t,e){return Kt(t,e)}function Ac(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(t,e,n,i){return new Ac(t,e,n,i)}function Dc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Mc(t,e){var n=t.alternate;return null===n?((n=Rc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nc(t,e,n,i,r,o){var a=2;if(i=t,"function"===typeof t)Dc(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case S:return Oc(n.children,r,o,e);case E:a=8,r|=8;break;case k:return(t=Rc(12,n,e,2|r)).elementType=k,t.lanes=o,t;case P:return(t=Rc(13,n,e,r)).elementType=P,t.lanes=o,t;case A:return(t=Rc(19,n,e,r)).elementType=A,t.lanes=o,t;case M:return Lc(n,r,o,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case T:a=10;break t;case C:a=9;break t;case I:a=11;break t;case R:a=14;break t;case D:a=16,i=null;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Rc(a,n,e,r)).elementType=t,e.type=i,e.lanes=o,e}function Oc(t,e,n,i){return(t=Rc(7,t,i,e)).lanes=n,t}function Lc(t,e,n,i){return(t=Rc(22,t,i,e)).elementType=M,t.lanes=n,t.stateNode={isHidden:!1},t}function Fc(t,e,n){return(t=Rc(6,t,null,e)).lanes=n,t}function jc(t,e,n){return(e=Rc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Vc(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ge(0),this.expirationTimes=ge(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ge(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Uc(t,e,n,i,r,s,o,a,l){return t=new Vc(t,e,n,a,l),1===e?(e=1,!0===s&&(e|=8)):e=0,s=Rc(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),t}function zc(t){if(!t)return Cr;t:{if(Bt(t=t._reactInternals)!==t||1!==t.tag)throw Error(s(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Dr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(s(171))}if(1===t.tag){var n=t.type;if(Dr(n))return Or(t,n,e)}return e}function Bc(t,e,n,i,r,s,o,a,l){return(t=Uc(n,i,!0,t,0,s,0,a,l)).context=zc(null),n=t.current,(s=js(i=tc(),r=ec(n))).callback=void 0!==e&&null!==e?e:null,Vs(n,s,r),t.current.lanes=r,ye(t,r,i),ic(t,i),t}function $c(t,e,n,i){var r=e.current,s=tc(),o=ec(r);return n=zc(n),null===e.context?e.context=n:e.pendingContext=n,(e=js(s,o)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),null!==(t=Vs(r,e,o))&&(nc(t,r,o,s),Us(t,r,o)),o}function Hc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Wc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function qc(t,e){Wc(t,e),(t=t.alternate)&&Wc(t,e)}Sl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Pr.current)ba=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return ba=!1,function(t,e,n){switch(e.tag){case 3:Pa(e),fs();break;case 5:Xs(e);break;case 1:Dr(e.type)&&Lr(e);break;case 4:Ys(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Tr(_s,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=e.memoizedState))return null!==i.dehydrated?(Tr(Zs,1&Zs.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Fa(t,e,n):(Tr(Zs,1&Zs.current),null!==(t=Ha(t,e,n))?t.sibling:null);Tr(Zs,1&Zs.current);break;case 19:if(i=0!==(n&e.childLanes),0!==(128&t.flags)){if(i)return Ba(t,e,n);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Tr(Zs,Zs.current),i)break;return null;case 22:case 23:return e.lanes=0,Ea(t,e,n)}return Ha(t,e,n)}(t,e,n);ba=0!==(131072&t.flags)}else ba=!1,rs&&0!==(1048576&e.flags)&&Zr(e,qr,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;$a(t,e),t=e.pendingProps;var r=Rr(e,Ir.current);Ps(e,n),r=go(null,e,i,t,r,n);var o=yo();return e.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Dr(i)?(o=!0,Lr(e)):o=!1,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ls(e),r.updater=ra,e.stateNode=r,r._reactInternals=e,la(e,i,t,n),e=Ia(null,e,i,!0,o,n)):(e.tag=0,rs&&o&&ts(e),wa(null,e,r,n),e=e.child),e;case 16:i=e.elementType;t:{switch($a(t,e),t=e.pendingProps,i=(r=i._init)(i._payload),e.type=i,r=e.tag=function(t){if("function"===typeof t)return Dc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===I)return 11;if(t===R)return 14}return 2}(i),t=na(i,t),r){case 0:e=Ta(null,e,i,t,n);break t;case 1:e=Ca(null,e,i,t,n);break t;case 11:e=xa(null,e,i,t,n);break t;case 14:e=_a(null,e,i,na(i.type,t),n);break t}throw Error(s(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,Ta(t,e,i,r=e.elementType===i?r:na(i,r),n);case 1:return i=e.type,r=e.pendingProps,Ca(t,e,i,r=e.elementType===i?r:na(i,r),n);case 3:t:{if(Pa(e),null===t)throw Error(s(387));i=e.pendingProps,r=(o=e.memoizedState).element,Fs(t,e),Bs(e,i,null,n);var a=e.memoizedState;if(i=a.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,256&e.flags){e=Aa(t,e,i,n,r=ca(Error(s(423)),e));break t}if(i!==r){e=Aa(t,e,i,n,r=ca(Error(s(424)),e));break t}for(is=cr(e.stateNode.containerInfo.firstChild),ns=e,rs=!0,ss=null,n=xs(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),i===r){e=Ha(t,e,n);break t}wa(t,e,i,n)}e=e.child}return e;case 5:return Xs(e),null===t&&cs(e),i=e.type,r=e.pendingProps,o=null!==t?t.memoizedProps:null,a=r.children,nr(i,r)?a=null:null!==o&&nr(i,o)&&(e.flags|=32),ka(t,e),wa(t,e,a,n),e.child;case 6:return null===t&&cs(e),null;case 13:return Fa(t,e,n);case 4:return Ys(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=ws(e,null,i,n):wa(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,xa(t,e,i,r=e.elementType===i?r:na(i,r),n);case 7:return wa(t,e,e.pendingProps,n),e.child;case 8:case 12:return wa(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,a=r.value,Tr(_s,i._currentValue),i._currentValue=a,null!==o)if(ai(o.value,a)){if(o.children===r.children&&!Pr.current){e=Ha(t,e,n);break t}}else for(null!==(o=e.child)&&(o.return=e);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===o.tag){(c=js(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Is(o.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===e.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Is(a,n,e),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}wa(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Ps(e,n),i=i(r=As(r)),e.flags|=1,wa(t,e,i,n),e.child;case 14:return r=na(i=e.type,e.pendingProps),_a(t,e,i,r=na(i.type,r),n);case 15:return Sa(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:na(i,r),$a(t,e),e.tag=1,Dr(i)?(t=!0,Lr(e)):t=!1,Ps(e,n),oa(e,i,r),la(e,i,r,n),Ia(null,e,i,!0,t,n);case 19:return Ba(t,e,n);case 22:return Ea(t,e,n)}throw Error(s(156,e.tag))};var Kc="function"===typeof reportError?reportError:function(t){console.error(t)};function Gc(t){this._internalRoot=t}function Yc(t){this._internalRoot=t}function Qc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Xc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Jc(){}function Zc(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof r){var a=r;r=function(){var t=Hc(o);a.call(t)}}$c(e,o,t,r)}else o=function(t,e,n,i,r){if(r){if("function"===typeof i){var s=i;i=function(){var t=Hc(o);s.call(t)}}var o=Bc(e,i,t,0,null,!1,0,"",Jc);return t._reactRootContainer=o,t[pr]=o.current,Bi(8===t.nodeType?t.parentNode:t),uc(),o}for(;r=t.lastChild;)t.removeChild(r);if("function"===typeof i){var a=i;i=function(){var t=Hc(l);a.call(t)}}var l=Uc(t,0,!1,null,0,!1,0,"",Jc);return t._reactRootContainer=l,t[pr]=l.current,Bi(8===t.nodeType?t.parentNode:t),uc((function(){$c(e,l,n,i)})),l}(n,e,t,r,i);return Hc(o)}Yc.prototype.render=Gc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(s(409));$c(t,e,null,null)},Yc.prototype.unmount=Gc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;uc((function(){$c(null,t,null,null)})),e[pr]=null}},Yc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ee();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Me.length&&0!==e&&e<Me[n].priority;n++);Me.splice(n,0,t),0===n&&Fe(t)}},xe=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(ve(e,1|n),ic(e,Xt()),0===(6&Il)&&(Bl=Xt()+500,Br()))}break;case 13:uc((function(){var e=Ns(t,1);if(null!==e){var n=tc();nc(e,t,1,n)}})),qc(t,1)}},_e=function(t){if(13===t.tag){var e=Ns(t,134217728);if(null!==e)nc(e,t,134217728,tc());qc(t,134217728)}},Se=function(t){if(13===t.tag){var e=ec(t),n=Ns(t,e);if(null!==n)nc(n,t,e,tc());qc(t,e)}},Ee=function(){return be},ke=function(t,e){var n=be;try{return be=t,e()}finally{be=n}},_t=function(t,e,n){switch(e){case"input":if(J(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=xr(i);if(!r)throw Error(s(90));K(i),J(i,r)}}}break;case"textarea":st(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},It=cc,Pt=uc;var tu={usingClientEntryPoint:!1,Events:[br,wr,xr,Tt,Ct,cc]},eu={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Wt(t))?null:t.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{re=iu.inject(nu),se=iu}catch(ut){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(e))throw Error(s(200));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Qc(t))throw Error(s(299));var n=!1,i="",r=Kc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onRecoverableError&&(r=e.onRecoverableError)),e=Uc(t,1,!1,null,0,n,0,i,r),t[pr]=e.current,Bi(8===t.nodeType?t.parentNode:t),new Gc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw t=Object.keys(t).join(","),Error(s(268,t))}return t=null===(t=Wt(e))?null:t.stateNode},e.flushSync=function(t){return uc(t)},e.hydrate=function(t,e,n){if(!Xc(e))throw Error(s(200));return Zc(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Qc(t))throw Error(s(405));var i=null!=n&&n.hydratedSources||null,r=!1,o="",a=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),e=Bc(e,null,t,1,null!=n?n:null,r,0,o,a),t[pr]=e.current,Bi(t),i)for(t=0;t<i.length;t++)r=(r=(n=i[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Yc(e)},e.render=function(t,e,n){if(!Xc(e))throw Error(s(200));return Zc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Xc(t))throw Error(s(40));return!!t._reactRootContainer&&(uc((function(){Zc(null,null,t,!1,(function(){t._reactRootContainer=null,t[pr]=null}))})),!0)},e.unstable_batchedUpdates=cc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Xc(n))throw Error(s(200));if(null==t||void 0===t._reactInternals)throw Error(s(38));return Zc(t,e,n,!1,i)},e.version="18.3.1-next-f1338f8080-20240426"},853:(t,e,n)=>{t.exports=n(234)},950:(t,e,n)=>{!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(730)}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,n),s.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}();var i=n(43),r=n(391),s=(n(175),"popstate");function o(){return f((function(t,e){let{pathname:n,search:i,hash:r}=t.location;return u("",{pathname:n,search:i,hash:r},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"===typeof e?e:h(e)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function a(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function l(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function c(t,e){return{usr:t.state,key:t.key,idx:e}}function u(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof t?t:t.pathname,search:"",hash:"",..."string"===typeof e?d(e):e,state:n,key:e&&e.key||i||Math.random().toString(36).substring(2,10)}}function h(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(e+="#"===i.charAt(0)?i:"#"+i),e}function d(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function f(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,d="POP",f=null,p=m();function m(){return(l.state||{idx:null}).idx}function g(){d="POP";let t=m(),e=null==t?null:t-p;p=t,f&&f({action:d,location:v.location,delta:e})}function y(t){let e="null"!==r.location.origin?r.location.origin:r.location.href,n="string"===typeof t?t:h(t);return n=n.replace(/ $/,"%20"),a(e,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,e)}null==p&&(p=0,l.replaceState({...l.state,idx:p},""));let v={get action(){return d},get location(){return t(r,l)},listen(t){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(s,g),f=t,()=>{r.removeEventListener(s,g),f=null}},createHref:t=>e(r,t),createURL:y,encodeLocation(t){let e=y(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){d="PUSH";let i=u(v.location,t,e);n&&n(i,t),p=m()+1;let s=c(i,p),a=v.createHref(i);try{l.pushState(s,"",a)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;r.location.assign(a)}o&&f&&f({action:d,location:v.location,delta:1})},replace:function(t,e){d="REPLACE";let i=u(v.location,t,e);n&&n(i,t),p=m();let r=c(i,p),s=v.createHref(i);l.replaceState(r,"",s),o&&f&&f({action:d,location:v.location,delta:0})},go:t=>l.go(t)};return v}new WeakMap;function p(t,e){return m(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function m(t,e,n,i){let r=P(("string"===typeof e?d(e):e).pathname||"/",n);if(null==r)return null;let s=g(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let t=I(r);o=T(s[a],t,i)}return o}function g(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=(t,r,s)=>{let o={relativePath:void 0===s?t.path||"":s,caseSensitive:!0===t.caseSensitive,childrenIndex:r,route:t};o.relativePath.startsWith("/")&&(a(o.relativePath.startsWith(i),`Absolute route path "${o.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(i.length));let l=N([i,o.relativePath]),c=n.concat(o);t.children&&t.children.length>0&&(a(!0!==t.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),g(t.children,e,c,l)),(null!=t.path||t.index)&&e.push({path:l,score:k(l,t.index),routesMeta:c})};return t.forEach(((t,e)=>{if(""!==t.path&&t.path?.includes("?"))for(let n of y(t.path))r(t,e,n);else r(t,e)})),e}function y(t){let e=t.split("/");if(0===e.length)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===i.length)return r?[s,""]:[s];let o=y(i.join("/")),a=[];return a.push(...o.map((t=>""===t?s:[s,t].join("/")))),r&&a.push(...o),a.map((e=>t.startsWith("/")&&""===e?"/":e))}var v=/^:[\w-]+$/,b=3,w=2,x=1,_=10,S=-2,E=t=>"*"===t;function k(t,e){let n=t.split("/"),i=n.length;return n.some(E)&&(i+=S),e&&(i+=w),n.filter((t=>!E(t))).reduce(((t,e)=>t+(v.test(e)?b:""===e?x:_)),i)}function T(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let t=i[a],l=a===i.length-1,c="/"===s?e:e.slice(s.length)||"/",u=C({path:t.relativePath,caseSensitive:t.caseSensitive,end:l},c),h=t.route;if(!u&&l&&n&&!i[i.length-1].route.index&&(u=C({path:t.relativePath,caseSensitive:t.caseSensitive,end:!1},c)),!u)return null;Object.assign(r,u.params),o.push({params:r,pathname:N([s,u.pathname]),pathnameBase:O(N([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=N([s,u.pathnameBase]))}return o}function C(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];l("*"===t||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((t,e,n)=>(i.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));t.endsWith("*")?(i.push({paramName:"*"}),r+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==t&&"/"!==t&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,e?void 0:"i");return[s,i]}(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1),c=i.reduce(((t,e,n)=>{let{paramName:i,isOptional:r}=e;if("*"===i){let t=a[n]||"";o=s.slice(0,s.length-t.length).replace(/(.)\/+$/,"$1")}const l=a[n];return t[i]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),t}),{});return{params:c,pathname:s,pathnameBase:o,pattern:t}}function I(t){try{return t.split("/").map((t=>decodeURIComponent(t).replace(/\//g,"%2F"))).join("/")}catch(e){return l(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function P(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&"/"!==i?null:t.slice(n)||"/"}function A(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function R(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function D(t){let e=R(t);return e.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase))}function M(t,e,n){let i,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof t?i=d(t):(i={...t},a(!i.pathname||!i.pathname.includes("?"),A("?","pathname","search",i)),a(!i.pathname||!i.pathname.includes("#"),A("#","pathname","hash",i)),a(!i.search||!i.search.includes("#"),A("#","search","hash",i)));let s,o=""===t||""===i.pathname,l=o?"/":i.pathname;if(null==l)s=n;else{let t=e.length-1;if(!r&&l.startsWith("..")){let e=l.split("/");for(;".."===e[0];)e.shift(),t-=1;i.pathname=e.join("/")}s=t>=0?e[t]:"/"}let c=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:i="",hash:r=""}="string"===typeof t?d(t):t,s=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:s,search:L(i),hash:F(r)}}(i,s),u=l&&"/"!==l&&l.endsWith("/"),h=(o||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}var N=t=>t.join("/").replace(/\/\/+/g,"/"),O=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),L=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",F=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";function j(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}var V=["POST","PUT","PATCH","DELETE"],U=(new Set(V),["GET",...V]);new Set(U),Symbol("ResetLoaderData");var z=i.createContext(null);z.displayName="DataRouter";var B=i.createContext(null);B.displayName="DataRouterState";var $=i.createContext({isTransitioning:!1});$.displayName="ViewTransition";var H=i.createContext(new Map);H.displayName="Fetchers";var W=i.createContext(null);W.displayName="Await";var q=i.createContext(null);q.displayName="Navigation";var K=i.createContext(null);K.displayName="Location";var G=i.createContext({outlet:null,matches:[],isDataRoute:!1});G.displayName="Route";var Y=i.createContext(null);Y.displayName="RouteError";function Q(){return null!=i.useContext(K)}function X(){return a(Q(),"useLocation() may be used only in the context of a <Router> component."),i.useContext(K).location}var J="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z(t){i.useContext(q).static||i.useLayoutEffect(t)}function tt(){let{isDataRoute:t}=i.useContext(G);return t?function(){let{router:t}=ct("useNavigate"),e=ht("useNavigate"),n=i.useRef(!1);Z((()=>{n.current=!0}));let r=i.useCallback((async function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(n.current,J),n.current&&("number"===typeof i?t.navigate(i):await t.navigate(i,{fromRouteId:e,...r}))}),[t,e]);return r}():function(){a(Q(),"useNavigate() may be used only in the context of a <Router> component.");let t=i.useContext(z),{basename:e,navigator:n}=i.useContext(q),{matches:r}=i.useContext(G),{pathname:s}=X(),o=JSON.stringify(D(r)),c=i.useRef(!1);Z((()=>{c.current=!0}));let u=i.useCallback((function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(l(c.current,J),!c.current)return;if("number"===typeof i)return void n.go(i);let a=M(i,JSON.parse(o),s,"path"===r.relative);null==t&&"/"!==e&&(a.pathname="/"===a.pathname?e:N([e,a.pathname])),(r.replace?n.replace:n.push)(a,r.state,r)}),[e,n,o,s,t]);return u}()}i.createContext(null);function et(t){let{relative:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=i.useContext(G),{pathname:r}=X(),s=JSON.stringify(D(n));return i.useMemo((()=>M(t,JSON.parse(s),r,"path"===e)),[t,s,r,e])}function nt(t,e,n,r){a(Q(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=i.useContext(q),{matches:c}=i.useContext(G),u=c[c.length-1],h=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let t=g&&g.path||"";pt(f,!g||t.endsWith("*")||t.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${t}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${t}"> to <Route path="${"/"===t?"*":`${t}/*`}">.`)}let y,v=X();if(e){let t="string"===typeof e?d(e):e;a("/"===m||t.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${t.pathname}" was given in the \`location\` prop.`),y=t}else y=v;let b=y.pathname||"/",w=b;if("/"!==m){let t=m.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(t.length).join("/")}let x=!o&&n&&n.matches&&n.matches.length>0?n.matches:p(t,{pathname:w});l(g||null!=x,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),l(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=at(x&&x.map((t=>Object.assign({},t,{params:Object.assign({},h,t.params),pathname:N([m,s.encodeLocation?s.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?m:N([m,s.encodeLocation?s.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),c,n,r);return e&&_?i.createElement(K.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},_):_}function it(){let t=dt(),e=j(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=i.createElement(i.Fragment,null,i.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),i.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",i.createElement("code",{style:o},"ErrorBoundary")," or"," ",i.createElement("code",{style:o},"errorElement")," prop on your route.")),i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},e),n?i.createElement("pre",{style:s},n):null,a)}var rt=i.createElement(it,null),st=class extends i.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?i.createElement(G.Provider,{value:this.props.routeContext},i.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ot(t){let{routeContext:e,match:n,children:r}=t,s=i.useContext(z);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(G.Provider,{value:e},r)}function at(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!n)return null;if(n.errors)t=n.matches;else{if(0!==e.length||n.initialized||!(n.matches.length>0))return null;t=n.matches}}let r=t,s=n?.errors;if(null!=s){let t=r.findIndex((t=>t.route.id&&void 0!==s?.[t.route.id]));a(t>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,t+1))}let o=!1,l=-1;if(n)for(let i=0;i<r.length;i++){let t=r[i];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=i),t.route.id){let{loaderData:e,errors:i}=n,s=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!i||void 0===i[t.route.id]);if(t.route.lazy||s){o=!0,r=l>=0?r.slice(0,l+1):[r[0]];break}}}return r.reduceRight(((t,a,c)=>{let u,h=!1,d=null,f=null;n&&(u=s&&a.route.id?s[a.route.id]:void 0,d=a.route.errorElement||rt,o&&(l<0&&0===c?(pt("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):l===c&&(h=!0,f=a.route.hydrateFallbackElement||null)));let p=e.concat(r.slice(0,c+1)),m=()=>{let e;return e=u?d:h?f:a.route.Component?i.createElement(a.route.Component,null):a.route.element?a.route.element:t,i.createElement(ot,{match:a,routeContext:{outlet:t,matches:p,isDataRoute:null!=n},children:e})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===c)?i.createElement(st,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}function lt(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ct(t){let e=i.useContext(z);return a(e,lt(t)),e}function ut(t){let e=i.useContext(B);return a(e,lt(t)),e}function ht(t){let e=function(t){let e=i.useContext(G);return a(e,lt(t)),e}(t),n=e.matches[e.matches.length-1];return a(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function dt(){let t=i.useContext(Y),e=ut("useRouteError"),n=ht("useRouteError");return void 0!==t?t:e.errors?.[n]}var ft={};function pt(t,e,n){e||ft[t]||(ft[t]=!0,l(!1,n))}i.memo((function(t){let{routes:e,future:n,state:i}=t;return nt(e,void 0,i,n)}));function mt(t){let{to:e,replace:n,state:r,relative:s}=t;a(Q(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=i.useContext(q);l(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=i.useContext(G),{pathname:u}=X(),h=tt(),d=M(e,D(c),u,"path"===s),f=JSON.stringify(d);return i.useEffect((()=>{h(JSON.parse(f),{replace:n,state:r,relative:s})}),[h,f,s,n,r]),null}function gt(t){a(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yt(t){let{basename:e="/",children:n=null,location:r,navigationType:s="POP",navigator:o,static:c=!1}=t;a(!Q(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),h=i.useMemo((()=>({basename:u,navigator:o,static:c,future:{}})),[u,o,c]);"string"===typeof r&&(r=d(r));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:y="default"}=r,v=i.useMemo((()=>{let t=P(f,u);return null==t?null:{location:{pathname:t,search:p,hash:m,state:g,key:y},navigationType:s}}),[u,f,p,m,g,y,s]);return l(null!=v,`<Router basename="${u}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==v?null:i.createElement(q.Provider,{value:h},i.createElement(K.Provider,{children:n,value:v}))}function vt(t){let{children:e,location:n}=t;return nt(bt(e),n)}i.Component;function bt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return i.Children.forEach(t,((t,r)=>{if(!i.isValidElement(t))return;let s=[...e,r];if(t.type===i.Fragment)return void n.push.apply(n,bt(t.props.children,s));a(t.type===gt,`[${"string"===typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),a(!t.props.index||!t.props.children,"An index route cannot have child routes.");let o={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=bt(t.props.children,s)),n.push(o)})),n}var wt="get",xt="application/x-www-form-urlencoded";function _t(t){return null!=t&&"string"===typeof t.tagName}var St=null;var Et=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kt(t){return null==t||Et.has(t)?t:(l(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xt}"`),null)}function Tt(t,e){let n,i,r,s,o;if(_t(a=t)&&"form"===a.tagName.toLowerCase()){let o=t.getAttribute("action");i=o?P(o,e):null,n=t.getAttribute("method")||wt,r=kt(t.getAttribute("enctype"))||xt,s=new FormData(t)}else if(function(t){return _t(t)&&"button"===t.tagName.toLowerCase()}(t)||function(t){return _t(t)&&"input"===t.tagName.toLowerCase()}(t)&&("submit"===t.type||"image"===t.type)){let o=t.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=t.getAttribute("formaction")||o.getAttribute("action");if(i=a?P(a,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||wt,r=kt(t.getAttribute("formenctype"))||kt(o.getAttribute("enctype"))||xt,s=new FormData(o,t),!function(){if(null===St)try{new FormData(document.createElement("form"),0),St=!1}catch(t){St=!0}return St}()){let{name:e,type:n,value:i}=t;if("image"===n){let t=e?`${e}.`:"";s.append(`${t}x`,"0"),s.append(`${t}y`,"0")}else e&&s.append(e,i)}}else{if(_t(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wt,i=null,r=xt,o=t}var a;return s&&"text/plain"===r&&(o=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:o}}function Ct(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}async function It(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Pt(t){return null!=t&&"string"===typeof t.page}function At(t){return null!=t&&(null==t.href?"preload"===t.rel&&"string"===typeof t.imageSrcSet&&"string"===typeof t.imageSizes:"string"===typeof t.rel&&"string"===typeof t.href)}function Rt(t,e,n,i,r,s){let o=(t,e)=>!n[e]||t.route.id!==n[e].route.id,a=(t,e)=>n[e].pathname!==t.pathname||n[e].route.path?.endsWith("*")&&n[e].params["*"]!==t.params["*"];return"assets"===s?e.filter(((t,e)=>o(t,e)||a(t,e))):"data"===s?e.filter(((e,s)=>{let l=i.routes[e.route.id];if(!l||!l.hasLoader)return!1;if(o(e,s)||a(e,s))return!0;if(e.route.shouldRevalidate){let i=e.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:e.params,defaultShouldRevalidate:!0});if("boolean"===typeof i)return i}return!0})):[]}function Dt(t,e){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i=t.map((t=>{let i=e.routes[t.route.id];if(!i)return[];let r=[i.module];return i.clientActionModule&&(r=r.concat(i.clientActionModule)),i.clientLoaderModule&&(r=r.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(r=r.concat(i.hydrateFallbackModule)),i.imports&&(r=r.concat(i.imports)),r})).flat(1),[...new Set(i)];var i}function Mt(t,e){let n=new Set,i=new Set(e);return t.reduce(((t,r)=>{if(e&&!Pt(r)&&"script"===r.as&&r.href&&i.has(r.href))return t;let s=JSON.stringify(function(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}(r));return n.has(s)||(n.add(s),t.push({key:s,link:r})),t}),[])}function Nt(t){return{__html:t}}Symbol("SingleFetchRedirect");function Ot(t,e){let n="string"===typeof t?new URL(t,"undefined"===typeof window?"server://singlefetch/":window.location.origin):t;return"/"===n.pathname?n.pathname="_root.data":e&&"/"===P(n.pathname,e)?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}i.Component;function Lt(t){let{error:e,isOutsideRemixApp:n}=t;console.error(e);let r,s=i.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(j(e))return i.createElement(Ft,{title:"Unhandled Thrown Response!"},i.createElement("h1",{style:{fontSize:"24px"}},e.status," ",e.statusText),s);if(e instanceof Error)r=e;else{let t=null==e?"Unknown Error":"object"===typeof e&&"toString"in e?e.toString():JSON.stringify(e);r=new Error(t)}return i.createElement(Ft,{title:"Application Error!",isOutsideRemixApp:n},i.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),i.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),s)}function Ft(t){let{title:e,renderScripts:n,isOutsideRemixApp:r,children:s}=t,{routeModules:o}=Bt();return o.root?.Layout&&!r?s:i.createElement("html",{lang:"en"},i.createElement("head",null,i.createElement("meta",{charSet:"utf-8"}),i.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),i.createElement("title",null,e)),i.createElement("body",null,i.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,n?i.createElement(Yt,null):null)))}function jt(t){return!0===t}function Vt(){let t=i.useContext(z);return Ct(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ut(){let t=i.useContext(B);return Ct(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var zt=i.createContext(void 0);function Bt(){let t=i.useContext(zt);return Ct(t,"You must render this element inside a <HydratedRouter> element"),t}function $t(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Ht(t,e,n){if(n&&!Gt)return[t[0]];if(e){let n=t.findIndex((t=>void 0!==e[t.route.id]));return t.slice(0,n+1)}return t}function Wt(t){let{page:e,...n}=t,{router:r}=Vt(),s=i.useMemo((()=>p(r.routes,e,r.basename)),[r.routes,e,r.basename]);return s?i.createElement(Kt,{page:e,matches:s,...n}):null}function qt(t){let{manifest:e,routeModules:n}=Bt(),[r,s]=i.useState([]);return i.useEffect((()=>{let i=!1;return async function(t,e,n){return Mt((await Promise.all(t.map((async t=>{let i=e.routes[t.route.id];if(i){let t=await It(i,n);return t.links?t.links():[]}return[]})))).flat(1).filter(At).filter((t=>"stylesheet"===t.rel||"preload"===t.rel)).map((t=>"stylesheet"===t.rel?{...t,rel:"prefetch",as:"style"}:{...t,rel:"prefetch"})))}(t,e,n).then((t=>{i||s(t)})),()=>{i=!0}}),[t,e,n]),r}function Kt(t){let{page:e,matches:n,...r}=t,s=X(),{manifest:o,routeModules:a}=Bt(),{basename:l}=Vt(),{loaderData:c,matches:u}=Ut(),h=i.useMemo((()=>Rt(e,n,u,o,s,"data")),[e,n,u,o,s]),d=i.useMemo((()=>Rt(e,n,u,o,s,"assets")),[e,n,u,o,s]),f=i.useMemo((()=>{if(e===s.pathname+s.search+s.hash)return[];let t=new Set,i=!1;if(n.forEach((e=>{let n=o.routes[e.route.id];n&&n.hasLoader&&(!h.some((t=>t.route.id===e.route.id))&&e.route.id in c&&a[e.route.id]?.shouldRevalidate||n.hasClientLoader?i=!0:t.add(e.route.id))})),0===t.size)return[];let r=Ot(e,l);return i&&t.size>0&&r.searchParams.set("_routes",n.filter((e=>t.has(e.route.id))).map((t=>t.route.id)).join(",")),[r.pathname+r.search]}),[l,c,s,o,h,n,e,a]),p=i.useMemo((()=>Dt(d,o)),[d,o]),m=qt(d);return i.createElement(i.Fragment,null,f.map((t=>i.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...r}))),p.map((t=>i.createElement("link",{key:t,rel:"modulepreload",href:t,...r}))),m.map((t=>{let{key:e,link:n}=t;return i.createElement("link",{key:e,...n})})))}zt.displayName="FrameworkContext";var Gt=!1;function Yt(t){let{manifest:e,serverHandoffString:n,isSpaMode:r,ssr:s,renderMeta:o}=Bt(),{router:a,static:l,staticContext:c}=Vt(),{matches:u}=Ut(),h=jt(s);o&&(o.didRenderScripts=!0);let d=Ht(u,null,r);i.useEffect((()=>{Gt=!0}),[]);let f=i.useMemo((()=>{let r=c?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",s=l?`${e.hmr?.runtime?`import ${JSON.stringify(e.hmr.runtime)};`:""}${h?"":`import ${JSON.stringify(e.url)}`};\n${d.map(((t,n)=>{let i=`route${n}`,r=e.routes[t.route.id];Ct(r,`Route ${t.route.id} not found in manifest`);let{clientActionModule:s,clientLoaderModule:o,clientMiddlewareModule:a,hydrateFallbackModule:l,module:c}=r,u=[...s?[{module:s,varName:`${i}_clientAction`}]:[],...o?[{module:o,varName:`${i}_clientLoader`}]:[],...a?[{module:a,varName:`${i}_clientMiddleware`}]:[],...l?[{module:l,varName:`${i}_HydrateFallback`}]:[],{module:c,varName:`${i}_main`}];return 1===u.length?`import * as ${i} from ${JSON.stringify(c)};`:[u.map((t=>`import * as ${t.varName} from "${t.module}";`)).join("\n"),`const ${i} = {${u.map((t=>`...${t.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${h?`window.__reactRouterManifest = ${JSON.stringify(function(t,e){let n=new Set(e.state.matches.map((t=>t.route.id))),i=e.state.location.pathname.split("/").filter(Boolean),r=["/"];for(i.pop();i.length>0;)r.push(`/${i.join("/")}`),i.pop();r.forEach((t=>{let i=p(e.routes,t,e.basename);i&&i.forEach((t=>n.add(t.route.id)))}));let s=[...n].reduce(((e,n)=>Object.assign(e,{[n]:t.routes[n]})),{});return{...t,routes:s}}(e,a),null,2)};`:""}\n  window.__reactRouterRouteModules = {${d.map(((t,e)=>`${JSON.stringify(t.route.id)}:route${e}`)).join(",")}};\n\nimport(${JSON.stringify(e.entry.module)});`:" ";return i.createElement(i.Fragment,null,i.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Nt(r),type:void 0}),i.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Nt(s),type:"module",async:!0}))}),[]),m=Gt?[]:e.entry.imports.concat(Dt(d,e,{includeHydrateFallback:!0}));return Gt?null:i.createElement(i.Fragment,null,h?null:i.createElement("link",{rel:"modulepreload",href:e.url,crossOrigin:t.crossOrigin}),i.createElement("link",{rel:"modulepreload",href:e.entry.module,crossOrigin:t.crossOrigin}),(g=m,[...new Set(g)]).map((e=>i.createElement("link",{key:e,rel:"modulepreload",href:e,crossOrigin:t.crossOrigin}))),f);var g}function Qt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return t=>{e.forEach((e=>{"function"===typeof e?e(t):null!=e&&(e.current=t)}))}}var Xt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Xt&&(window.__reactRouterVersion="7.4.1")}catch(OA){}function Jt(t){let{basename:e,children:n,window:r}=t,s=i.useRef();null==s.current&&(s.current=o({window:r,v5Compat:!0}));let a=s.current,[l,c]=i.useState({action:a.action,location:a.location}),u=i.useCallback((t=>{i.startTransition((()=>c(t)))}),[c]);return i.useLayoutEffect((()=>a.listen(u)),[a,u]),i.createElement(yt,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a})}var Zt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,te=i.forwardRef((function(t,e){let n,{onClick:r,discover:s="render",prefetch:o="none",relative:c,reloadDocument:u,replace:d,state:f,target:p,to:m,preventScrollReset:g,viewTransition:y,...v}=t,{basename:b}=i.useContext(q),w="string"===typeof m&&Zt.test(m),x=!1;if("string"===typeof m&&w&&(n=m,Xt))try{let t=new URL(window.location.href),e=m.startsWith("//")?new URL(t.protocol+m):new URL(m),n=P(e.pathname,b);e.origin===t.origin&&null!=n?m=n+e.search+e.hash:x=!0}catch(OA){l(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=function(t){let{relative:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(Q(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=i.useContext(q),{hash:s,pathname:o,search:l}=et(t,{relative:e}),c=o;return"/"!==n&&(c="/"===o?n:N([n,o])),r.createHref({pathname:c,search:l,hash:s})}(m,{relative:c}),[S,E,k]=function(t,e){let n=i.useContext(zt),[r,s]=i.useState(!1),[o,a]=i.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=e,f=i.useRef(null);i.useEffect((()=>{if("render"===t&&a(!0),"viewport"===t){let t=new IntersectionObserver((t=>{t.forEach((t=>{a(t.isIntersecting)}))}),{threshold:.5});return f.current&&t.observe(f.current),()=>{t.disconnect()}}}),[t]),i.useEffect((()=>{if(r){let t=setTimeout((()=>{a(!0)}),100);return()=>{clearTimeout(t)}}}),[r]);let p=()=>{s(!0)},m=()=>{s(!1),a(!1)};return n?"intent"!==t?[o,f,{}]:[o,f,{onFocus:$t(l,p),onBlur:$t(c,m),onMouseEnter:$t(u,p),onMouseLeave:$t(h,m),onTouchStart:$t(d,p)}]:[!1,f,{}]}(o,v),T=function(t){let{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=tt(),c=X(),u=et(t,{relative:o});return i.useCallback((i=>{if(function(t,e){return 0===t.button&&(!e||"_self"===e)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)}(i,e)){i.preventDefault();let e=void 0!==n?n:h(c)===h(u);l(t,{replace:e,state:r,preventScrollReset:s,relative:o,viewTransition:a})}}),[c,l,u,n,r,e,t,s,o,a])}(m,{replace:d,state:f,target:p,preventScrollReset:g,relative:c,viewTransition:y});let C=i.createElement("a",{...v,...k,href:n||_,onClick:x||u?r:function(t){r&&r(t),t.defaultPrevented||T(t)},ref:Qt(e,E),target:p,"data-discover":w||"render"!==s?void 0:"true"});return S&&!w?i.createElement(i.Fragment,null,C,i.createElement(Wt,{page:_})):C}));te.displayName="Link";var ee=i.forwardRef((function(t,e){let{"aria-current":n="page",caseSensitive:r=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:u,children:h,...d}=t,f=et(c,{relative:d.relative}),p=X(),m=i.useContext(B),{navigator:g,basename:y}=i.useContext(q),v=null!=m&&function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.useContext($);a(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=re("useViewTransitionState"),s=et(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=P(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=P(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=C(s.pathname,l)||null!=C(s.pathname,o)}(f)&&!0===u,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=p.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(w=w.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase()),x&&y&&(x=P(x,y)||x);const _="/"!==b&&b.endsWith("/")?b.length-1:b.length;let S,E=w===b||!o&&w.startsWith(b)&&"/"===w.charAt(_),k=null!=x&&(x===b||!o&&x.startsWith(b)&&"/"===x.charAt(b.length)),T={isActive:E,isPending:k,isTransitioning:v},I=E?n:void 0;S="function"===typeof s?s(T):[s,E?"active":null,k?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof l?l(T):l;return i.createElement(te,{...d,"aria-current":I,className:S,ref:e,style:A,to:c,viewTransition:u},"function"===typeof h?h(T):h)}));ee.displayName="NavLink";var ne=i.forwardRef(((t,e)=>{let{discover:n="render",fetcherKey:r,navigate:s,reloadDocument:o,replace:l,state:c,method:u=wt,action:d,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,...y}=t,v=ae(),b=function(t){let{relative:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=i.useContext(q),r=i.useContext(G);a(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...et(t||".",{relative:e})},l=X();if(null==t){o.search=l.search;let t=new URLSearchParams(o.search),e=t.getAll("index"),n=e.some((t=>""===t));if(n){t.delete("index"),e.filter((t=>t)).forEach((e=>t.append("index",e)));let n=t.toString();o.search=n?`?${n}`:""}}t&&"."!==t||!s.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(o.pathname="/"===o.pathname?n:N([n,o.pathname]));return h(o)}(d,{relative:p}),w="get"===u.toLowerCase()?"get":"post",x="string"===typeof d&&Zt.test(d);return i.createElement("form",{ref:e,method:w,action:b,onSubmit:o?f:t=>{if(f&&f(t),t.defaultPrevented)return;t.preventDefault();let e=t.nativeEvent.submitter,n=e?.getAttribute("formmethod")||u;v(e||t.currentTarget,{fetcherKey:r,method:n,navigate:s,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:g})},...y,"data-discover":x||"render"!==n?void 0:"true"})}));function ie(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function re(t){let e=i.useContext(z);return a(e,ie(t)),e}ne.displayName="Form";var se=0,oe=()=>`__${String(++se)}__`;function ae(){let{router:t}=re("useSubmit"),{basename:e}=i.useContext(q),n=ht("useRouteId");return i.useCallback((async function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:o,encType:a,formData:l,body:c}=Tt(i,e);if(!1===r.navigate){let e=r.fetcherKey||oe();await t.fetch(e,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||a,flushSync:r.flushSync})}else await t.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||a,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})}),[t,e,n])}new TextEncoder;const le=t=>{const e=(t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,((t,e,n)=>n?n.toUpperCase():e.toLowerCase())))(t);return e.charAt(0).toUpperCase()+e.slice(1)},ce=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(((t,e,n)=>Boolean(t)&&""!==t.trim()&&n.indexOf(t)===e)).join(" ").trim()};var ue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const he=(0,i.forwardRef)(((t,e)=>{let{color:n="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,iconNode:c,...u}=t;return(0,i.createElement)("svg",{ref:e,...ue,width:r,height:r,stroke:n,strokeWidth:o?24*Number(s)/Number(r):s,className:ce("lucide",a),...u},[...c.map((t=>{let[e,n]=t;return(0,i.createElement)(e,n)})),...Array.isArray(l)?l:[l]])})),de=(t,e)=>{const n=(0,i.forwardRef)(((n,r)=>{let{className:s,...o}=n;return(0,i.createElement)(he,{ref:r,iconNode:e,className:ce(`lucide-${a=le(t),a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${t}`,s),...o});var a}));return n.displayName=le(t),n},fe=de("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var pe=n(579);const me=()=>{const t=tt(),e=X();return(0,pe.jsxs)("nav",{className:"bg-white shadow-md py-3 px-6 flex justify-between items-center sticky top-0 z-50",children:[(0,pe.jsxs)("div",{className:"flex items-center gap-4",children:["/"!==e.pathname&&(0,pe.jsx)("button",{onClick:()=>t(-1),className:"text-gray-700 hover:text-blue-600",children:(0,pe.jsx)(fe,{size:20})}),(0,pe.jsx)("span",{className:"text-xl font-bold text-blue-600 cursor-pointer",onClick:()=>t("/"),children:"\ud83e\udde0 Speech AI"})]}),(0,pe.jsxs)("div",{className:"flex items-center gap-6 text-sm",children:[(0,pe.jsx)("button",{onClick:()=>t("/"),className:"text-gray-700 hover:text-blue-600",children:"Home"}),(0,pe.jsx)("button",{onClick:()=>t("/contact"),className:"text-gray-700 hover:text-blue-600",children:"Contact"})]})]})};function ge(t,e){-1===t.indexOf(e)&&t.push(e)}function ye(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ve=!1,be=!1;function we(t){let e;return()=>(void 0===e&&(e=t()),e)}const xe=t=>t,_e=(t,e,n)=>{const i=e-t;return 0===i?1:(n-t)/i};class Se{constructor(){this.subscriptions=[]}add(t){return ge(this.subscriptions,t),()=>ye(this.subscriptions,t)}notify(t,e,n){const i=this.subscriptions.length;if(i)if(1===i)this.subscriptions[0](t,e,n);else for(let r=0;r<i;r++){const i=this.subscriptions[r];i&&i(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ee=t=>1e3*t,ke=t=>t/1e3;function Te(t,e){return e?t*(1e3/e):0}new Set;function Ce(t){if("undefined"===typeof Proxy)return t;const e=new Map;return new Proxy((function(){return t(...arguments)}),{get:(n,i)=>"create"===i?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function Ie(t){return null!==t&&"object"===typeof t&&"function"===typeof t.start}function Pe(t){const e=[{},{}];return t?.values.forEach(((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()})),e}function Ae(t,e,n,i){if("function"===typeof e){const[r,s]=Pe(i);e=e(void 0!==n?n:t.custom,r,s)}if("string"===typeof e&&(e=t.variants&&t.variants[e]),"function"===typeof e){const[r,s]=Pe(i);e=e(void 0!==n?n:t.custom,r,s)}return e}function Re(t,e,n){const i=t.getProps();return Ae(i,e,void 0!==n?n:i.custom,t)}const De=we((()=>void 0!==window.ScrollTimeline));class Me{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map((t=>t.finished)))}getAll(t){return this.animations[0][t]}setAll(t,e){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=e}attachTimeline(t,e){const n=this.animations.map((n=>De()&&n.attachTimeline?n.attachTimeline(t):"function"===typeof e?e(n):void 0));return()=>{n.forEach(((t,e)=>{t&&t(),this.animations[e].stop()}))}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach((e=>e[t]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Ne extends Me{then(t,e){return this.finished.finally(t).then((()=>{}))}}new Set(["borderWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderRadius","radius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","width","maxWidth","height","maxHeight","top","right","bottom","left","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft","backgroundPositionX","backgroundPositionY"]);const Oe={layout:0,mainThread:0,waapi:0},Le={value:null,addProjectionMetrics:null},Fe=t=>Array.isArray(t)&&"number"===typeof t[0],je={};function Ve(t,e){const n=we(t);return()=>je[e]??n()}const Ue=Ve((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(OA){return!1}return!0}),"linearEasing"),ze=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=t(s/(r-1))+", ";return`linear(${i.substring(0,i.length-2)})`},Be=t=>{let[e,n,i,r]=t;return`cubic-bezier(${e}, ${n}, ${i}, ${r})`},$e={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Be([0,.65,.55,1]),circOut:Be([.55,0,1,.45]),backIn:Be([.31,.01,.66,-.59]),backOut:Be([.33,1.53,.69,.99])};function He(t,e){return t?"function"===typeof t&&Ue()?ze(t,e):Fe(t)?Be(t):Array.isArray(t)?t.map((t=>He(t,e)||$e.easeOut)):$e[t]:void 0}function We(t,e,n){let{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u={[e]:n};l&&(u.offset=l);const h=He(a,r);Array.isArray(h)&&(u.easing=h),Le.value&&Oe.waapi++;const d=t.animate(u,{delay:i,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal",pseudoElement:c});return Le.value&&d.finished.finally((()=>{Oe.waapi--})),d}new WeakMap;function qe(t,e){return t?.[e]??t?.default??t}const Ke=2e4;function Ge(t){let e=0;let n=t.next(e);for(;!n.done&&e<Ke;)e+=50,n=t.next(e);return e>=Ke?1/0:e}function Ye(t){return"function"===typeof t&&"applyToOptions"in t}function Qe(t){return Boolean("function"===typeof t&&Ue()||!t||"string"===typeof t&&(t in $e||Ue())||Fe(t)||Array.isArray(t)&&t.every(Qe))}function Xe(t,e){t.timeline=e,t.onfinish=null}const Je=["read","resolveKeyframes","update","preRender","render","postRender"];function Ze(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Je.reduce(((t,n)=>(t[n]=function(t,e){let n=new Set,i=new Set,r=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(e){o.has(e)&&(u.schedule(e),t()),l++,e(a)}const u={schedule:function(t){const e=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r?n:i;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(t),e.has(t)||e.add(t),t},cancel:t=>{i.delete(t),o.delete(t)},process:t=>{a=t,r?s=!0:(r=!0,[n,i]=[i,n],n.forEach(c),e&&Le.value&&Le.value.frameloop[e].push(l),l=0,n.clear(),r=!1,s&&(s=!1,u.process(t)))}};return u}(s,e?n:void 0),t)),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:d}=o,f=()=>{const s=be?r.timestamp:performance.now();n=!1,be||(r.delta=i?1e3/60:Math.max(Math.min(s-r.timestamp,40),1)),r.timestamp=s,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),u.process(r),h.process(r),d.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(f))},p=Je.reduce(((e,s)=>{const a=o[s];return e[s]=function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,i=!0,r.isProcessing||t(f)),a.schedule(e,s,o)},e}),{});return{schedule:p,cancel:t=>{for(let e=0;e<Je.length;e++)o[Je[e]].cancel(t)},state:r,steps:o}}const{schedule:tn,cancel:en,state:nn,steps:rn}=Ze("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:xe,!0),{schedule:sn,cancel:on}=Ze(queueMicrotask,!1);let an;function ln(){an=void 0}const cn={now:()=>(void 0===an&&cn.set(nn.isProcessing||be?nn.timestamp:performance.now()),an),set:t=>{an=t,queueMicrotask(ln)}},un={x:!1,y:!1};function hn(){return un.x||un.y}function dn(t,e){const n=function(t,e,n){if(t instanceof EventTarget)return[t];if("string"===typeof t){let i=document;e&&(i=e.current);const r=n?.[t]??i.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}(t),i=new AbortController;return[n,{passive:!0,...e,signal:i.signal},()=>i.abort()]}function fn(t){return!("touch"===t.pointerType||hn())}const pn=(t,e)=>!!e&&(t===e||pn(t,e.parentElement)),mn=t=>"mouse"===t.pointerType?"number"!==typeof t.button||t.button<=0:!1!==t.isPrimary,gn=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const yn=new WeakSet;function vn(t){return e=>{"Enter"===e.key&&t(e)}}function bn(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}function wn(t){return mn(t)&&!hn()}function xn(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[i,r,s]=dn(t,n),o=t=>{const i=t.currentTarget;if(!wn(t)||yn.has(i))return;yn.add(i);const s=e(i,t),o=(t,e)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),wn(t)&&yn.has(i)&&(yn.delete(i),"function"===typeof s&&s(t,{success:e}))},a=t=>{o(t,i===window||i===document||n.useGlobalTarget||pn(i,t.target))},l=t=>{o(t,!1)};window.addEventListener("pointerup",a,r),window.addEventListener("pointercancel",l,r)};return i.forEach((t=>{var e;(n.useGlobalTarget?window:t).addEventListener("pointerdown",o,r),t instanceof HTMLElement&&(t.addEventListener("focus",(t=>((t,e)=>{const n=t.currentTarget;if(!n)return;const i=vn((()=>{if(yn.has(n))return;bn(n,"down");const t=vn((()=>{bn(n,"up")}));n.addEventListener("keyup",t,e),n.addEventListener("blur",(()=>bn(n,"cancel")),e)}));n.addEventListener("keydown",i,e),n.addEventListener("blur",(()=>n.removeEventListener("keydown",i)),e)})(t,r))),e=t,gn.has(e.tagName)||-1!==e.tabIndex||t.hasAttribute("tabindex")||(t.tabIndex=0))})),s}const _n={current:void 0};class Sn{constructor(t){var e=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="12.6.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=cn.now();e.updatedAt!==i&&e.setPrevFrameValue(),e.prev=e.current,e.setCurrent(t),e.current!==e.prev&&e.events.change&&e.events.change.notify(e.current),n&&e.events.renderRequest&&e.events.renderRequest.notify(e.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){var e;this.current=t,this.updatedAt=cn.now(),null===this.canTrackVelocity&&void 0!==t&&(this.canTrackVelocity=(e=this.current,!isNaN(parseFloat(e))))}setPrevFrameValue(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Se);const n=this.events[t].add(e);return"change"===t?()=>{n(),tn.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return _n.current&&_n.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=cn.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Te(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise((e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function En(t,e){return new Sn(t,e)}const kn=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tn=new Set(kn),Cn=new Set(["width","height","top","left","right","bottom",...kn]),In=t=>Array.isArray(t),Pn=t=>In(t)?t[t.length-1]||0:t;function An(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,En(n))}const Rn=t=>Boolean(t&&t.getVelocity);function Dn(t,e){const n=t.getValue("willChange");if(i=n,Boolean(Rn(i)&&i.add))return n.add(e);var i}const Mn=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Nn="data-"+Mn("framerAppearId");function On(t){return t.props[Nn]}const Ln=!1,Fn=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t;function jn(t,e,n,i){if(t===e&&n===i)return xe;const r=e=>function(t,e,n,i,r){let s,o,a=0;do{o=e+(n-e)/2,s=Fn(o,i,r)-t,s>0?n=o:e=o}while(Math.abs(s)>1e-7&&++a<12);return o}(e,0,1,t,n);return t=>0===t||1===t?t:Fn(r(t),e,i)}const Vn=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Un=t=>e=>1-t(1-e),zn=jn(.33,1.53,.69,.99),Bn=Un(zn),$n=Vn(Bn),Hn=t=>(t*=2)<1?.5*Bn(t):.5*(2-Math.pow(2,-10*(t-1))),Wn=t=>1-Math.sin(Math.acos(t)),qn=Un(Wn),Kn=Vn(Wn),Gn=t=>/^0[^.\s]+$/u.test(t);const Yn=(t,e,n)=>n>e?e:n<t?t:n,Qn={test:t=>"number"===typeof t,parse:parseFloat,transform:t=>t},Xn={...Qn,transform:t=>Yn(0,1,t)},Jn={...Qn,default:1},Zn=t=>Math.round(1e5*t)/1e5,ti=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const ei=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ni=(t,e)=>n=>Boolean("string"===typeof n&&ei.test(n)&&n.startsWith(t)||e&&!function(t){return null==t}(n)&&Object.prototype.hasOwnProperty.call(n,e)),ii=(t,e,n)=>i=>{if("string"!==typeof i)return i;const[r,s,o,a]=i.match(ti);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},ri={...Qn,transform:t=>Math.round((t=>Yn(0,255,t))(t))},si={test:ni("rgb","red"),parse:ii("red","green","blue"),transform:t=>{let{red:e,green:n,blue:i,alpha:r=1}=t;return"rgba("+ri.transform(e)+", "+ri.transform(n)+", "+ri.transform(i)+", "+Zn(Xn.transform(r))+")"}};const oi={test:ni("#"),parse:function(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}},transform:si.transform},ai=t=>({test:e=>"string"===typeof e&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),li=ai("deg"),ci=ai("%"),ui=ai("px"),hi=ai("vh"),di=ai("vw"),fi={...ci,parse:t=>ci.parse(t)/100,transform:t=>ci.transform(100*t)},pi={test:ni("hsl","hue"),parse:ii("hue","saturation","lightness"),transform:t=>{let{hue:e,saturation:n,lightness:i,alpha:r=1}=t;return"hsla("+Math.round(e)+", "+ci.transform(Zn(n))+", "+ci.transform(Zn(i))+", "+Zn(Xn.transform(r))+")"}},mi={test:t=>si.test(t)||oi.test(t)||pi.test(t),parse:t=>si.test(t)?si.parse(t):pi.test(t)?pi.parse(t):oi.parse(t),transform:t=>"string"===typeof t?t:t.hasOwnProperty("red")?si.transform(t):pi.transform(t)},gi=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const yi="number",vi="color",bi=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wi(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const o=e.replace(bi,(t=>(mi.test(t)?(i.color.push(s),r.push(vi),n.push(mi.parse(t))):t.startsWith("var(")?(i.var.push(s),r.push("var"),n.push(t)):(i.number.push(s),r.push(yi),n.push(parseFloat(t))),++s,"${}"))).split("${}");return{values:n,split:o,indexes:i,types:r}}function xi(t){return wi(t).values}function _i(t){const{split:e,types:n}=wi(t),i=e.length;return t=>{let r="";for(let s=0;s<i;s++)if(r+=e[s],void 0!==t[s]){const e=n[s];r+=e===yi?Zn(t[s]):e===vi?mi.transform(t[s]):t[s]}return r}}const Si=t=>"number"===typeof t?0:t;const Ei={test:function(t){return isNaN(t)&&"string"===typeof t&&(t.match(ti)?.length||0)+(t.match(gi)?.length||0)>0},parse:xi,createTransformer:_i,getAnimatableNone:function(t){const e=xi(t);return _i(t)(e.map(Si))}},ki=new Set(["brightness","contrast","saturate","opacity"]);function Ti(t){const[e,n]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;const[i]=n.match(ti)||[];if(!i)return t;const r=n.replace(i,"");let s=ki.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const Ci=/\b([a-z-]*)\(.*?\)/gu,Ii={...Ei,getAnimatableNone:t=>{const e=t.match(Ci);return e?e.map(Ti).join(" "):t}},Pi={borderWidth:ui,borderTopWidth:ui,borderRightWidth:ui,borderBottomWidth:ui,borderLeftWidth:ui,borderRadius:ui,radius:ui,borderTopLeftRadius:ui,borderTopRightRadius:ui,borderBottomRightRadius:ui,borderBottomLeftRadius:ui,width:ui,maxWidth:ui,height:ui,maxHeight:ui,top:ui,right:ui,bottom:ui,left:ui,padding:ui,paddingTop:ui,paddingRight:ui,paddingBottom:ui,paddingLeft:ui,margin:ui,marginTop:ui,marginRight:ui,marginBottom:ui,marginLeft:ui,backgroundPositionX:ui,backgroundPositionY:ui},Ai={rotate:li,rotateX:li,rotateY:li,rotateZ:li,scale:Jn,scaleX:Jn,scaleY:Jn,scaleZ:Jn,skew:li,skewX:li,skewY:li,distance:ui,translateX:ui,translateY:ui,translateZ:ui,x:ui,y:ui,z:ui,perspective:ui,transformPerspective:ui,opacity:Xn,originX:fi,originY:fi,originZ:ui},Ri={...Qn,transform:Math.round},Di={...Pi,...Ai,zIndex:Ri,size:ui,fillOpacity:Xn,strokeOpacity:Xn,numOctaves:Ri},Mi={...Di,color:mi,backgroundColor:mi,outlineColor:mi,fill:mi,stroke:mi,borderColor:mi,borderTopColor:mi,borderRightColor:mi,borderBottomColor:mi,borderLeftColor:mi,filter:Ii,WebkitFilter:Ii},Ni=t=>Mi[t];function Oi(t,e){let n=Ni(t);return n!==Ii&&(n=Ei),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Li=new Set(["auto","none","0"]);const Fi=t=>180*t/Math.PI,ji=t=>{const e=Fi(Math.atan2(t[1],t[0]));return Ui(e)},Vi={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ji,rotateZ:ji,skewX:t=>Fi(Math.atan(t[1])),skewY:t=>Fi(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ui=t=>((t%=360)<0&&(t+=360),t),zi=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Bi=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),$i={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:zi,scaleY:Bi,scale:t=>(zi(t)+Bi(t))/2,rotateX:t=>Ui(Fi(Math.atan2(t[6],t[5]))),rotateY:t=>Ui(Fi(Math.atan2(-t[2],t[0]))),rotateZ:ji,rotate:ji,skewX:t=>Fi(Math.atan(t[4])),skewY:t=>Fi(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Hi(t){return t.includes("scale")?1:0}function Wi(t,e){if(!t||"none"===t)return Hi(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=$i,r=n;else{const e=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Vi,r=e}if(!r)return Hi(e);const s=i[e],o=r[1].split(",").map(qi);return"function"===typeof s?s(o):o[s]}function qi(t){return parseFloat(t.trim())}const Ki=t=>t===Qn||t===ui,Gi=new Set(["x","y","z"]),Yi=kn.filter((t=>!Gi.has(t)));const Qi={width:(t,e)=>{let{x:n}=t,{paddingLeft:i="0",paddingRight:r="0"}=e;return n.max-n.min-parseFloat(i)-parseFloat(r)},height:(t,e)=>{let{y:n}=t,{paddingTop:i="0",paddingBottom:r="0"}=e;return n.max-n.min-parseFloat(i)-parseFloat(r)},top:(t,e)=>{let{top:n}=e;return parseFloat(n)},left:(t,e)=>{let{left:n}=e;return parseFloat(n)},bottom:(t,e)=>{let{y:n}=t,{top:i}=e;return parseFloat(i)+(n.max-n.min)},right:(t,e)=>{let{x:n}=t,{left:i}=e;return parseFloat(i)+(n.max-n.min)},x:(t,e)=>{let{transform:n}=e;return Wi(n,"x")},y:(t,e)=>{let{transform:n}=e;return Wi(n,"y")}};Qi.translateX=Qi.x,Qi.translateY=Qi.y;const Xi=new Set;let Ji=!1,Zi=!1;function tr(){if(Zi){const t=Array.from(Xi).filter((t=>t.needsMeasurement)),e=new Set(t.map((t=>t.element))),n=new Map;e.forEach((t=>{const e=function(t){const e=[];return Yi.forEach((n=>{const i=t.getValue(n);void 0!==i&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))})),e}(t);e.length&&(n.set(t,e),t.render())})),t.forEach((t=>t.measureInitialState())),e.forEach((t=>{t.render();const e=n.get(t);e&&e.forEach((e=>{let[n,i]=e;t.getValue(n)?.set(i)}))})),t.forEach((t=>t.measureEndState())),t.forEach((t=>{void 0!==t.suspendedScrollY&&window.scrollTo(0,t.suspendedScrollY)}))}Zi=!1,Ji=!1,Xi.forEach((t=>t.complete())),Xi.clear()}function er(){Xi.forEach((t=>{t.readKeyframes(),t.needsMeasurement&&(Zi=!0)}))}class nr{constructor(t,e,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=i,this.element=r,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Xi.add(this),Ji||(Ji=!0,tn.read(er),tn.resolveKeyframes(tr))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:n,motionValue:i}=this;for(let r=0;r<t.length;r++)if(null===t[r])if(0===r){const r=i?.get(),s=t[t.length-1];if(void 0!==r)t[0]=r;else if(n&&e){const i=n.readValue(e,s);void 0!==i&&null!==i&&(t[0]=i)}void 0===t[0]&&(t[0]=s),i&&void 0===r&&i.set(t[0])}else t[r]=t[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Xi.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Xi.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ir=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),rr=t=>e=>"string"===typeof e&&e.startsWith(t),sr=rr("--"),or=rr("var(--"),ar=t=>!!or(t)&&lr.test(t.split("/*")[0].trim()),lr=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,cr=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ur(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const[i,r]=function(t){const e=cr.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const t=s.trim();return ir(t)?parseFloat(t):t}return ar(r)?ur(r,e,n+1):r}const hr=t=>e=>e.test(t),dr=[Qn,ui,ci,li,di,hi,{test:t=>"auto"===t,parse:t=>t}],fr=t=>dr.find(hr(t));class pr extends nr{constructor(t,e,n,i,r){super(t,e,n,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let a=0;a<t.length;a++){let n=t[a];if("string"===typeof n&&(n=n.trim(),ar(n))){const i=ur(n,e.current);void 0!==i&&(t[a]=i),a===t.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Cn.has(n)||2!==t.length)return;const[i,r]=t,s=fr(i),o=fr(r);if(s!==o)if(Ki(s)&&Ki(o))for(let a=0;a<t.length;a++){const e=t[a];"string"===typeof e&&(t[a]=parseFloat(e))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,n=[];for(let r=0;r<t.length;r++)("number"===typeof(i=t[r])?0===i:null===i||"none"===i||"0"===i||Gn(i))&&n.push(r);var i;n.length&&function(t,e,n){let i,r=0;for(;r<t.length&&!i;){const e=t[r];"string"===typeof e&&!Li.has(e)&&wi(e).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=Oi(n,i)}(t,n,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:n}=this;if(!t||!t.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qi[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const i=e[e.length-1];void 0!==i&&t.getValue(n,i).jump(i,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(e);i&&i.jump(this.measuredOrigin,!1);const r=n.length-1,s=n[r];n[r]=Qi[e](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach((e=>{let[n,i]=e;t.getValue(n).set(i)})),this.resolveNoneKeyframes()}}const mr=(t,e)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!Ei.test(t)&&"0"!==t||t.startsWith("url(")));function gr(t,e,n,i){const r=t[0];if(null===r)return!1;if("display"===e||"visibility"===e)return!0;const s=t[t.length-1],o=mr(r,e),a=mr(s,e);return!(!o||!a)&&(function(t){const e=t[0];if(1===t.length)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}(t)||("spring"===n||Ye(n))&&i)}const yr=t=>null!==t;function vr(t,e,n){let{repeat:i,repeatType:r="loop"}=e;const s=t.filter(yr),o=i&&"loop"!==r&&i%2===1?0:s.length-1;return o&&void 0!==n?n:s[o]}class br{constructor(t){let{autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}=t;this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=cn.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(er(),tr()),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=cn.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:r,delay:s,onComplete:o,onUpdate:a,isGenerator:l}=this.options;if(!l&&!gr(t,n,i,r)){if(Ln||!s)return a&&a(vr(t,this.options,e)),o&&o(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(t,e);!1!==c&&(this._resolved={keyframes:t,finalKeyframe:e,...c},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise((t=>{this.resolveFinishedPromise=t}))}}const wr=(t,e,n)=>t+(e-t)*n;function xr(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function _r(t,e){return n=>n>0?e:t}const Sr=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},Er=[oi,si,pi];function kr(t){const e=(t=>Er.find((e=>e.test(t))))(t);if(Boolean(e),!Boolean(e))return!1;let n=e.parse(t);return e===pi&&(n=function(t){let{hue:e,saturation:n,lightness:i,alpha:r}=t;e/=360,n/=100,i/=100;let s=0,o=0,a=0;if(n){const t=i<.5?i*(1+n):i+n-i*n,r=2*i-t;s=xr(r,t,e+1/3),o=xr(r,t,e),a=xr(r,t,e-1/3)}else s=o=a=i;return{red:Math.round(255*s),green:Math.round(255*o),blue:Math.round(255*a),alpha:r}}(n)),n}const Tr=(t,e)=>{const n=kr(t),i=kr(e);if(!n||!i)return _r(t,e);const r={...n};return t=>(r.red=Sr(n.red,i.red,t),r.green=Sr(n.green,i.green,t),r.blue=Sr(n.blue,i.blue,t),r.alpha=wr(n.alpha,i.alpha,t),si.transform(r))},Cr=(t,e)=>n=>e(t(n)),Ir=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(Cr)},Pr=new Set(["none","hidden"]);function Ar(t,e){return n=>wr(t,e,n)}function Rr(t){return"number"===typeof t?Ar:"string"===typeof t?ar(t)?_r:mi.test(t)?Tr:Nr:Array.isArray(t)?Dr:"object"===typeof t?mi.test(t)?Tr:Mr:_r}function Dr(t,e){const n=[...t],i=n.length,r=t.map(((t,n)=>Rr(t)(t,e[n])));return t=>{for(let e=0;e<i;e++)n[e]=r[e](t);return n}}function Mr(t,e){const n={...t,...e},i={};for(const r in n)void 0!==t[r]&&void 0!==e[r]&&(i[r]=Rr(t[r])(t[r],e[r]));return t=>{for(const e in i)n[e]=i[e](t);return n}}const Nr=(t,e)=>{const n=Ei.createTransformer(e),i=wi(t),r=wi(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?Pr.has(t)&&!r.values.length||Pr.has(e)&&!i.values.length?function(t,e){return Pr.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}(t,e):Ir(Dr(function(t,e){const n=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const s=e.types[r],o=t.indexes[s][i[s]],a=t.values[o]??0;n[r]=a,i[s]++}return n}(i,r),r.values),n):_r(t,e)};function Or(t,e,n){if("number"===typeof t&&"number"===typeof e&&"number"===typeof n)return wr(t,e,n);return Rr(t)(t,e)}function Lr(t,e,n){const i=Math.max(e-5,0);return Te(n-t(i),e-i)}const Fr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jr=.001;function Vr(t){let e,n,{duration:i=Fr.duration,bounce:r=Fr.bounce,velocity:s=Fr.velocity,mass:o=Fr.mass}=t;Ee(Fr.maxDuration);let a=1-r;a=Yn(Fr.minDamping,Fr.maxDamping,a),i=Yn(Fr.minDuration,Fr.maxDuration,ke(i)),a<1?(e=t=>{const e=t*a,n=e*i,r=e-s,o=zr(t,a),l=Math.exp(-n);return jr-r/o*l},n=t=>{const n=t*a*i,r=n*s+s,o=Math.pow(a,2)*Math.pow(t,2)*i,l=Math.exp(-n),c=zr(Math.pow(t,2),a);return(-e(t)+jr>0?-1:1)*((r-o)*l)/c}):(e=t=>Math.exp(-t*i)*((t-s)*i+1)-.001,n=t=>Math.exp(-t*i)*(i*i*(s-t)));const l=function(t,e,n){let i=n;for(let r=1;r<Ur;r++)i-=t(i)/e(i);return i}(e,n,5/i);if(i=Ee(i),isNaN(l))return{stiffness:Fr.stiffness,damping:Fr.damping,duration:i};{const t=Math.pow(l,2)*o;return{stiffness:t,damping:2*a*Math.sqrt(o*t),duration:i}}}const Ur=12;function zr(t,e){return t*Math.sqrt(1-e*e)}const Br=["duration","bounce"],$r=["stiffness","damping","mass"];function Hr(t,e){return e.some((e=>void 0!==t[e]))}function Wr(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr.visualDuration,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fr.bounce;const n="object"!==typeof t?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:h,velocity:d,isResolvedFromDuration:f}=function(t){let e={velocity:Fr.velocity,stiffness:Fr.stiffness,damping:Fr.damping,mass:Fr.mass,isResolvedFromDuration:!1,...t};if(!Hr(t,$r)&&Hr(t,Br))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(1.2*n),r=i*i,s=2*Yn(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Fr.mass,stiffness:r,damping:s}}else{const n=Vr(t);e={...e,...n,mass:Fr.mass},e.isResolvedFromDuration=!0}return e}({...n,velocity:-ke(n.velocity||0)}),p=d||0,m=c/(2*Math.sqrt(l*u)),g=o-s,y=ke(Math.sqrt(l/u)),v=Math.abs(g)<5;let b;if(i||(i=v?Fr.restSpeed.granular:Fr.restSpeed.default),r||(r=v?Fr.restDelta.granular:Fr.restDelta.default),m<1){const t=zr(y,m);b=e=>{const n=Math.exp(-m*y*e);return o-n*((p+m*y*g)/t*Math.sin(t*e)+g*Math.cos(t*e))}}else if(1===m)b=t=>o-Math.exp(-y*t)*(g+(p+y*g)*t);else{const t=y*Math.sqrt(m*m-1);b=e=>{const n=Math.exp(-m*y*e),i=Math.min(t*e,300);return o-n*((p+m*y*g)*Math.sinh(i)+t*g*Math.cosh(i))/t}}const w={calculatedDuration:f&&h||null,next:t=>{const e=b(t);if(f)a.done=t>=h;else{let n=0;m<1&&(n=0===t?Ee(p):Lr(b,t,e));const s=Math.abs(n)<=i,l=Math.abs(o-e)<=r;a.done=s&&l}return a.value=a.done?o:e,a},toString:()=>{const t=Math.min(Ge(w),Ke),e=ze((e=>w.next(t*e).value),t,30);return t+"ms "+e},toTransition:()=>{}};return w}function qr(t){let{keyframes:e,velocity:n=0,power:i=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:h}=t;const d=e[0],f={done:!1,value:d},p=t=>void 0===l?c:void 0===c||Math.abs(l-t)<Math.abs(c-t)?l:c;let m=i*n;const g=d+m,y=void 0===a?g:a(g);y!==g&&(m=y-d);const v=t=>-m*Math.exp(-t/r),b=t=>y+v(t),w=t=>{const e=v(t),n=b(t);f.done=Math.abs(e)<=u,f.value=f.done?y:n};let x,_;const S=t=>{(t=>void 0!==l&&t<l||void 0!==c&&t>c)(f.value)&&(x=t,_=Wr({keyframes:[f.value,p(f.value)],velocity:Lr(b,t,f.value),damping:s,stiffness:o,restDelta:u,restSpeed:h}))};return S(0),{calculatedDuration:null,next:t=>{let e=!1;return _||void 0!==x||(e=!0,w(t),S(t)),void 0!==x&&t>=x?_.next(t-x):(!e&&w(t),f)}}}Wr.applyToOptions=t=>{const e=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)({...t,keyframes:[0,e]}),i=Math.min(Ge(n),Ke);return{type:"keyframes",ease:t=>n.next(i*t).value/e,duration:ke(i)}}(t,100,Wr);return t.ease=Ue()?e.ease:"easeOut",t.duration=Ee(e.duration),t.type="keyframes",t};const Kr=jn(.42,0,1,1),Gr=jn(0,0,.58,1),Yr=jn(.42,0,.58,1),Qr={linear:xe,easeIn:Kr,easeInOut:Yr,easeOut:Gr,circIn:Wn,circInOut:Kn,circOut:qn,backIn:Bn,backInOut:$n,backOut:zn,anticipate:Hn},Xr=t=>{if(Fe(t)){t.length;const[e,n,i,r]=t;return jn(e,n,i,r)}return"string"===typeof t?Qr[t]:t};function Jr(t,e){let{clamp:n=!0,ease:i,mixer:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=t.length;if(e.length,1===s)return()=>e[0];if(2===s&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=function(t,e,n){const i=[],r=n||Or,s=t.length-1;for(let o=0;o<s;o++){let n=r(t[o],t[o+1]);if(e){const t=Array.isArray(e)?e[o]||xe:e;n=Ir(t,n)}i.push(n)}return i}(e,i,r),l=a.length,c=n=>{if(o&&n<t[0])return e[0];let i=0;if(l>1)for(;i<t.length-2&&!(n<t[i+1]);i++);const r=_e(t[i],t[i+1],n);return a[i](r)};return n?e=>c(Yn(t[0],t[s-1],e)):c}function Zr(t){const e=[0];return function(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=_e(0,e,i);t.push(wr(n,1,r))}}(e,t.length-1),e}function ts(t){let{duration:e=300,keyframes:n,times:i,ease:r="easeInOut"}=t;const s=(t=>Array.isArray(t)&&"number"!==typeof t[0])(r)?r.map(Xr):Xr(r),o={done:!1,value:n[0]},a=function(t,e){return t.map((t=>t*e))}(i&&i.length===n.length?i:Zr(n),e),l=Jr(a,n,{ease:Array.isArray(s)?s:(c=n,u=s,c.map((()=>u||Yr)).splice(0,c.length-1))});var c,u;return{calculatedDuration:e,next:t=>(o.value=l(t),o.done=t>=e,o)}}const es=t=>{const e=e=>{let{timestamp:n}=e;return t(n)};return{start:()=>tn.update(e,!0),stop:()=>en(e),now:()=>nn.isProcessing?nn.timestamp:cn.now()}},ns={decay:qr,inertia:qr,tween:ts,keyframes:ts,spring:Wr},is=t=>t/100;class rs extends br{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:t}=this.options;t&&t()};const{name:e,motionValue:n,element:i,keyframes:r}=this.options,s=i?.KeyframeResolver||nr;this.resolver=new s(r,((t,e)=>this.onKeyframesResolved(t,e)),e,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:e="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:r,velocity:s=0}=this.options,o=Ye(e)?e:ns[e]||ts;let a,l;o!==ts&&"number"!==typeof t[0]&&(a=Ir(is,Or(t[0],t[1])),t=[0,100]);const c=o({...this.options,keyframes:t});"mirror"===r&&(l=o({...this.options,keyframes:[...t].reverse(),velocity:-s})),null===c.calculatedDuration&&(c.calculatedDuration=Ge(c));const{calculatedDuration:u}=c,h=u+i;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:a,calculatedDuration:u,resolvedDuration:h,totalDuration:h*(n+1)-i}}onPostResolved(){const{autoplay:t=!0}=this.options;Oe.mainThread++,this.play(),"paused"!==this.pendingPlayState&&t?this.state=this.pendingPlayState:this.pause()}tick(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:t}=this.options;return{done:!0,value:t[t.length-1]}}const{finalKeyframe:i,generator:r,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:a,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=n;if(null===this.startTime)return r.next(0);const{delay:h,repeat:d,repeatType:f,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),e?this.currentTime=t:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-h*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let v=this.currentTime,b=r;if(d){const t=Math.min(this.currentTime,c)/u;let e=Math.floor(t),n=t%1;!n&&t>=1&&(n=1),1===n&&e--,e=Math.min(e,d+1);Boolean(e%2)&&("reverse"===f?(n=1-n,p&&(n-=p/u)):"mirror"===f&&(b=s)),v=Yn(0,1,n)*u}const w=y?{done:!1,value:a[0]}:b.next(v);o&&(w.value=o(w.value));let{done:x}=w;y||null===l||(x=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const _=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return _&&void 0!==i&&(w.value=vr(a,this.options,i)),m&&m(w.value),_&&this.finish(),w}get duration(){const{resolved:t}=this;return t?ke(t.calculatedDuration):0}get time(){return ke(this.currentTime)}set time(t){t=Ee(t),this.currentTime=t,null!==this.holdTime||0===this.speed?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=ke(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:t=es,onPlay:e,startTime:n}=this.options;this.driver||(this.driver=t((t=>this.tick(t)))),e&&e();const i=this.driver.now();null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=i):this.startTime=n??this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){this._resolved?(this.state="paused",this.holdTime=this.currentTime??0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel(),Oe.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}get finished(){return this.currentFinishedPromise}}const ss=new Set(["opacity","clipPath","filter","transform"]),os=we((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));const as={anticipate:Hn,backInOut:$n,circInOut:Kn};class ls extends br{constructor(t){super(t);const{name:e,motionValue:n,element:i,keyframes:r}=this.options;this.resolver=new pr(r,((t,e)=>this.onKeyframesResolved(t,e)),e,n,i),this.resolver.scheduleResolve()}initPlayback(t,e){let{duration:n=300,times:i,ease:r,type:s,motionValue:o,name:a,startTime:l}=this.options;if(!o.owner||!o.owner.current)return!1;var c;if("string"===typeof r&&Ue()&&r in as&&(r=as[r]),Ye((c=this.options).type)||"spring"===c.type||!Qe(c.ease)){const{onComplete:e,onUpdate:o,motionValue:a,element:l,...c}=this.options,u=function(t,e){const n=new rs({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let s=0;for(;!i.done&&s<2e4;)i=n.sample(s),r.push(i.value),s+=10;return{times:void 0,keyframes:r,duration:s-10,ease:"linear"}}(t,c);1===(t=u.keyframes).length&&(t[1]=t[0]),n=u.duration,i=u.times,r=u.ease,s="keyframes"}const u=We(o.owner.current,a,t,{...this.options,duration:n,times:i,ease:r});return u.startTime=l??this.calcStartTime(),this.pendingTimeline?(Xe(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:n}=this.options;o.set(vr(t,this.options,e)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:n,times:i,type:s,ease:r,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:e}=t;return ke(e)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:e}=t;return ke(e.currentTime||0)}set time(t){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.currentTime=Ee(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:e}=t;return e.playbackRate}get finished(){return this.resolved.animation.finished}set speed(t){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:e}=t;return e.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:e}=t;return e.startTime}attachTimeline(t){if(this._resolved){const{resolved:e}=this;if(!e)return xe;const{animation:n}=e;Xe(n,t)}else this.pendingTimeline=t;return xe}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:e}=t;"finished"===e.playState&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:e,keyframes:n,duration:i,type:r,ease:s,times:o}=t;if("idle"===e.playState||"finished"===e.playState)return;if(this.time){const{motionValue:t,onUpdate:e,onComplete:a,element:l,...c}=this.options,u=new rs({...c,keyframes:n,duration:i,type:r,ease:s,times:o,isGenerator:!0}),h=Ee(this.time);t.setWithVelocity(u.sample(h-10).value,u.sample(h).value,10)}const{onStop:a}=this.options;a&&a(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:r,damping:s,type:o}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return os()&&n&&ss.has(n)&&("transform"!==n||!l)&&!a&&!i&&"mirror"!==r&&0!==s&&"inertia"!==o}}const cs={type:"spring",stiffness:500,damping:25,restSpeed:10},us={type:"keyframes",duration:.8},hs={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ds=(t,e)=>{let{keyframes:n}=e;return n.length>2?us:Tn.has(t)?t.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:cs:hs};const fs=function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;return o=>{const a=qe(i,t)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c-=Ee(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:t=>{e.set(t),a.onUpdate&&a.onUpdate(t)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:r};(function(t){let{when:e,delay:n,delayChildren:i,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:u,...h}=t;return!!Object.keys(h).length})(a)||(u={...u,...ds(t,u)}),u.duration&&(u.duration=Ee(u.duration)),u.repeatDelay&&(u.repeatDelay=Ee(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let h=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(u.duration=0,0===u.delay&&(h=!0)),(Ln||ve)&&(h=!0,u.duration=0,u.delay=0),u.allowFlatten=!a.type&&!a.ease,h&&!s&&void 0!==e.get()){const t=vr(u.keyframes,a);if(void 0!==t)return tn.update((()=>{u.onUpdate(t),u.onComplete()})),new Ne([])}return!s&&ls.supports(u)?new ls(u):new rs(u)}};function ps(t,e){let{protectedKeys:n,needsAnimating:i}=t;const r=n.hasOwnProperty(e)&&!0!==i[e];return i[e]=!1,r}function ms(t,e){let{delay:n=0,transitionOverride:i,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;i&&(s=i);const l=[],c=r&&t.animationState&&t.animationState.getState()[r];for(const u in a){const e=t.getValue(u,t.latestValues[u]??null),i=a[u];if(void 0===i||c&&ps(c,u))continue;const r={delay:n,...qe(s||{},u)};let o=!1;if(window.MotionHandoffAnimation){const e=On(t);if(e){const t=window.MotionHandoffAnimation(e,u,tn);null!==t&&(r.startTime=t,o=!0)}}Dn(t,u),e.start(fs(u,e,i,t.shouldReduceMotion&&Cn.has(u)?{type:!1}:r,t,o));const h=e.animation;h&&l.push(h)}return o&&Promise.all(l).then((()=>{tn.update((()=>{o&&function(t,e){const n=Re(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s)An(t,o,Pn(s[o]))}(t,o)}))})),l}function gs(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=Re(t,e,"exit"===n.type?t.presenceContext?.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const s=i?()=>Promise.all(ms(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?function(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:o,staggerDirection:a}=r;return function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const o=[],a=(t.variantChildren.size-1)*i,l=1===r?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*i}:function(){return a-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*i};return Array.from(t.variantChildren).sort(ys).forEach(((t,i)=>{t.notify("AnimationStart",e),o.push(gs(t,e,{...s,delay:n+l(i)}).then((()=>t.notify("AnimationComplete",e))))})),Promise.all(o)}(t,e,s+i,o,a,n)}:()=>Promise.resolve(),{when:a}=r;if(a){const[t,e]="beforeChildren"===a?[s,o]:[o,s];return t().then((()=>e()))}return Promise.all([s(),o(n.delay)])}function ys(t,e){return t.sortNodePosition(e)}function vs(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function bs(t){return"string"===typeof t||Array.isArray(t)}const ws=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xs=["initial",...ws],_s=xs.length;function Ss(t){if(!t)return;if(!t.isControllingVariants){const e=t.parent&&Ss(t.parent)||{};return void 0!==t.props.initial&&(e.initial=t.props.initial),e}const e={};for(let n=0;n<_s;n++){const i=xs[n],r=t.props[i];(bs(r)||!1===r)&&(e[i]=r)}return e}const Es=[...ws].reverse(),ks=ws.length;function Ts(t){return e=>Promise.all(e.map((e=>{let{animation:n,options:i}=e;return function(t,e){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.notify("AnimationStart",e),Array.isArray(e)){const r=e.map((e=>gs(t,e,i)));n=Promise.all(r)}else if("string"===typeof e)n=gs(t,e,i);else{const r="function"===typeof e?Re(t,e,i.custom):e;n=Promise.all(ms(t,r,i))}return n.then((()=>{t.notify("AnimationComplete",e)}))}(t,n,i)})))}function Cs(t){let e=Ts(t),n=As(),i=!0;const r=e=>(n,i)=>{const r=Re(t,i,"exit"===e?t.presenceContext?.custom:void 0);if(r){const{transition:t,transitionEnd:e,...i}=r;n={...n,...i,...e}}return n};function s(s){const{props:o}=t,a=Ss(t.parent)||{},l=[],c=new Set;let u={},h=1/0;for(let e=0;e<ks;e++){const d=Es[e],f=n[d],p=void 0!==o[d]?o[d]:a[d],m=bs(p),g=d===s?f.isActive:null;!1===g&&(h=e);let y=p===a[d]&&p!==o[d]&&m;if(y&&i&&t.manuallyAnimateOnMount&&(y=!1),f.protectedKeys={...u},!f.isActive&&null===g||!p&&!f.prevProp||Ie(p)||"boolean"===typeof p)continue;const v=Is(f.prevProp,p);let b=v||d===s&&f.isActive&&!y&&m||e>h&&m,w=!1;const x=Array.isArray(p)?p:[p];let _=x.reduce(r(d),{});!1===g&&(_={});const{prevResolvedValues:S={}}=f,E={...S,..._},k=e=>{b=!0,c.has(e)&&(w=!0,c.delete(e)),f.needsAnimating[e]=!0;const n=t.getValue(e);n&&(n.liveStyle=!1)};for(const t in E){const e=_[t],n=S[t];if(u.hasOwnProperty(t))continue;let i=!1;i=In(e)&&In(n)?!vs(e,n):e!==n,i?void 0!==e&&null!==e?k(t):c.add(t):void 0!==e&&c.has(t)?k(t):f.protectedKeys[t]=!0}f.prevProp=p,f.prevResolvedValues=_,f.isActive&&(u={...u,..._}),i&&t.blockInitialAnimation&&(b=!1);b&&(!(y&&v)||w)&&l.push(...x.map((t=>({animation:t,options:{type:d}}))))}if(c.size){const e={};if("boolean"!==typeof o.initial){const n=Re(t,Array.isArray(o.initial)?o.initial[0]:o.initial);n&&n.transition&&(e.transition=n.transition)}c.forEach((n=>{const i=t.getBaseTarget(n),r=t.getValue(n);r&&(r.liveStyle=!0),e[n]=i??null})),l.push({animation:e})}let d=Boolean(l.length);return!i||!1!==o.initial&&o.initial!==o.animate||t.manuallyAnimateOnMount||(d=!1),i=!1,d?e(l):Promise.resolve()}return{animateChanges:s,setActive:function(e,i){if(n[e].isActive===i)return Promise.resolve();t.variantChildren?.forEach((t=>t.animationState?.setActive(e,i))),n[e].isActive=i;const r=s(e);for(const t in n)n[t].protectedKeys={};return r},setAnimateFunction:function(n){e=n(t)},getState:()=>n,reset:()=>{n=As(),i=!0}}}function Is(t,e){return"string"===typeof e?e!==t:!!Array.isArray(e)&&!vs(e,t)}function Ps(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function As(){return{animate:Ps(!0),whileInView:Ps(),whileHover:Ps(),whileTap:Ps(),whileDrag:Ps(),whileFocus:Ps(),exit:Ps()}}class Rs{constructor(t){this.isMounted=!1,this.node=t}update(){}}let Ds=0;const Ms={animation:{Feature:class extends Rs{constructor(t){super(t),t.animationState||(t.animationState=Cs(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ie(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends Rs{constructor(){super(...arguments),this.id=Ds++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);e&&!t&&i.then((()=>{e(this.id)}))}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}}};function Ns(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Os(t){return{point:{x:t.pageX,y:t.pageY}}}function Ls(t,e,n,i){return Ns(t,e,(t=>e=>mn(e)&&t(e,Os(e)))(n),i)}function Fs(t){let{top:e,left:n,right:i,bottom:r}=t;return{x:{min:n,max:i},y:{min:e,max:r}}}function js(t){return t.max-t.min}function Vs(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;t.origin=i,t.originPoint=wr(e.min,e.max,t.origin),t.scale=js(n)/js(e),t.translate=wr(n.min,n.max,t.origin)-t.originPoint,(t.scale>=.9999&&t.scale<=1.0001||isNaN(t.scale))&&(t.scale=1),(t.translate>=-.01&&t.translate<=.01||isNaN(t.translate))&&(t.translate=0)}function Us(t,e,n,i){Vs(t.x,e.x,n.x,i?i.originX:void 0),Vs(t.y,e.y,n.y,i?i.originY:void 0)}function zs(t,e,n){t.min=n.min+e.min,t.max=t.min+js(e)}function Bs(t,e,n){t.min=e.min-n.min,t.max=t.min+js(e)}function $s(t,e,n){Bs(t.x,e.x,n.x),Bs(t.y,e.y,n.y)}const Hs=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Ws(t){return[t("x"),t("y")]}function qs(t){return void 0===t||1===t}function Ks(t){let{scale:e,scaleX:n,scaleY:i}=t;return!qs(e)||!qs(n)||!qs(i)}function Gs(t){return Ks(t)||Ys(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Ys(t){return Qs(t.x)||Qs(t.y)}function Qs(t){return t&&"0%"!==t}function Xs(t,e,n){return n+e*(t-n)}function Js(t,e,n,i,r){return void 0!==r&&(t=Xs(t,r,i)),Xs(t,n,i)+e}function Zs(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;t.min=Js(t.min,e,n,i,r),t.max=Js(t.max,e,n,i,r)}function to(t,e){let{x:n,y:i}=e;Zs(t.x,n.translate,n.scale,n.originPoint),Zs(t.y,i.translate,i.scale,i.originPoint)}const eo=.999999999999,no=1.0000000000001;function io(t,e){t.min=t.min+e,t.max=t.max+e}function ro(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;Zs(t,e,n,wr(t.min,t.max,r),i)}function so(t,e){ro(t.x,e.x,e.scaleX,e.scale,e.originX),ro(t.y,e.y,e.scaleY,e.scale,e.originY)}function oo(t,e){return Fs(function(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}(t.getBoundingClientRect(),e))}const ao=t=>{let{current:e}=t;return e?e.ownerDocument.defaultView:null};function lo(t){return t&&"object"===typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}const co=(t,e)=>Math.abs(t-e);class uo{constructor(t,e){let{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const t=po(this.lastMoveEventInfo,this.history),e=null!==this.startEvent,n=function(t,e){const n=co(t.x,e.x),i=co(t.y,e.y);return Math.sqrt(n**2+i**2)}(t.offset,{x:0,y:0})>=3;if(!e&&!n)return;const{point:i}=t,{timestamp:r}=nn;this.history.push({...i,timestamp:r});const{onStart:s,onMove:o}=this.handlers;e||(s&&s(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,t)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=ho(e,this.transformPagePoint),tn.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{this.end();const{onEnd:n,onSessionEnd:i,resumeAnimation:r}=this.handlers;if(this.dragSnapToOrigin&&r&&r(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=po("pointercancel"===t.type?this.lastMoveEventInfo:ho(e,this.transformPagePoint),this.history);this.startEvent&&n&&n(t,s),i&&i(t,s)},!mn(t))return;this.dragSnapToOrigin=r,this.handlers=e,this.transformPagePoint=n,this.contextWindow=i||window;const s=ho(Os(t),this.transformPagePoint),{point:o}=s,{timestamp:a}=nn;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=e;l&&l(t,po(s,this.history)),this.removeListeners=Ir(Ls(this.contextWindow,"pointermove",this.handlePointerMove),Ls(this.contextWindow,"pointerup",this.handlePointerUp),Ls(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),en(this.updatePoint)}}function ho(t,e){return e?{point:e(t.point)}:t}function fo(t,e){return{x:t.x-e.x,y:t.y-e.y}}function po(t,e){let{point:n}=t;return{point:n,delta:fo(n,go(e)),offset:fo(n,mo(e)),velocity:yo(e,.1)}}function mo(t){return t[0]}function go(t){return t[t.length-1]}function yo(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=go(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Ee(e)));)n--;if(!i)return{x:0,y:0};const s=ke(r.timestamp-i.timestamp);if(0===s)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function vo(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function bo(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}const wo=.35;function xo(t,e,n){return{min:_o(t,e),max:_o(t,n)}}function _o(t,e){return"number"===typeof t?t:t[e]||0}const So=new WeakMap;class Eo{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=t}start(t){let{snapToCursor:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:i}=this.getProps();this.panSession=new uo(t,{onSessionStart:t=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Os(t).point)},onStart:(t,e)=>{const{drag:n,dragPropagation:i,onDragStart:r}=this.getProps();if(n&&!i&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(s=n)||"y"===s?un[s]?null:(un[s]=!0,()=>{un[s]=!1}):un.x||un.y?null:(un.x=un.y=!0,()=>{un.x=un.y=!1}),!this.openDragLock))return;var s;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ws((t=>{let e=this.getAxisMotionValue(t).get()||0;if(ci.test(e)){const{projection:n}=this.visualElement;if(n&&n.layout){const i=n.layout.layoutBox[t];if(i){e=js(i)*(parseFloat(e)/100)}}}this.originPoint[t]=e})),r&&tn.postRender((()=>r(t,e))),Dn(this.visualElement,"transform");const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(t,e)=>{const{dragPropagation:n,dragDirectionLock:i,onDirectionLock:r,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:o}=e;if(i&&null===this.currentDirection)return this.currentDirection=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x");return n}(o),void(null!==this.currentDirection&&r&&r(this.currentDirection));this.updateAxis("x",e.point,o),this.updateAxis("y",e.point,o),this.visualElement.render(),s&&s(t,e)},onSessionEnd:(t,e)=>this.stop(t,e),resumeAnimation:()=>Ws((t=>"paused"===this.getAnimationState(t)&&this.getAxisMotionValue(t).animation?.play()))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,contextWindow:ao(this.visualElement)})}stop(t,e){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=e;this.startAnimation(i);const{onDragEnd:r}=this.getProps();r&&tn.postRender((()=>r(t,e)))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,n){const{drag:i}=this.getProps();if(!n||!ko(t,i,this.currentDirection))return;const r=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=function(t,e,n){let{min:i,max:r}=e;return void 0!==i&&t<i?t=n?wr(i,t,n.min):Math.max(t,i):void 0!==r&&t>r&&(t=n?wr(r,t,n.max):Math.min(t,r)),t}(s,this.constraints[t],this.elastic[t])),r.set(s)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&lo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!n)&&function(t,e){let{top:n,left:i,bottom:r,right:s}=e;return{x:vo(t.x,i,s),y:vo(t.y,n,r)}}(n.layoutBox,t),this.elastic=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wo;return!1===t?t=0:!0===t&&(t=wo),{x:xo(t,"left","right"),y:xo(t,"top","bottom")}}(e),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ws((t=>{!1!==this.constraints&&this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){const n={};return void 0!==e.min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n}(n.layoutBox[t],this.constraints[t]))}))}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!lo(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=function(t,e,n){const i=oo(t,n),{scroll:r}=e;return r&&(io(i.x,r.offset.x),io(i.y,r.offset.y)),i}(n,i.root,this.visualElement.getTransformPagePoint());let s=function(t,e){return{x:bo(t.x,e.x),y:bo(t.y,e.y)}}(i.layout.layoutBox,r);if(e){const t=e(function(t){let{x:e,y:n}=t;return{top:n.min,right:e.max,bottom:n.max,left:e.min}}(s));this.hasMutatedConstraints=!!t,t&&(s=Fs(t))}return s}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:i,dragTransition:r,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},l=Ws((o=>{if(!ko(o,e,this.currentDirection))return;let l=a&&a[o]||{};s&&(l={min:0,max:0});const c=i?200:1e6,u=i?40:1e7,h={type:"inertia",velocity:n?t[o]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...r,...l};return this.startAxisValueAnimation(o,h)}));return Promise.all(l).then(o)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return Dn(this.visualElement,t),n.start(fs(t,n,0,e,this.visualElement,!1))}stopAnimation(){Ws((t=>this.getAxisMotionValue(t).stop()))}pauseAnimation(){Ws((t=>this.getAxisMotionValue(t).animation?.pause()))}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[e];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ws((e=>{const{drag:n}=this.getProps();if(!ko(e,n,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(e);if(i&&i.layout){const{min:n,max:s}=i.layout.layoutBox[e];r.set(t[e]-wr(n,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!lo(e)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ws((t=>{const e=this.getAxisMotionValue(t);if(e&&!1!==this.constraints){const n=e.get();i[t]=function(t,e){let n=.5;const i=js(t),r=js(e);return r>i?n=_e(e.min,e.max-i,t.min):i>r&&(n=_e(t.min,t.max-r,e.min)),Yn(0,1,n)}({min:n,max:n},this.constraints[t])}}));const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ws((e=>{if(!ko(e,t,null))return;const n=this.getAxisMotionValue(e),{min:r,max:s}=this.constraints[e];n.set(wr(r,s,i[e]))}))}addListeners(){if(!this.visualElement.current)return;So.set(this.visualElement,this);const t=Ls(this.visualElement.current,"pointerdown",(t=>{const{drag:e,dragListener:n=!0}=this.getProps();e&&n&&this.start(t)})),e=()=>{const{dragConstraints:t}=this.getProps();lo(t)&&t.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",e);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),tn.read(e);const r=Ns(window,"resize",(()=>this.scalePositionWithinConstraints())),s=n.addEventListener("didUpdate",(t=>{let{delta:e,hasLayoutChanged:n}=t;this.isDragging&&n&&(Ws((t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))})),this.visualElement.render())}));return()=>{r(),t(),i(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:s=wo,dragMomentum:o=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:i,dragConstraints:r,dragElastic:s,dragMomentum:o}}}function ko(t,e,n){return(!0===e||e===t)&&(null===n||n===t)}const To=t=>(e,n)=>{t&&tn.postRender((()=>t(e,n)))};const Co=(0,i.createContext)(null);const Io=(0,i.createContext)({}),Po=(0,i.createContext)({}),Ao={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ro(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Do={correct:(t,e)=>{if(!e.target)return t;if("string"===typeof t){if(!ui.test(t))return t;t=parseFloat(t)}return`${Ro(t,e.target.x)}% ${Ro(t,e.target.y)}%`}},Mo={correct:(t,e)=>{let{treeScale:n,projectionDelta:i}=e;const r=t,s=Ei.parse(t);if(s.length>5)return r;const o=Ei.createTransformer(t),a="number"!==typeof s[0]?1:0,l=i.x.scale*n.x,c=i.y.scale*n.y;s[0+a]/=l,s[1+a]/=c;const u=wr(l,c,.5);return"number"===typeof s[2+a]&&(s[2+a]/=u),"number"===typeof s[3+a]&&(s[3+a]/=u),o(s)}},No={};class Oo extends i.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:i}=this.props,{projection:r}=t;!function(t){for(const e in t)No[e]=t[e],sr(e)&&(No[e].isCSSVariable=!0)}(Fo),r&&(e.group&&e.group.add(r),n&&n.register&&i&&n.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",(()=>{this.safeToRemove()})),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Ao.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:i,isPresent:r}=this.props,s=n.projection;return s?(s.isPresent=r,i||t.layoutDependency!==e||void 0===e||t.isPresent!==r?s.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?s.promote():s.relegate()||tn.postRender((()=>{const t=s.getStack();t&&t.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),sn.postRender((()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Lo(t){const[e,n]=function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=(0,i.useContext)(Co);if(null===e)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,o=(0,i.useId)();(0,i.useEffect)((()=>{if(t)return s(o)}),[t]);const a=(0,i.useCallback)((()=>t&&r&&r(o)),[o,r,t]);return!n&&r?[!1,a]:[!0]}(),r=(0,i.useContext)(Io);return(0,pe.jsx)(Oo,{...t,layoutGroup:r,switchLayoutGroup:(0,i.useContext)(Po),isPresent:e,safeToRemove:n})}const Fo={borderRadius:{...Do,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Do,borderTopRightRadius:Do,borderBottomLeftRadius:Do,borderBottomRightRadius:Do,boxShadow:Mo};const jo=(t,e)=>t.depth-e.depth;class Vo{constructor(){this.children=[],this.isDirty=!1}add(t){ge(this.children,t),this.isDirty=!0}remove(t){ye(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(jo),this.isDirty=!1,this.children.forEach(t)}}function Uo(t,e){const n=cn.now(),i=r=>{let{timestamp:s}=r;const o=s-n;o>=e&&(en(i),t(o-e))};return tn.read(i,!0),()=>en(i)}function zo(t){const e=Rn(t)?t.get():t;return(t=>Boolean(t&&"object"===typeof t&&t.mix&&t.toValue))(e)?e.toValue():e}const Bo=["TopLeft","TopRight","BottomLeft","BottomRight"],$o=Bo.length,Ho=t=>"string"===typeof t?parseFloat(t):t,Wo=t=>"number"===typeof t||ui.test(t);function qo(t,e){return void 0!==t[e]?t[e]:t.borderRadius}const Ko=Yo(0,.5,qn),Go=Yo(.5,.95,xe);function Yo(t,e,n){return i=>i<t?0:i>e?1:n(_e(t,e,i))}function Qo(t,e){t.min=e.min,t.max=e.max}function Xo(t,e){Qo(t.x,e.x),Qo(t.y,e.y)}function Jo(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Zo(t,e,n,i,r){return t=Xs(t-=e,1/n,i),void 0!==r&&(t=Xs(t,1/r,i)),t}function ta(t,e,n,i,r){let[s,o,a]=n;!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:t;ci.test(e)&&(e=parseFloat(e),e=wr(o.min,o.max,e/100)-o.min);if("number"!==typeof e)return;let a=wr(s.min,s.max,i);t===s&&(a-=e),t.min=Zo(t.min,e,n,a,r),t.max=Zo(t.max,e,n,a,r)}(t,e[s],e[o],e[a],e.scale,i,r)}const ea=["x","scaleX","originX"],na=["y","scaleY","originY"];function ia(t,e,n,i){ta(t.x,e,ea,n?n.x:void 0,i?i.x:void 0),ta(t.y,e,na,n?n.y:void 0,i?i.y:void 0)}function ra(t){return 0===t.translate&&1===t.scale}function sa(t){return ra(t.x)&&ra(t.y)}function oa(t,e){return t.min===e.min&&t.max===e.max}function aa(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function la(t,e){return aa(t.x,e.x)&&aa(t.y,e.y)}function ca(t){return js(t.x)/js(t.y)}function ua(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ha{constructor(){this.members=[]}add(t){ge(this.members,t),t.scheduleRender()}remove(t){if(ye(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){const e=this.members.findIndex((e=>t===e));if(0===e)return!1;let n;for(let i=e;i>=0;i--){const t=this.members[i];if(!1!==t.isPresent){n=t;break}}return!!n&&(this.promote(n),!0)}promote(t,e){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;!1===i&&n.hide()}}exitAnimationComplete(){this.members.forEach((t=>{const{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((t=>{t.instance&&t.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const da={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},fa=["","X","Y","Z"],pa={visibility:"hidden"};let ma=0;function ga(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function ya(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=On(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:e,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",tn,!(e||i))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&ya(i)}function va(t){let{attachResizeListener:e,defaultParent:n,measureScroll:i,checkIsScrollRoot:r,resetTransform:s}=t;return class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n?.();this.id=ma++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Le.value&&(da.nodes=da.calculatedTargetDeltas=da.calculatedProjections=0),this.nodes.forEach(xa),this.nodes.forEach(Ia),this.nodes.forEach(Pa),this.nodes.forEach(_a),Le.addProjectionMetrics&&Le.addProjectionMetrics(da)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=e?e.root||e:this,this.path=e?[...e.path,e]:[],this.parent=e,this.depth=e?e.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Vo)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new Se),this.eventHandlers.get(t).add(e)}notifyListeners(t){const e=this.eventHandlers.get(t);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e&&e.notify(...i)}hasListeners(t){return this.eventHandlers.has(t)}mount(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var i;this.isSVG=(i=t)instanceof SVGElement&&"svg"!==i.tagName,this.instance=t;const{layoutId:r,layout:s,visualElement:o}=this.options;if(o&&!o.current&&o.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||r)&&(this.isLayoutDirty=!0),e){let n;const i=()=>this.root.updateBlockedByResize=!1;e(t,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=Uo(i,250),Ao.hasAnimatedSinceResize&&(Ao.hasAnimatedSinceResize=!1,this.nodes.forEach(Ca))}))}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&o&&(r||s)&&this.addEventListener("didUpdate",(t=>{let{delta:e,hasLayoutChanged:n,hasRelativeLayoutChanged:i,layout:r}=t;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||o.getDefaultTransition()||Oa,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=o.getProps(),c=!this.targetLayout||!la(this.targetLayout,r),u=!n&&i;if(this.options.layoutRoot||this.resumeFrom||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,u);const t={...qe(s,"layout"),onPlay:a,onComplete:l};(o.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else n||Ca(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,en(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Aa),this.animationId++)}getTransformTemplate(){const{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ya(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let r=0;r<this.path.length;r++){const t=this.path[r];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}const{layoutId:e,layout:n}=this.options;if(void 0===e&&!n)return;const i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Ea);this.isUpdating||this.nodes.forEach(ka),this.isUpdating=!1,this.nodes.forEach(Ta),this.nodes.forEach(ba),this.nodes.forEach(wa),this.clearAllSnapshots();const t=cn.now();nn.delta=Yn(0,1e3/60,t-nn.timestamp),nn.timestamp=t,nn.isProcessing=!0,rn.update.process(nn),rn.preRender.process(nn),rn.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sn.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Sa),this.sharedNodes.forEach(Ra)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tn.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||js(this.snapshot.measuredBox.x)||js(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const t=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",e=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e){const e=r(this.instance);this.scroll={animationId:this.root.animationId,phase:t,isRoot:e,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:e}}}resetTransform(){if(!s)return;const t=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,e=this.projectionDelta&&!sa(this.projectionDelta),n=this.getTransformTemplate(),i=n?n(this.latestValues,""):void 0,r=i!==this.prevTransformTemplateValue;t&&(e||Gs(this.latestValues)||r)&&(s(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=this.measurePageBox();let n=this.removeElementScroll(e);var i;return t&&(n=this.removeTransform(n)),ja((i=n).x),ja(i.y),{animationId:this.root.animationId,measuredBox:e,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const e=t.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Ua))){const{scroll:t}=this.root;t&&(io(e.x,t.offset.x),io(e.y,t.offset.y))}return e}removeElementScroll(t){const e={x:{min:0,max:0},y:{min:0,max:0}};if(Xo(e,t),this.scroll?.wasRoot)return e;for(let n=0;n<this.path.length;n++){const i=this.path[n],{scroll:r,options:s}=i;i!==this.root&&r&&s.layoutScroll&&(r.wasRoot&&Xo(e,t),io(e.x,r.offset.x),io(e.y,r.offset.y))}return e}applyTransform(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};Xo(n,t);for(let i=0;i<this.path.length;i++){const t=this.path[i];!e&&t.options.layoutScroll&&t.scroll&&t!==t.root&&so(n,{x:-t.scroll.offset.x,y:-t.scroll.offset.y}),Gs(t.latestValues)&&so(n,t.latestValues)}return Gs(this.latestValues)&&so(n,this.latestValues),n}removeTransform(t){const e={x:{min:0,max:0},y:{min:0,max:0}};Xo(e,t);for(let n=0;n<this.path.length;n++){const t=this.path[n];if(!t.instance)continue;if(!Gs(t.latestValues))continue;Ks(t.latestValues)&&t.updateSnapshot();const i={x:{min:0,max:0},y:{min:0,max:0}};Xo(i,t.measurePageBox()),ia(e,t.latestValues,t.snapshot?t.snapshot.layoutBox:void 0,i)}return Gs(this.latestValues)&&ia(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=e.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=e.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=e.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==e;if(!(t||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:r}=this.options;if(this.layout&&(i||r)){if(this.resolvedRelativeTargetAt=nn.timestamp,!this.targetDelta&&!this.relativeTarget){const t=this.getClosestProjectingParent();t&&t.layout&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},$s(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),Xo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var s,o,a;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,o=this.relativeTarget,a=this.relativeParent.target,zs(s.x,o.x,a.x),zs(s.y,o.y,a.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Xo(this.target,this.layout.layoutBox),to(this.target,this.targetDelta)):Xo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const t=this.getClosestProjectingParent();t&&Boolean(t.resumingFrom)===Boolean(this.resumingFrom)&&!t.options.layoutScroll&&t.target&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},$s(this.relativeTargetOrigin,this.target,t.target),Xo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Le.value&&da.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Ks(this.parent.latestValues)&&!Ys(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const t=this.getLead(),e=Boolean(this.resumingFrom)||this!==t;let n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),e&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(n=!1),n)return;const{layout:i,layoutId:r}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!r)return;Xo(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,o=this.treeScale.y;!function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=n.length;if(!r)return;let s,o;e.x=e.y=1;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:r}=s.options;r&&r.props.style&&"contents"===r.props.style.display||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&so(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,to(t,o)),i&&Gs(s.latestValues)&&so(t,s.latestValues))}e.x<no&&e.x>eo&&(e.x=1),e.y<no&&e.y>eo&&(e.y=1)}(this.layoutCorrected,this.treeScale,this.path,e),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:a}=t;a?(this.projectionDelta&&this.prevProjectionDelta?(Jo(this.prevProjectionDelta.x,this.projectionDelta.x),Jo(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Us(this.projectionDelta,this.layoutCorrected,a,this.latestValues),this.treeScale.x===s&&this.treeScale.y===o&&ua(this.projectionDelta.x,this.prevProjectionDelta.x)&&ua(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",a)),Le.value&&da.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.visualElement?.scheduleRender(),t){const t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,i=n?n.latestValues:{},r={...this.latestValues},s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!e;const o={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(Na));let h;this.animationProgress=0,this.mixTargetDelta=e=>{const n=e/1e3;Da(s.x,t.x,n),Da(s.y,t.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($s(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(t,e,n,i){Ma(t.x,e.x,n.x,i),Ma(t.y,e.y,n.y,i)}(this.relativeTarget,this.relativeTargetOrigin,o,n),h&&function(t,e){return oa(t.x,e.x)&&oa(t.y,e.y)}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),Xo(h,this.relativeTarget)),a&&(this.animationValues=r,function(t,e,n,i,r,s){r?(t.opacity=wr(0,void 0!==n.opacity?n.opacity:1,Ko(i)),t.opacityExit=wr(void 0!==e.opacity?e.opacity:1,0,Go(i))):s&&(t.opacity=wr(void 0!==e.opacity?e.opacity:1,void 0!==n.opacity?n.opacity:1,i));for(let o=0;o<$o;o++){const r=`border${Bo[o]}Radius`;let s=qo(e,r),a=qo(n,r);void 0===s&&void 0===a||(s||(s=0),a||(a=0),0===s||0===a||Wo(s)===Wo(a)?(t[r]=Math.max(wr(Ho(s),Ho(a),i),0),(ci.test(a)||ci.test(s))&&(t[r]+="%")):t[r]=a)}(e.rotate||n.rotate)&&(t.rotate=wr(e.rotate||0,n.rotate||0,i))}(r,i,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(en(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tn.update((()=>{Ao.hasAnimatedSinceResize=!0,Oe.layout++,this.currentAnimation=function(t,e,n){const i=Rn(t)?t:En(t);return i.start(fs("",i,e,n)),i.animation}(0,1e3,{...t,onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onStop:()=>{Oe.layout--},onComplete:()=>{Oe.layout--,t.onComplete&&t.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const t=this.getLead();let{targetWithTransforms:e,target:n,layout:i,latestValues:r}=t;if(e&&n&&i){if(this!==t&&this.layout&&i&&Va(this.options.animationType,this.layout.layoutBox,i.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const e=js(this.layout.layoutBox.x);n.x.min=t.target.x.min,n.x.max=n.x.min+e;const i=js(this.layout.layoutBox.y);n.y.min=t.target.y.min,n.y.max=n.y.min+i}Xo(e,n),so(e,r),Us(this.projectionDeltaWithTransform,this.layoutCorrected,e,r)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new ha);this.sharedNodes.get(t).add(e);const n=e.options.initialPromotionConfig;e.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(e):void 0})}isLead(){const t=this.getStack();return!t||t.lead===this}getLead(){const{layoutId:t}=this.options;return t&&this.getStack()?.lead||this}getPrevLead(){const{layoutId:t}=this.options;return t?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote(){let{needsReset:t,transition:e,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this.getStack();i&&i.promote(this,n),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){const t=this.getStack();return!!t&&t.relegate(this)}resetSkewAndRotation(){const{visualElement:t}=this.options;if(!t)return;let e=!1;const{latestValues:n}=t;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(e=!0),!e)return;const i={};n.z&&ga("z",t,i,this.animationValues);for(let r=0;r<fa.length;r++)ga(`rotate${fa[r]}`,t,i,this.animationValues),ga(`skew${fa[r]}`,t,i,this.animationValues);t.render();for(const r in i)t.setStaticValue(r,i[r]),this.animationValues&&(this.animationValues[r]=i[r]);t.scheduleRender()}getProjectionStyles(t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return pa;const e={visibility:""},n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.opacity="",e.pointerEvents=zo(t?.pointerEvents)||"",e.transform=n?n(this.latestValues,""):"none",e;const i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target){const e={};return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=zo(t?.pointerEvents)||""),this.hasProjected&&!Gs(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1),e}const r=i.animationValues||i.latestValues;this.applyTransformsToTarget(),e.transform=function(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,o=n?.z||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),1===e.x&&1===e.y||(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:t,rotate:e,rotateX:r,rotateY:s,skewX:o,skewY:a}=n;t&&(i=`perspective(${t}px) ${i}`),e&&(i+=`rotate(${e}deg) `),r&&(i+=`rotateX(${r}deg) `),s&&(i+=`rotateY(${s}deg) `),o&&(i+=`skewX(${o}deg) `),a&&(i+=`skewY(${a}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return 1===a&&1===l||(i+=`scale(${a}, ${l})`),i||"none"}(this.projectionDeltaWithTransform,this.treeScale,r),n&&(e.transform=n(r,e.transform));const{x:s,y:o}=this.projectionDelta;e.transformOrigin=`${100*s.origin}% ${100*o.origin}% 0`,i.animationValues?e.opacity=i===this?r.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:r.opacityExit:e.opacity=i===this?void 0!==r.opacity?r.opacity:"":void 0!==r.opacityExit?r.opacityExit:0;for(const a in No){if(void 0===r[a])continue;const{correct:t,applyTo:n,isCSSVariable:s}=No[a],o="none"===e.transform?r[a]:t(r[a],i);if(n){const t=n.length;for(let i=0;i<t;i++)e[n[i]]=o}else s?this.options.visualElement.renderState.vars[a]=o:e[a]=o}return this.options.layoutId&&(e.pointerEvents=i===this?zo(t?.pointerEvents)||"":"none"),e}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((t=>t.currentAnimation?.stop())),this.root.nodes.forEach(Ea),this.root.sharedNodes.clear()}}}function ba(t){t.updateLayout()}function wa(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:r}=t.options,s=e.source!==t.layout.source;"size"===r?Ws((t=>{const i=s?e.measuredBox[t]:e.layoutBox[t],r=js(i);i.min=n[t].min,i.max=i.min+r})):Va(r,e.layoutBox,n)&&Ws((i=>{const r=s?e.measuredBox[i]:e.layoutBox[i],o=js(n[i]);r.max=r.min+o,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[i].max=t.relativeTarget[i].min+o)}));const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Us(o,n,e.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?Us(a,t.applyTransform(i,!0),e.measuredBox):Us(a,n,e.layoutBox);const l=!sa(o);let c=!1;if(!t.resumeFrom){const i=t.getClosestProjectingParent();if(i&&!i.resumeFrom){const{snapshot:r,layout:s}=i;if(r&&s){const o={x:{min:0,max:0},y:{min:0,max:0}};$s(o,e.layoutBox,r.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};$s(a,n,s.layoutBox),la(o,a)||(c=!0),i.options.layoutRoot&&(t.relativeTarget=a,t.relativeTargetOrigin=o,t.relativeParent=i)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function xa(t){Le.value&&da.nodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=Boolean(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _a(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Sa(t){t.clearSnapshot()}function Ea(t){t.clearMeasurements()}function ka(t){t.isLayoutDirty=!1}function Ta(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ca(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Ia(t){t.resolveTargetDelta()}function Pa(t){t.calcProjection()}function Aa(t){t.resetSkewAndRotation()}function Ra(t){t.removeLeadSnapshot()}function Da(t,e,n){t.translate=wr(e.translate,0,n),t.scale=wr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Ma(t,e,n,i){t.min=wr(e.min,n.min,i),t.max=wr(e.max,n.max,i)}function Na(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}const Oa={duration:.45,ease:[.4,0,.1,1]},La=t=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Fa=La("applewebkit/")&&!La("chrome/")?Math.round:xe;function ja(t){t.min=Fa(t.min),t.max=Fa(t.max)}function Va(t,e,n){return"position"===t||"preserve-aspect"===t&&(i=ca(e),r=ca(n),s=.2,!(Math.abs(i-r)<=s));var i,r,s}function Ua(t){return t!==t.root&&t.scroll?.wasRoot}const za=va({attachResizeListener:(t,e)=>Ns(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ba={current:void 0},$a=va({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ba.current){const t=new za({});t.mount(window),t.setOptions({layoutScroll:!0}),Ba.current=t}return Ba.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>Boolean("fixed"===window.getComputedStyle(t).position)}),Ha={pan:{Feature:class extends Rs{constructor(){super(...arguments),this.removePointerDownListener=xe}onPointerDown(t){this.session=new uo(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ao(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:To(t),onStart:To(e),onMove:n,onEnd:(t,e)=>{delete this.session,i&&tn.postRender((()=>i(t,e)))}}}mount(){this.removePointerDownListener=Ls(this.node.current,"pointerdown",(t=>this.onPointerDown(t)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Rs{constructor(t){super(t),this.removeGroupControls=xe,this.removeListeners=xe,this.controls=new Eo(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xe}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:$a,MeasureLayout:Lo}};function Wa(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover","Start"===n);const r=i["onHover"+n];r&&tn.postRender((()=>r(e,Os(e))))}function qa(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap","Start"===n);const r=i["onTap"+("End"===n?"":n)];r&&tn.postRender((()=>r(e,Os(e))))}const Ka=new WeakMap,Ga=new WeakMap,Ya=t=>{const e=Ka.get(t.target);e&&e(t)},Qa=t=>{t.forEach(Ya)};function Xa(t,e,n){const i=function(t){let{root:e,...n}=t;const i=e||document;Ga.has(i)||Ga.set(i,{});const r=Ga.get(i),s=JSON.stringify(n);return r[s]||(r[s]=new IntersectionObserver(Qa,{root:e,...n})),r[s]}(e);return Ka.set(t,n),i.observe(t),()=>{Ka.delete(t),i.unobserve(t)}}const Ja={some:0,all:1};const Za={inView:{Feature:class extends Rs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:i="some",once:r}=t,s={root:e?e.current:void 0,rootMargin:n,threshold:"number"===typeof i?i:Ja[i]};return Xa(this.node.current,s,(t=>{const{isIntersecting:e}=t;if(this.isInView===e)return;if(this.isInView=e,r&&!e&&this.hasEnteredView)return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);const{onViewportEnter:n,onViewportLeave:i}=this.node.getProps(),s=e?n:i;s&&s(t)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:t,prevProps:e}=this.node,n=["amount","margin","root"].some(function(t){let{viewport:e={}}=t,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=>e[t]!==n[t]}(t,e));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Rs{mount(){const{current:t}=this.node;t&&(this.unmount=xn(t,((t,e)=>(qa(this.node,e,"Start"),(t,e)=>{let{success:n}=e;return qa(this.node,t,n?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Rs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(OA){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ir(Ns(this.node.current,"focus",(()=>this.onFocus())),Ns(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends Rs{mount(){const{current:t}=this.node;t&&(this.unmount=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[i,r,s]=dn(t,n),o=t=>{if(!fn(t))return;const{target:n}=t,i=e(n,t);if("function"!==typeof i||!n)return;const s=t=>{fn(t)&&(i(t),n.removeEventListener("pointerleave",s))};n.addEventListener("pointerleave",s,r)};return i.forEach((t=>{t.addEventListener("pointerenter",o,r)})),s}(t,((t,e)=>(Wa(this.node,e,"Start"),t=>Wa(this.node,t,"End")))))}unmount(){}}}},tl={layout:{ProjectionNode:$a,MeasureLayout:Lo}},el=(0,i.createContext)({strict:!1}),nl=(0,i.createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),il=(0,i.createContext)({});function rl(t){return Ie(t.animate)||xs.some((e=>bs(t[e])))}function sl(t){return Boolean(rl(t)||t.variants)}function ol(t){const{initial:e,animate:n}=function(t,e){if(rl(t)){const{initial:e,animate:n}=t;return{initial:!1===e||bs(e)?e:void 0,animate:bs(n)?n:void 0}}return!1!==t.inherit?e:{}}(t,(0,i.useContext)(il));return(0,i.useMemo)((()=>({initial:e,animate:n})),[al(e),al(n)])}function al(t){return Array.isArray(t)?t.join(" "):t}const ll="undefined"!==typeof window,cl={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ul={};for(const LA in cl)ul[LA]={isEnabled:t=>cl[LA].some((e=>!!t[e]))};const hl=Symbol.for("motionComponentSymbol");function dl(t,e,n){return(0,i.useCallback)((i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&("function"===typeof n?n(i):lo(n)&&(n.current=i))}),[e])}const fl=ll?i.useLayoutEffect:i.useEffect;function pl(t,e,n,r,s){const{visualElement:o}=(0,i.useContext)(il),a=(0,i.useContext)(el),l=(0,i.useContext)(Co),c=(0,i.useContext)(nl).reducedMotion,u=(0,i.useRef)(null);r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:!!l&&!1===l.initial,reducedMotionConfig:c}));const h=u.current,d=(0,i.useContext)(Po);!h||h.projection||!s||"html"!==h.type&&"svg"!==h.type||function(t,e,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ml(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:Boolean(o)||a&&lo(a),visualElement:t,animationType:"string"===typeof s?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}(u.current,n,s,d);const f=(0,i.useRef)(!1);(0,i.useInsertionEffect)((()=>{h&&f.current&&h.update(n,l)}));const p=n[Nn],m=(0,i.useRef)(Boolean(p)&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return fl((()=>{h&&(f.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),sn.render(h.render),m.current&&h.animationState&&h.animationState.animateChanges())})),(0,i.useEffect)((()=>{h&&(!m.current&&h.animationState&&h.animationState.animateChanges(),m.current&&(queueMicrotask((()=>{window.MotionHandoffMarkAsComplete?.(p)})),m.current=!1))})),h}function ml(t){if(t)return!1!==t.options.allowProjection?t.projection:ml(t.parent)}function gl(t){let{preloadedFeatures:e,createVisualElement:n,useRender:r,useVisualState:s,Component:o}=t;function a(t,e){let a;const l={...(0,i.useContext)(nl),...t,layoutId:yl(t)},{isStatic:c}=l,u=ol(t),h=s(t,c);if(!c&&ll){!function(){(0,i.useContext)(el).strict;0}();const t=function(t){const{drag:e,layout:n}=ul;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}(l);a=t.MeasureLayout,u.visualElement=pl(o,h,l,n,t.ProjectionNode)}return(0,pe.jsxs)(il.Provider,{value:u,children:[a&&u.visualElement?(0,pe.jsx)(a,{visualElement:u.visualElement,...l}):null,r(o,t,dl(h,u.visualElement,e),h,c,u.visualElement)]})}e&&function(t){for(const e in t)ul[e]={...ul[e],...t[e]}}(e),a.displayName=`motion.${"string"===typeof o?o:`create(${o.displayName??o.name??""})`}`;const l=(0,i.forwardRef)(a);return l[hl]=o,l}function yl(t){let{layoutId:e}=t;const n=(0,i.useContext)(Io).id;return n&&void 0!==e?n+"-"+e:e}function vl(t,e){let{layout:n,layoutId:i}=e;return Tn.has(t)||t.startsWith("origin")||(n||void 0!==i)&&(!!No[t]||"opacity"===t)}const bl=(t,e)=>e&&"number"===typeof t?e.transform(t):t,wl={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xl=kn.length;function _l(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const t=e[l];if(Tn.has(l))o=!0;else if(sr(l))r[l]=t;else{const e=bl(t,Di[l]);l.startsWith("origin")?(a=!0,s[l]=e):i[l]=e}}if(e.transform||(o||n?i.transform=function(t,e,n){let i="",r=!0;for(let s=0;s<xl;s++){const o=kn[s],a=t[o];if(void 0===a)continue;let l=!0;if(l="number"===typeof a?a===(o.startsWith("scale")?1:0):0===parseFloat(a),!l||n){const t=bl(a,Di[o]);l||(r=!1,i+=`${wl[o]||o}(${t}) `),n&&(e[o]=t)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:t="50%",originY:e="50%",originZ:n=0}=s;i.transformOrigin=`${t} ${e} ${n}`}}const Sl=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function El(t,e,n){for(const i in e)Rn(e[i])||vl(i,n)||(t[i]=e[i])}function kl(t,e){const n={};return El(n,t.style||{},t),Object.assign(n,function(t,e){let{transformTemplate:n}=t;return(0,i.useMemo)((()=>{const t={style:{},transform:{},transformOrigin:{},vars:{}};return _l(t,e,n),Object.assign({},t.vars,t.style)}),[e])}(t,e)),n}function Tl(t,e){const n={},i=kl(t,e);return t.drag&&!1!==t.dragListener&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===t.drag?"none":"pan-"+("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const Cl=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Il(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Cl.has(t)}let Pl=t=>!Il(t);try{(Al=require("@emotion/is-prop-valid").default)&&(Pl=t=>t.startsWith("on")?!Il(t):Al(t))}catch{}var Al;const Rl=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dl(t){return"string"===typeof t&&!t.includes("-")&&!!(Rl.indexOf(t)>-1||/[A-Z]/u.test(t))}const Ml={offset:"stroke-dashoffset",array:"stroke-dasharray"},Nl={offset:"strokeDashoffset",array:"strokeDasharray"};function Ol(t,e,n){return"string"===typeof t?t:ui.transform(e+n*t)}function Ll(t,e,n,i){let{attrX:r,attrY:s,attrScale:o,originX:a,originY:l,pathLength:c,pathSpacing:u=1,pathOffset:h=0,...d}=e;if(_l(t,d,i),n)return void(t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox));t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:m}=t;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(void 0!==a||void 0!==l||p.transform)&&(p.transformOrigin=function(t,e,n){return`${Ol(e,t.x,t.width)} ${Ol(n,t.y,t.height)}`}(m,void 0!==a?a:.5,void 0!==l?l:.5)),void 0!==r&&(f.x=r),void 0!==s&&(f.y=s),void 0!==o&&(f.scale=o),void 0!==c&&function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];t.pathLength=1;const s=r?Ml:Nl;t[s.offset]=ui.transform(-i);const o=ui.transform(e),a=ui.transform(n);t[s.array]=`${o} ${a}`}(f,c,u,h,!1)}const Fl=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),jl=t=>"string"===typeof t&&"svg"===t.toLowerCase();function Vl(t,e,n,r){const s=(0,i.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return Ll(n,e,jl(r),t.transformTemplate),{...n.attrs,style:{...n.style}}}),[e]);if(t.style){const e={};El(e,t.style,t),s.style={...e,...s.style}}return s}function Ul(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(e,n,r,s,o)=>{let{latestValues:a}=s;const l=(Dl(e)?Vl:Tl)(n,a,o,e),c=function(t,e,n){const i={};for(const r in t)"values"===r&&"object"===typeof t.values||(Pl(r)||!0===n&&Il(r)||!e&&!Il(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}(n,"string"===typeof e,t),u=e!==i.Fragment?{...c,...l,ref:r}:{},{children:h}=n,d=(0,i.useMemo)((()=>Rn(h)?h.get():h),[h]);return(0,i.createElement)(e,{...u,children:d})}}const zl=t=>(e,n)=>{const r=(0,i.useContext)(il),s=(0,i.useContext)(Co),o=()=>function(t,e,n,i){let{scrapeMotionValuesFromProps:r,createRenderState:s,onUpdate:o}=t;const a={latestValues:Bl(e,n,i,r),renderState:s()};return o&&(a.onMount=t=>o({props:e,current:t,...a}),a.onUpdate=t=>o(t)),a}(t,e,r,s);return n?o():function(t){const e=(0,i.useRef)(null);return null===e.current&&(e.current=t()),e.current}(o)};function Bl(t,e,n,i){const r={},s=i(t,{});for(const d in s)r[d]=zo(s[d]);let{initial:o,animate:a}=t;const l=rl(t),c=sl(t);e&&c&&!l&&!1!==t.inherit&&(void 0===o&&(o=e.initial),void 0===a&&(a=e.animate));let u=!!n&&!1===n.initial;u=u||!1===o;const h=u?a:o;if(h&&"boolean"!==typeof h&&!Ie(h)){const e=Array.isArray(h)?h:[h];for(let n=0;n<e.length;n++){const i=Ae(t,e[n]);if(i){const{transitionEnd:t,transition:e,...n}=i;for(const i in n){let t=n[i];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(r[i]=t)}for(const i in t)r[i]=t[i]}}}return r}function $l(t,e,n){const{style:i}=t,r={};for(const s in i)(Rn(i[s])||e.style&&Rn(e.style[s])||vl(s,t)||void 0!==n?.getValue(s)?.liveStyle)&&(r[s]=i[s]);return r}const Hl={useVisualState:zl({scrapeMotionValuesFromProps:$l,createRenderState:Sl})};function Wl(t,e){try{e.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(OA){e.dimensions={x:0,y:0,width:0,height:0}}}function ql(t,e,n,i){let{style:r,vars:s}=e;Object.assign(t.style,r,i&&i.getProjectionStyles(n));for(const o in s)t.style.setProperty(o,s[o])}const Kl=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Gl(t,e,n,i){ql(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(Kl.has(r)?r:Mn(r),e.attrs[r])}function Yl(t,e,n){const i=$l(t,e,n);for(const r in t)if(Rn(t[r])||Rn(e[r])){i[-1!==kn.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=t[r]}return i}const Ql=["x","y","width","height","cx","cy","r"],Xl={useVisualState:zl({scrapeMotionValuesFromProps:Yl,createRenderState:Fl,onUpdate:t=>{let{props:e,prevProps:n,current:i,renderState:r,latestValues:s}=t;if(!i)return;let o=!!e.drag;if(!o)for(const l in s)if(Tn.has(l)){o=!0;break}if(!o)return;let a=!n;if(n)for(let l=0;l<Ql.length;l++){const t=Ql[l];e[t]!==n[t]&&(a=!0)}a&&tn.read((()=>{Wl(i,r),tn.render((()=>{Ll(r,s,jl(i.tagName),e.transformTemplate),Gl(i,r)}))}))}})};function Jl(t,e){return function(n){let{forwardMotionProps:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return gl({...Dl(n)?Xl:Hl,preloadedFeatures:t,useRender:Ul(i),createVisualElement:e,Component:n})}}const Zl={current:null},tc={current:!1};const ec=[...dr,mi,Ei],nc=new WeakMap;const ic=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rc{scrapeMotionValuesFromProps(t,e,n){return{}}constructor(t){let{parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o}=t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=nr,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const t=cn.now();this.renderScheduledAt<t&&(this.renderScheduledAt=t,tn.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=o;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=Boolean(s),this.isControllingVariants=rl(n),this.isVariantNode=sl(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const t=d[f];void 0!==l[f]&&Rn(t)&&t.set(l[f],!1)}}mount(t){this.current=t,nc.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((t,e)=>this.bindToMotionValue(e,t))),tc.current||function(){if(tc.current=!0,ll)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Zl.current=t.matches;t.addListener(e),e()}else Zl.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Zl.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),en(this.notifyUpdate),en(this.render),this.valueSubscriptions.forEach((t=>t())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Tn.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=e.on("change",(e=>{this.latestValues[t]=e,this.props.onUpdate&&tn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),r=e.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,(()=>{i(),r(),s&&s(),e.owner&&e.stop()}))}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}updateFeatures(){let t="animation";for(t in ul){const e=ul[t];if(!e)continue;const{isEnabled:n,Feature:i}=e;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<ic.length;n++){const e=ic[n];this.propEventSubscriptions[e]&&(this.propEventSubscriptions[e](),delete this.propEventSubscriptions[e]);const i=t["on"+e];i&&(this.propEventSubscriptions[e]=this.on(e,i))}this.prevMotionValues=function(t,e,n){for(const i in e){const r=e[i],s=n[i];if(Rn(r))t.addValue(i,r);else if(Rn(s))t.addValue(i,En(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const e=t.getValue(i);!0===e.liveStyle?e.jump(r):e.hasAnimated||e.set(r)}else{const e=t.getStaticValue(i);t.addValue(i,En(void 0!==e?e:r,{owner:t}))}}for(const i in n)void 0===e[i]&&t.removeValue(i);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const n=this.values.get(t);e!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return void 0===n&&void 0!==e&&(n=En(null===e?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){let n=void 0===this.latestValues[t]&&this.current?this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options):this.latestValues[t];return void 0!==n&&null!==n&&("string"===typeof n&&(ir(n)||Gn(n))?n=parseFloat(n):!(t=>ec.find(hr(t)))(n)&&Ei.test(e)&&(n=Oi(t,e)),this.setBaseTarget(t,Rn(n)?n.get():n)),Rn(n)?n.get():n}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let n;if("string"===typeof e||"object"===typeof e){const i=Ae(this.props,e,this.presenceContext?.custom);i&&(n=i[t])}if(e&&void 0!==n)return n;const i=this.getBaseTargetFromProps(this.props,t);return void 0===i||Rn(i)?void 0!==this.initialValues[t]&&void 0===n?void 0:this.baseTarget[t]:i}on(t,e){return this.events[t]||(this.events[t]=new Se),this.events[t].add(e)}notify(t){if(this.events[t]){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.events[t].notify(...n)}}}class sc extends rc{constructor(){super(...arguments),this.KeyframeResolver=pr}sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,e){let{vars:n,style:i}=e;delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Rn(t)&&(this.childSubscription=t.on("change",(t=>{this.current&&(this.current.textContent=`${t}`)})))}}class oc extends sc{constructor(){super(...arguments),this.type="html",this.renderInstance=ql}readValueFromInstance(t,e){if(Tn.has(e))return((t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Wi(n,e)})(t,e);{const i=(n=t,window.getComputedStyle(n)),r=(sr(e)?i.getPropertyValue(e):i[e])||0;return"string"===typeof r?r.trim():r}var n}measureInstanceViewportBox(t,e){let{transformPagePoint:n}=e;return oo(t,n)}build(t,e,n){_l(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){return $l(t,e,n)}}class ac extends sc{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hs,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Wl(this.current,this.renderState)}}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Tn.has(e)){const t=Ni(e);return t&&t.default||0}return e=Kl.has(e)?e:Mn(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){return Yl(t,e,n)}onBindTransform(){this.current&&!this.renderState.dimensions&&tn.postRender(this.updateDimensions)}build(t,e,n){Ll(t,e,this.isSVGTag,n.transformTemplate)}renderInstance(t,e,n,i){Gl(t,e,0,i)}mount(t){this.isSVGTag=jl(t.tagName),super.mount(t)}}const lc=(t,e)=>Dl(t)?new ac(e):new oc(e,{allowProjection:t!==i.Fragment}),cc=Ce(Jl({...Ms,...Za,...Ha,...tl},lc)),uc=t=>{let{title:e,desc:n,onClick:i,color:r="from-white to-gray-100"}=t;return(0,pe.jsxs)(cc.div,{className:`bg-gradient-to-br ${r} p-6 rounded-2xl shadow-md cursor-pointer hover:shadow-xl transition transform hover:scale-105`,whileHover:{scale:1.03},onClick:i,children:[(0,pe.jsx)("h3",{className:"text-xl font-semibold text-blue-800",children:e}),(0,pe.jsx)("p",{className:"text-gray-800 mt-1",children:n})]})},hc=()=>{const t=tt();return(0,pe.jsxs)(cc.div,{className:"text-center space-y-10 p-6 bg-gradient-to-br from-blue-50 via-yellow-50 to-white min-h-screen",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,pe.jsxs)("div",{className:"pt-10",children:[(0,pe.jsx)("h1",{className:"text-4xl font-bold text-blue-600",children:"Welcome to Speech AI"}),(0,pe.jsx)("p",{className:"text-gray-700 max-w-xl mx-auto text-lg mt-2",children:"This app helps with speech pathology using interactive, AI-powered voice exercises."})]}),(0,pe.jsxs)("div",{className:"grid gap-6 sm:grid-cols-2 max-w-4xl mx-auto pt-4",children:[(0,pe.jsx)(uc,{title:"\ud83c\udf99 Microphone Input",desc:"Speak directly to your browser and receive instant feedback.",onClick:()=>t("/microphone"),color:"from-yellow-100 to-blue-100"}),(0,pe.jsx)(uc,{title:"\ud83d\udcca Progress Tracking",desc:"Monitor improvement with personalized stats.",onClick:()=>t("/progress"),color:"from-blue-100 to-yellow-100"}),(0,pe.jsx)(uc,{title:"\ud83d\udcdd Sessions Transcribe",desc:"Transcribe your spoken sessions in real time and export as PDF.",onClick:()=>t("/transcribe"),color:"from-white to-yellow-100"}),(0,pe.jsx)(uc,{title:"\u2139\ufe0f About",desc:"Learn how Speech AI empowers communication through technology.",onClick:()=>t("/about"),color:"from-yellow-50 to-blue-50"})]}),(0,pe.jsxs)("div",{className:"max-w-xl mx-auto mt-12 text-gray-700 text-md space-y-4",children:[(0,pe.jsxs)("p",{children:["\ud83e\udde0 ",(0,pe.jsx)("span",{className:"font-semibold text-blue-600",children:"Powered by AI:"})," We use Whisper and GPT to guide your speech practice intelligently."]}),(0,pe.jsxs)("p",{children:["\ud83d\udcac ",(0,pe.jsx)("span",{className:"font-semibold text-yellow-600",children:"Interactive & Instant:"})," Say it and see feedback live \u2014 no wait time, no guesswork."]}),(0,pe.jsxs)("p",{children:["\ud83e\uddd1\u200d\u2695\ufe0f ",(0,pe.jsx)("span",{className:"font-semibold text-blue-600",children:"Speech Therapist Friendly:"})," Built to support professional-level goals while staying user-friendly."]})]})]})},dc=()=>{const[t,e]=(0,i.useState)("");return(0,pe.jsxs)("div",{className:"space-y-4",children:[(0,pe.jsx)("input",{type:"text",value:t,onChange:t=>e(t.target.value),placeholder:"Say something to AI",className:"w-full border rounded px-4 py-2"}),(0,pe.jsx)("button",{onClick:()=>{alert(`Pretend AI is processing: ${t}`)},className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",children:"Speak with AI"})]})},fc=()=>{const t=t=>{alert(`Practicing the "${t}" sound`)};return(0,pe.jsxs)("div",{className:"space-y-6",children:[(0,pe.jsxs)("div",{children:[(0,pe.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:'Pronounce the "S" Sound'}),(0,pe.jsx)("p",{className:"text-gray-600",children:'"Snake", "Sun", "Smile"'}),(0,pe.jsx)("button",{onClick:()=>t("S"),className:"mt-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded",children:'Practice "S"'})]}),(0,pe.jsxs)("div",{children:[(0,pe.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:'Pronounce the "R" Sound'}),(0,pe.jsx)("p",{className:"text-gray-600",children:'"Rabbit", "Red", "Round"'}),(0,pe.jsx)("button",{onClick:()=>t("R"),className:"mt-2 bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded",children:'Practice "R"'})]})]})},pc=de("mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),mc=de("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),gc=de("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),yc={1:{title:"S Sound Practice",targetWords:["Snake","Sun","Smile"]},2:{title:"R Sound Practice",targetWords:["Rabbit","Red","Round"]},3:{title:"Tongue Strengthening",targetWords:["Up","Down","Side"]},4:{title:"Lip Closure Drill",targetWords:["Pa","Ba","Ma"]},5:{title:"Breath Support Training",targetWords:["Ahh","Oh","Eee"]},6:{title:"Ch Sound Practice",targetWords:["Chair","Cheese","Chalk"]},7:{title:"Th Sound Clarity",targetWords:["This","Think"]},8:{title:"Z Sound Emphasis",targetWords:["Zebra","Zoom","Buzz"]},9:{title:"Sentence Repetition",targetWords:["I can see the sun."]},10:{title:"Minimal Pairs Drill",targetWords:["Bat","Pat","Cap","Cab"]}},vc=()=>{const{id:t}=function(){let{matches:t}=i.useContext(G),e=t[t.length-1];return e?e.params:{}}(),e=tt(),n=yc[t],[r,s]=(0,i.useState)(""),[o,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!1),[u,h]=(0,i.useState)(null),[d,f]=(0,i.useState)(0);return n?(0,pe.jsx)("div",{className:"bg-gray-100 min-h-[calc(100vh-64px)] flex items-center justify-center px-4 py-10",children:(0,pe.jsxs)("div",{className:"bg-white p-10 rounded-3xl shadow-lg w-full max-w-2xl text-center space-y-6",children:[(0,pe.jsx)("h2",{className:"text-3xl font-bold text-blue-600",children:n.title}),(0,pe.jsx)("p",{className:"text-gray-700 text-lg",children:"Try saying one of the following words:"}),(0,pe.jsx)("div",{className:"flex flex-wrap justify-center gap-4",children:n.targetWords.map(((t,e)=>(0,pe.jsx)("span",{className:"bg-yellow-100 text-yellow-800 px-5 py-2 rounded-full text-base font-medium",children:t},e)))}),(0,pe.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,pe.jsxs)("button",{onClick:()=>{const t=window.SpeechRecognition||window.webkitSpeechRecognition;if(!t)return void alert("Speech recognition not supported in this browser.");const e=new t;e.lang="en-US",e.interimResults=!1,e.maxAlternatives=1;const i=Date.now();e.onstart=()=>{c(!0),s(""),h(null),f(0)},e.onresult=async t=>{const e=t.results[0][0].transcript.toLowerCase();if(e&&0!==e.trim().length)try{const t=await fetch("https://speech-ai-app-backend.onrender.com/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e})}),i=(await t.json()).reply;s(i);const r=n.targetWords.some((t=>e.includes(t.toLowerCase())));h(r?100:0);const o=new SpeechSynthesisUtterance(r?"Correct pronunciation!":"Try again.");o.lang="en-US",window.speechSynthesis.speak(o)}catch(i){console.error("AI error:",i),s("\u26a0\ufe0f Something went wrong. Please try again.")}else s("\u26a0\ufe0f No speech detected. Please try again.")},e.onerror=t=>{s("\u26a0\ufe0f Error occurred: "+t.error)},e.onend=()=>{c(!1),f((Date.now()-i)/1e3)},e.start()},disabled:l||o,className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition text-base font-medium",children:[(0,pe.jsx)(pc,{size:20}),l?"Recording...":"Start Speaking"]}),l&&(0,pe.jsx)("button",{onClick:()=>{c(!1),s("Recording stopped.")},className:"bg-red-600 text-white px-6 py-3 rounded-xl hover:bg-red-700 transition text-base font-medium",children:"Stop Recording"})]}),r&&(0,pe.jsx)("div",{className:"text-lg font-semibold text-gray-800",children:r}),null!==u&&(0,pe.jsxs)("div",{className:"mt-4",children:[(0,pe.jsxs)("p",{className:"text-lg",children:["Pronunciation Accuracy: ",u,"%"]}),100===u?(0,pe.jsx)(mc,{size:30,className:"text-green-500 mt-2"}):(0,pe.jsx)(gc,{size:30,className:"text-red-500 mt-2"})]}),(0,pe.jsx)("div",{children:(0,pe.jsx)("button",{onClick:()=>e("/microphone"),className:"text-sm text-blue-500 underline",children:"\u2190 Back to Exercises"})})]})}):(0,pe.jsx)("p",{className:"text-center text-red-500 mt-10",children:"Exercise not found."})},bc=[{id:1,title:"S Sound Practice",description:'Practice words with the "S" sound like "Snake", "Sun", "Smile".'},{id:2,title:"R Sound Practice",description:'Practice the tricky "R" sound using words like "Rabbit", "Red", "Round".'},{id:3,title:"Tongue Strengthening",description:"Improve tongue mobility with up/down and side-to-side stretches."},{id:4,title:"Lip Closure Drill",description:'Enhance lip strength and closure using bilabial sounds: "Pa", "Ba", "Ma".'},{id:5,title:"Breath Support Training",description:"Control airflow during speech with breathing exercises and sustained vowels."},{id:6,title:"Ch Sound Practice",description:'Target "Ch" sounds with words like "Chair", "Cheese", "Chalk".'},{id:7,title:"Th Sound Clarity",description:'Differentiate between voiced/unvoiced "Th" in "This" vs "Think".'},{id:8,title:"Z Sound Emphasis",description:'Use words like "Zebra", "Zoom", "Buzz" to work on the "Z" sound.'},{id:9,title:"Sentence Repetition",description:"Repeat structured sentences to build fluency and articulation."},{id:10,title:"Minimal Pairs Drill",description:'Practice pairs like "bat" vs "pat", "cap" vs "cab" for clarity.'}],wc=()=>{const[t,e]=(0,i.useState)(""),n=tt(),r=bc.filter((e=>e.title.toLowerCase().includes(t.toLowerCase())));return(0,pe.jsx)("div",{className:"min-h-screen bg-gray-100 p-6",children:(0,pe.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,pe.jsx)("h2",{className:"text-3xl font-bold text-center text-blue-600",children:"Speech Exercises"}),(0,pe.jsx)("input",{type:"text",placeholder:"Search exercises...",className:"w-full px-4 py-2 rounded-lg border shadow-sm focus:outline-none",value:t,onChange:t=>e(t.target.value)}),(0,pe.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.map((t=>(0,pe.jsxs)("div",{onClick:()=>n(`/microphone/${t.id}`),className:"cursor-pointer rounded-xl p-5 shadow-lg transition hover:scale-105 bg-gradient-to-br from-yellow-100 to-blue-100 hover:from-yellow-200 hover:to-blue-200",children:[(0,pe.jsx)("h3",{className:"text-lg font-bold text-blue-800",children:t.title}),(0,pe.jsx)("p",{className:"text-gray-700 mt-1",children:t.description})]},t.id))),0===r.length&&(0,pe.jsx)("p",{className:"text-center text-gray-500 col-span-2",children:"No exercises found."})]})]})})},xc=()=>(0,pe.jsxs)("div",{className:"text-center p-6",children:[(0,pe.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Contact Us"}),(0,pe.jsx)("p",{className:"text-gray-600 max-w-xl mx-auto mt-4",children:"You can reach us at support@speechai.app or message us through our support form."})]});function _c(t){return t+.5|0}const Sc=(t,e,n)=>Math.max(Math.min(t,n),e);function Ec(t){return Sc(_c(2.55*t),0,255)}function kc(t){return Sc(_c(255*t),0,255)}function Tc(t){return Sc(_c(t/2.55)/100,0,1)}function Cc(t){return Sc(_c(100*t),0,100)}const Ic={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Pc=[..."0123456789ABCDEF"],Ac=t=>Pc[15&t],Rc=t=>Pc[(240&t)>>4]+Pc[15&t],Dc=t=>(240&t)>>4===(15&t);function Mc(t){var e=(t=>Dc(t.r)&&Dc(t.g)&&Dc(t.b)&&Dc(t.a))(t)?Ac:Rc;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const Nc=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Oc(t,e,n){const i=e*Math.min(n,1-n),r=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+t/30)%12;return n-i*Math.max(Math.min(r-3,9-r,1),-1)};return[r(0),r(8),r(4)]}function Lc(t,e,n){const i=function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(i+t/60)%6;return n-n*e*Math.max(Math.min(r,4-r,1),0)};return[i(5),i(3),i(1)]}function Fc(t,e,n){const i=Oc(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function jc(t){const e=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(e,n,i),s=Math.min(e,n,i),o=(r+s)/2;let a,l,c;return r!==s&&(c=r-s,l=o>.5?c/(2-r-s):c/(r+s),a=function(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}(e,n,i,c,r),a=60*a+.5),[0|a,l||0,o]}function Vc(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(kc)}function Uc(t,e,n){return Vc(Oc,t,e,n)}function zc(t){return(t%360+360)%360}function Bc(t){const e=Nc.exec(t);let n,i=255;if(!e)return;e[5]!==n&&(i=e[6]?Ec(+e[5]):kc(+e[5]));const r=zc(+e[2]),s=+e[3]/100,o=+e[4]/100;return n="hwb"===e[1]?function(t,e,n){return Vc(Fc,t,e,n)}(r,s,o):"hsv"===e[1]?function(t,e,n){return Vc(Lc,t,e,n)}(r,s,o):Uc(r,s,o),{r:n[0],g:n[1],b:n[2],a:i}}const $c={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Hc={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Wc;function qc(t){Wc||(Wc=function(){const t={},e=Object.keys(Hc),n=Object.keys($c);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,$c[s]);s=parseInt(Hc[o],16),t[a]=[s>>16&255,s>>8&255,255&s]}return t}(),Wc.transparent=[0,0,0,0]);const e=Wc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const Kc=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Gc=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,Yc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Qc(t,e,n){if(t){let i=jc(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,0===e?360:1)),i=Uc(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Xc(t,e){return t?Object.assign(e||{},t):t}function Jc(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=kc(t[3]))):(e=Xc(t,{r:0,g:0,b:0,a:1})).a=kc(e.a),e}function Zc(t){return"r"===t.charAt(0)?function(t){const e=Kc.exec(t);let n,i,r,s=255;if(e){if(e[7]!==n){const t=+e[7];s=e[8]?Ec(t):Sc(255*t,0,255)}return n=+e[1],i=+e[3],r=+e[5],n=255&(e[2]?Ec(n):Sc(n,0,255)),i=255&(e[4]?Ec(i):Sc(i,0,255)),r=255&(e[6]?Ec(r):Sc(r,0,255)),{r:n,g:i,b:r,a:s}}}(t):Bc(t)}class tu{constructor(t){if(t instanceof tu)return t;const e=typeof t;let n;"object"===e?n=Jc(t):"string"===e&&(n=function(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*Ic[t[1]],g:255&17*Ic[t[2]],b:255&17*Ic[t[3]],a:5===n?17*Ic[t[4]]:255}:7!==n&&9!==n||(e={r:Ic[t[1]]<<4|Ic[t[2]],g:Ic[t[3]]<<4|Ic[t[4]],b:Ic[t[5]]<<4|Ic[t[6]],a:9===n?Ic[t[7]]<<4|Ic[t[8]]:255})),e}(t)||qc(t)||Zc(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=Xc(this._rgb);return t&&(t.a=Tc(t.a)),t}set rgb(t){this._rgb=Jc(t)}rgbString(){return this._valid?function(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Tc(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}(this._rgb):void 0}hexString(){return this._valid?Mc(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=jc(t),n=e[0],i=Cc(e[1]),r=Cc(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${Tc(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,i=t.rgb;let r;const s=e===r?.5:e,o=2*s-1,a=n.a-i.a,l=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;r=1-l,n.r=255&l*n.r+r*i.r+.5,n.g=255&l*n.g+r*i.g+.5,n.b=255&l*n.b+r*i.b+.5,n.a=s*n.a+(1-s)*i.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,n){const i=Yc(Tc(t.r)),r=Yc(Tc(t.g)),s=Yc(Tc(t.b));return{r:kc(Gc(i+n*(Yc(Tc(e.r))-i))),g:kc(Gc(r+n*(Yc(Tc(e.g))-r))),b:kc(Gc(s+n*(Yc(Tc(e.b))-s))),a:t.a+n*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new tu(this.rgb)}alpha(t){return this._rgb.a=kc(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=_c(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Qc(this._rgb,2,t),this}darken(t){return Qc(this._rgb,2,-t),this}saturate(t){return Qc(this._rgb,1,t),this}desaturate(t){return Qc(this._rgb,1,-t),this}rotate(t){return function(t,e){var n=jc(t);n[0]=zc(n[0]+e),n=Uc(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function eu(){}const nu=(()=>{let t=0;return()=>t++})();function iu(t){return null===t||void 0===t}function ru(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function su(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function ou(t){return("number"===typeof t||t instanceof Number)&&isFinite(+t)}function au(t,e){return ou(t)?t:e}function lu(t,e){return"undefined"===typeof t?e:t}const cu=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function uu(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function hu(t,e,n,i){let r,s,o;if(ru(t))if(s=t.length,i)for(r=s-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<s;r++)e.call(n,t[r],r);else if(su(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function du(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function fu(t){if(ru(t))return t.map(fu);if(su(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=fu(t[n[r]]);return e}return t}function pu(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function mu(t,e,n,i){if(!pu(t))return;const r=e[t],s=n[t];su(r)&&su(s)?gu(r,s,i):e[t]=fu(s)}function gu(t,e,n){const i=ru(e)?e:[e],r=i.length;if(!su(t))return t;const s=(n=n||{}).merger||mu;let o;for(let a=0;a<r;++a){if(o=i[a],!su(o))continue;const e=Object.keys(o);for(let i=0,r=e.length;i<r;++i)s(e[i],t,o,n)}return t}function yu(t,e){return gu(t,e,{merger:vu})}function vu(t,e,n){if(!pu(t))return;const i=e[t],r=n[t];su(i)&&su(r)?yu(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=fu(r))}const bu={"":t=>t,x:t=>t.x,y:t=>t.y};function wu(t,e){const n=bu[e]||(bu[e]=function(t){const e=function(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}(e));return n(t)}function xu(t){return t.charAt(0).toUpperCase()+t.slice(1)}const _u=t=>"undefined"!==typeof t,Su=t=>"function"===typeof t,Eu=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};const ku=Math.PI,Tu=2*ku,Cu=Number.POSITIVE_INFINITY,Iu=ku/180,Pu=ku/2,Au=ku/4,Ru=2*ku/3,Du=Math.log10,Mu=Math.sign;function Nu(t,e,n){return Math.abs(t-e)<n}function Ou(t){const e=Math.round(t);t=Nu(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Du(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Lu(t){return!function(t){return"symbol"===typeof t||"object"===typeof t&&null!==t&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Fu(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function ju(t){return t*(ku/180)}function Vu(t){return t*(180/ku)}function Uu(t){if(!ou(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function zu(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*ku&&(s+=Tu),{angle:s,distance:r}}function Bu(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function $u(t){return(t%Tu+Tu)%Tu}function Hu(t,e,n,i){const r=$u(t),s=$u(e),o=$u(n),a=$u(s-r),l=$u(o-r),c=$u(r-s),u=$u(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function Wu(t,e,n){return Math.max(e,Math.min(n,t))}function qu(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Ku(t,e,n){n=n||(n=>t[n]<e);let i,r=t.length-1,s=0;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const Gu=(t,e,n,i)=>Ku(t,n,i?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),Yu=(t,e,n)=>Ku(t,n,(i=>t[i][e]>=n));const Qu=["push","pop","shift","splice","unshift"];function Xu(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);-1!==r&&i.splice(r,1),i.length>0||(Qu.forEach((e=>{delete t[e]})),delete t._chartjs)}function Ju(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Zu="undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame;function th(t,e){let n=[],i=!1;return function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];n=s,i||(i=!0,Zu.call(window,(()=>{i=!1,t.apply(e,n)})))}}const eh=t=>"start"===t?"left":"end"===t?"right":"center",nh=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2;const ih=t=>0===t||1===t,rh=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*Tu/n),sh=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Tu/n)+1,oh={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*Pu),easeOutSine:t=>Math.sin(t*Pu),easeInOutSine:t=>-.5*(Math.cos(ku*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>ih(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ih(t)?t:rh(t,.075,.3),easeOutElastic:t=>ih(t)?t:sh(t,.075,.3),easeInOutElastic(t){const e=.1125;return ih(t)?t:t<.5?.5*rh(2*t,e,.45):.5+.5*sh(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-oh.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*oh.easeInBounce(2*t):.5*oh.easeOutBounce(2*t-1)+.5};function ah(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function lh(t){return ah(t)?t:new tu(t)}function ch(t){return ah(t)?t:new tu(t).saturate(.5).darken(.1).hexString()}const uh=["x","y","borderWidth","radius","tension"],hh=["color","borderColor","backgroundColor"];const dh=new Map;function fh(t,e,n){return function(t,e){e=e||{};const n=t+JSON.stringify(e);let i=dh.get(n);return i||(i=new Intl.NumberFormat(t,e),dh.set(n,i)),i}(e,n).format(t)}const ph={values:t=>ru(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(r="scientific"),s=function(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t));return n}(t,n)}const o=Du(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),fh(t,i,l)},logarithmic(t,e,n){if(0===t)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(Du(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?ph.numeric.call(this,t,e,n):""}};var mh={formatters:ph};const gh=Object.create(null),yh=Object.create(null);function vh(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const e=n[i];t=t[e]||(t[e]=Object.create(null))}return t}function bh(t,e,n){return"string"===typeof e?gu(vh(t,e),n):gu(vh(t,""),e)}class wh{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>ch(e.backgroundColor),this.hoverBorderColor=(t,e)=>ch(e.borderColor),this.hoverColor=(t,e)=>ch(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return bh(this,t,e)}get(t){return vh(this,t)}describe(t,e){return bh(yh,t,e)}override(t,e){return bh(gh,t,e)}route(t,e,n,i){const r=vh(this,t),s=vh(this,n),o="_"+e;Object.defineProperties(r,{[o]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[o],e=s[i];return su(t)?Object.assign({},e,t):lu(t,e)},set(t){this[o]=t}}})}apply(t){t.forEach((t=>t(this)))}}var xh=new wh({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:hh},numbers:{type:"number",properties:uh}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:mh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function _h(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function Sh(t,e,n){const i=t.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function Eh(t,e){(e||t)&&((e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function kh(t,e,n,i){Th(t,e,n,i,null)}function Th(t,e,n,i,r){let s,o,a,l,c,u,h,d;const f=e.pointStyle,p=e.rotation,m=e.radius;let g=(p||0)*Iu;if(f&&"object"===typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return t.save(),t.translate(n,i),t.rotate(g),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(m)||m<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,i,r/2,m,0,0,Tu):t.arc(n,i,m,0,Tu),t.closePath();break;case"triangle":u=r?r/2:m,t.moveTo(n+Math.sin(g)*u,i-Math.cos(g)*m),g+=Ru,t.lineTo(n+Math.sin(g)*u,i-Math.cos(g)*m),g+=Ru,t.lineTo(n+Math.sin(g)*u,i-Math.cos(g)*m),t.closePath();break;case"rectRounded":c=.516*m,l=m-c,o=Math.cos(g+Au)*l,h=Math.cos(g+Au)*(r?r/2-c:l),a=Math.sin(g+Au)*l,d=Math.sin(g+Au)*(r?r/2-c:l),t.arc(n-h,i-a,c,g-ku,g-Pu),t.arc(n+d,i-o,c,g-Pu,g),t.arc(n+h,i+a,c,g,g+Pu),t.arc(n-d,i+o,c,g+Pu,g+ku),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*m,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}g+=Au;case"rectRot":h=Math.cos(g)*(r?r/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(r?r/2:m),t.moveTo(n-h,i-a),t.lineTo(n+d,i-o),t.lineTo(n+h,i+a),t.lineTo(n-d,i+o),t.closePath();break;case"crossRot":g+=Au;case"cross":h=Math.cos(g)*(r?r/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(r?r/2:m),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"star":h=Math.cos(g)*(r?r/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(r?r/2:m),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o),g+=Au,h=Math.cos(g)*(r?r/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(r?r/2:m),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"line":o=r?r/2:Math.cos(g)*m,a=Math.sin(g)*m,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(g)*(r?r/2:m),i+Math.sin(g)*m);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function Ch(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Ih(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Ph(t){t.restore()}function Ah(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function Rh(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Dh(t,e,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=ru(e)?e:[e],a=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(t.save(),t.font=r.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),iu(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&Rh(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),iu(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),Ah(t,n,i,c,s),i+=Number(r.lineHeight);t.restore()}function Mh(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*ku,ku,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,ku,Pu,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Pu,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Pu,!0),t.lineTo(n+o.topLeft,i)}const Nh=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Oh=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Lh(t,e){const n=(""+t).match(Nh);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}const Fh=t=>+t||0;function jh(t,e){const n={},i=su(e),r=i?Object.keys(e):e,s=su(t)?i?n=>lu(t[n],t[e[n]]):e=>t[e]:()=>t;for(const o of r)n[o]=Fh(s(o));return n}function Vh(t){return jh(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Uh(t){return jh(t,["topLeft","topRight","bottomLeft","bottomRight"])}function zh(t){const e=Vh(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Bh(t,e){t=t||{},e=e||xh.font;let n=lu(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));let i=lu(t.style,e.style);i&&!(""+i).match(Oh)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:lu(t.family,e.family),lineHeight:Lh(lu(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:lu(t.weight,e.weight),string:""};return r.string=function(t){return!t||iu(t.size)||iu(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(r),r}function $h(t,e,n,i){let r,s,o,a=!0;for(r=0,s=t.length;r<s;++r)if(o=t[r],void 0!==o&&(void 0!==e&&"function"===typeof o&&(o=o(e),a=!1),void 0!==n&&ru(o)&&(o=o[n%o.length],a=!1),void 0!==o))return i&&!a&&(i.cacheable=!1),o}function Hh(t,e){return Object.assign(Object.create(t),e)}function Wh(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>t[0];const r=(arguments.length>2?arguments[2]:void 0)||t;"undefined"===typeof n&&(n=nd("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:n,_getTarget:i,override:i=>Wh([i,...t],e,r,n)};return new Proxy(s,{deleteProperty:(e,n)=>(delete e[n],delete e._keys,delete t[0][n],!0),get:(n,i)=>Qh(n,i,(()=>function(t,e,n,i){let r;for(const s of e)if(r=nd(Gh(s,t),n),"undefined"!==typeof r)return Yh(t,r)?td(n,i,t,r):r}(i,e,t,n))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>id(t).includes(e),ownKeys:t=>id(t),set(t,e,n){const r=t._storage||(t._storage=i());return t[e]=r[e]=n,delete t._keys,!0}})}function qh(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Kh(t,i),setContext:e=>qh(t,e,n,i),override:r=>qh(t.override(r),e,n,i)};return new Proxy(r,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,e,n)=>Qh(t,e,(()=>function(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];Su(a)&&o.isScriptable(e)&&(a=function(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||i);a.delete(t),Yh(t,l)&&(l=td(r._scopes,r,t,l));return l}(e,a,t,n));ru(a)&&a.length&&(a=function(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if("undefined"!==typeof s.index&&i(t))return e[s.index%e.length];if(su(e[0])){const n=e,i=r._scopes.filter((t=>t!==n));e=[];for(const l of n){const n=td(i,r,t,l);e.push(qh(n,s,o&&o[t],a))}}return e}(e,a,t,o.isIndexable));Yh(e,a)&&(a=qh(a,r,s&&s[e],o));return a}(t,e,n))),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,i)=>(t[n]=i,delete e[n],!0)})}function Kh(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Su(n)?n:()=>n,isIndexable:Su(i)?i:()=>i}}const Gh=(t,e)=>t?t+xu(e):e,Yh=(t,e)=>su(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function Qh(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||"constructor"===e)return t[e];const i=n();return t[e]=i,i}function Xh(t,e,n){return Su(t)?t(e,n):t}const Jh=(t,e)=>!0===t?e:"string"===typeof t?wu(e,t):void 0;function Zh(t,e,n,i,r){for(const s of e){const e=Jh(n,s);if(e){t.add(e);const s=Xh(e._fallback,n,r);if("undefined"!==typeof s&&s!==n&&s!==i)return s}else if(!1===e&&"undefined"!==typeof i&&n!==i)return null}return!1}function td(t,e,n,i){const r=e._rootScopes,s=Xh(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=ed(a,o,n,s||n,i);return null!==l&&(("undefined"===typeof s||s===n||(l=ed(a,o,s,l,i),null!==l))&&Wh(Array.from(a),[""],r,s,(()=>function(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];if(ru(r)&&su(n))return n;return r||{}}(e,n,i))))}function ed(t,e,n,i,r){for(;n;)n=Zh(t,e,n,i,r);return n}function nd(t,e){for(const n of e){if(!n)continue;const e=n[t];if("undefined"!==typeof e)return e}}function id(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}Number.EPSILON;function rd(){return"undefined"!==typeof window&&"undefined"!==typeof document}function sd(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function od(t,e,n){let i;return"string"===typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}const ad=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);const ld=["top","right","bottom","left"];function cd(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=ld[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function ud(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=ad(n),s="border-box"===r.boxSizing,o=cd(r,"padding"),a=cd(r,"border","width"),{x:l,y:c,box:u}=function(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o,a,l=!1;if(((t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot))(r,s,t.target))o=r,a=s;else{const t=e.getBoundingClientRect();o=i.clientX-t.left,a=i.clientY-t.top,l=!0}return{x:o,y:a,box:l}}(t,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((c-d)/p*n.height/i)}}const hd=t=>Math.round(10*t)/10;function dd(t,e,n,i){const r=ad(t),s=cd(r,"margin"),o=od(r.maxWidth,t,"clientWidth")||Cu,a=od(r.maxHeight,t,"clientHeight")||Cu,l=function(t,e,n){let i,r;if(void 0===e||void 0===n){const s=t&&sd(t);if(s){const t=s.getBoundingClientRect(),o=ad(s),a=cd(o,"border","width"),l=cd(o,"padding");e=t.width-l.width-a.width,n=t.height-l.height-a.height,i=od(o.maxWidth,s,"clientWidth"),r=od(o.maxHeight,s,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:i||Cu,maxHeight:r||Cu}}(t,e,n);let{width:c,height:u}=l;if("content-box"===r.boxSizing){const t=cd(r,"border","width"),e=cd(r,"padding");c-=e.width+t.width,u-=e.height+t.height}c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=hd(Math.min(c,o,l.maxWidth)),u=hd(Math.min(u,a,l.maxHeight)),c&&!u&&(u=hd(c/2));return(void 0!==e||void 0!==n)&&i&&l.height&&u>l.height&&(u=l.height,c=hd(Math.floor(u*i))),{width:c,height:u}}function fd(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s)&&(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0)}const pd=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};rd()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(OA){}return t}();function md(t,e){const n=function(t,e){return ad(t).getPropertyValue(e)}(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function gd(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function yd(t,e){let n,i;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function vd(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}class bd{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,i){const r=e.listeners[i],s=e.duration;r.forEach((i=>i({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(n-e.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=Zu.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=0;this._charts.forEach(((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let s,o=r.length-1,a=!1;for(;o>=0;--o)s=r[o],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,n,t,"progress")),r.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),e+=r.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var wd=new bd;const xd="transparent",_d={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const i=lh(t||xd),r=i.valid&&lh(e||xd);return r&&r.valid?r.mix(i,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class Sd{constructor(t,e,n,i){const r=e[n];i=$h([t.to,i,r,t.from]);const s=$h([t.from,r,i]);this._active=!0,this._fn=t.fn||_d[t.type||typeof s],this._easing=oh[t.easing]||oh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,s=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=$h([t.to,e,i,t.from]),this._from=$h([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,i=this._prop,r=this._from,s=this._loop,o=this._to;let a;if(this._active=r!==o&&(s||e<n),!this._active)return this._target[i]=o,void this._notify(!0);e<0?this._target[i]=r:(a=e/n%2,a=s&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[i]=this._fn(r,o,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][e]()}}class Ed{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!su(t))return;const e=Object.keys(xh.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach((i=>{const r=t[i];if(!su(r))return;const s={};for(const t of e)s[t]=r[t];(ru(r.properties)&&r.properties||[i]).forEach((t=>{t!==i&&n.has(t)||n.set(t,s)}))}))}_animateOptions(t,e){const n=e.options,i=function(t,e){if(!e)return;let n=t.options;if(!n)return void(t.options=e);n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&function(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const e=t[i[r]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),r}_createAnimations(t,e){const n=this._properties,i=[],r=t.$animations||(t.$animations={}),s=Object.keys(e),o=Date.now();let a;for(a=s.length-1;a>=0;--a){const l=s[a];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(t,e));continue}const c=e[l];let u=r[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,o);continue}u.cancel()}h&&h.duration?(r[l]=u=new Sd(h,t,l,c),i.push(u)):t[l]=c}return i}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(wd.add(this._chart,n),!0):void 0}}function kd(t,e){const n=t&&t.options||{},i=n.reverse,r=void 0===n.min?e:0,s=void 0===n.max?e:0;return{start:i?s:r,end:i?r:s}}function Td(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function Cd(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=t.keys,s="single"===i.mode;let o,a,l,c;if(null===e)return;let u=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(u=!0,i.all)continue;break}c=t.values[l],ou(c)&&(s||0===e||Mu(e)===Mu(c))&&(e+=c)}return u||i.all?e:0}function Id(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function Pd(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Ad(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const e=t[r.index];if(n&&e>0||!n&&e<0)return r.index}return null}function Rd(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=function(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}(s,o,i),h=e.length;let d;for(let f=0;f<h;++f){const t=e[f],{[l]:n,[c]:s}=t;d=(t._stacks||(t._stacks={}))[c]=Pd(r,u,n),d[a]=s,d._top=Ad(d,o,!0,i.type),d._bottom=Ad(d,o,!1,i.type);(d._visualValues||(d._visualValues={}))[a]=s}}function Dd(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function Md(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[i]||void 0===e[i][n])return;delete e[i][n],void 0!==e[i]._visualValues&&void 0!==e[i]._visualValues[n]&&delete e[i]._visualValues[n]}}}const Nd=t=>"reset"===t||"none"===t,Od=(t,e)=>e?t:Object.assign({},t);class Ld{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Id(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Md(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),i=(t,e,n,i)=>"x"===t?e:"r"===t?i:n,r=e.xAxisID=lu(n.xAxisID,Dd(t,"x")),s=e.yAxisID=lu(n.yAxisID,Dd(t,"y")),o=e.rAxisID=lu(n.rAxisID,Dd(t,"r")),a=e.indexAxis,l=e.iAxisID=i(a,r,s,o),c=e.vAxisID=i(a,s,r,o);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(s),e.rScale=this.getScaleForId(o),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Xu(this._data,this),t._stacked&&Md(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(su(e)){const t=this._cachedMeta;this._data=function(t,e){const{iScale:n,vScale:i}=e,r="x"===n.axis?"x":"y",s="x"===i.axis?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[r]:u,[s]:t[u]};return a}(e,t)}else if(n!==e){if(n){Xu(n,this);const t=this._cachedMeta;Md(t),t._parsed=[]}e&&Object.isExtensible(e)&&(r=this,(i=e)._chartjs?i._chartjs.listeners.push(r):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),Qu.forEach((t=>{const e="_onData"+xu(t),n=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];const o=n.apply(this,r);return i._chartjs.listeners.forEach((t=>{"function"===typeof t[e]&&t[e](...r)})),o}})})))),this._syncList=[],this._data=e}var i,r}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=e._stacked;e._stacked=Id(e.vScale,e),e.stack!==n.stack&&(i=!0,Md(e),e.stack=n.stack),this._resyncElements(t),(i||r!==e._stacked)&&(Rd(this,e._parsed),e._stacked=Id(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:s}=n,o=r.axis;let a,l,c,u=0===t&&e===i.length||n._sorted,h=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,c=i;else{c=ru(i[t])?this.parseArrayData(n,i,t,e):su(i[t])?this.parseObjectData(n,i,t,e):this.parsePrimitiveData(n,i,t,e);const r=()=>null===l[o]||h&&l[o]<h[o];for(a=0;a<e;++a)n._parsed[a+t]=l=c[a],u&&(r()&&(u=!1),h=l);n._sorted=u}s&&Rd(this,c)}parsePrimitiveData(t,e,n,i){const{iScale:r,vScale:s}=t,o=r.axis,a=s.axis,l=r.getLabels(),c=r===s,u=new Array(i);let h,d,f;for(h=0,d=i;h<d;++h)f=h+n,u[h]={[o]:c||r.parse(l[f],f),[a]:s.parse(e[f],f)};return u}parseArrayData(t,e,n,i){const{xScale:r,yScale:s}=t,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={x:r.parse(u[0],c),y:s.parse(u[1],c)};return o}parseObjectData(t,e,n,i){const{xScale:r,yScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l=new Array(i);let c,u,h,d;for(c=0,u=i;c<u;++c)h=c+n,d=e[h],l[c]={x:r.parse(wu(d,o),h),y:s.parse(wu(d,a),h)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const i=this.chart,r=this._cachedMeta,s=e[t.axis];return Cd({keys:Td(i,!0),values:e._stacks[t.axis]._visualValues},s,r.index,{mode:n})}updateRangeFromParsed(t,e,n,i){const r=n[e.axis];let s=null===r?NaN:r;const o=i&&n._stacks[e.axis];i&&o&&(i.values=o,s=Cd(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,e){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&t===n.iScale,s=i.length,o=this._getOtherScale(t),a=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Td(n,!0),values:null})(e,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(o);let h,d;function f(){d=i[h];const e=d[o.axis];return!ou(d[t.axis])||c>e||u<e}for(h=0;h<s&&(f()||(this.updateRangeFromParsed(l,t,d,a),!r));++h);if(r)for(h=s-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,t,d,a);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i][t.axis],ou(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,i=e.vScale,r=this.getParsed(t);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,n,i,r;return su(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:!1===t}}(lu(this.options.clip,function(t,e,n){if(!1===n)return!1;const i=kd(t,n),r=kd(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,i=n.data||[],r=e.chartArea,s=[],o=this._drawStart||0,a=this._drawCount||i.length-o,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(t,r,o,a),c=o;c<o+a;++c){const e=i[c];e.hidden||(e.active&&l?s.push(e):e.draw(t,r))}for(c=0;c<s.length;++c)s[c].draw(t,r)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];r=e.$context||(e.$context=function(t,e,n){return Hh(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=function(t,e){return Hh(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=n,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const i="active"===e,r=this._cachedDataOpts,s=t+"-"+e,o=r[s],a=this.enableOptionSharing&&_u(n);if(o)return Od(o,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,t),u=i?[`${t}Hover`,"hover",t,""]:[t,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(xh.elements[t]),f=l.resolveNamedOptions(h,d,(()=>this.getContext(n,i,e)),u);return f.$shared&&(f.$shared=a,r[s]=Object.freeze(Od(f,a))),f}_resolveAnimations(t,e,n){const i=this.chart,r=this._cachedDataOpts,s=`animation-${e}`,o=r[s];if(o)return o;let a;if(!1!==i.options.animation){const i=this.chart.config,r=i.datasetAnimationScopeKeys(this._type,e),s=i.getOptionScopes(this.getDataset(),r);a=i.createResolver(s,this.getContext(t,n,e))}const l=new Ed(i,a&&a.animations);return a&&a._cacheable&&(r[s]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Nd(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),i=this._sharedOptions,r=this.getSharedOptions(n),s=this.includeOptions(e,r)||r!==i;return this.updateSharedOptions(r,e,n),{sharedOptions:r,includeOptions:s}}updateElement(t,e,n,i){Nd(i)?Object.assign(t,n):this._resolveAnimations(e,i).update(t,n)}updateSharedOptions(t,e,n){t&&!Nd(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,i){t.active=i;const r=this.getStyle(e,i);this._resolveAnimations(e,n,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[o,a,l]of this._syncList)this[o](a,l);this._syncList=[];const i=n.length,r=e.length,s=Math.min(r,i);s&&this.parse(0,s),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this._cachedMeta,r=i.data,s=t+e;let o;const a=t=>{for(t.length+=e,o=t.length-1;o>=s;o--)t[o]=t[o-e]};for(a(r),o=t;o<s;++o)r[o]=new this.dataElementType;this._parsing&&a(i._parsed),this.parse(t,e),n&&this.updateElements(r,t,e,"reset")}updateElements(t,e,n,i){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,e);n._stacked&&Md(n,i)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,i]=t;this[e](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Fd(t){const e=t.iScale,n=function(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let e=0,r=n.length;e<r;e++)i=i.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=Ju(i.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let i,r,s,o,a=e._length;const l=()=>{32767!==s&&-32768!==s&&(_u(o)&&(a=Math.min(a,Math.abs(s-o)||a)),o=s)};for(i=0,r=n.length;i<r;++i)s=e.getPixelForValue(n[i]),l();for(o=void 0,i=0,r=e.ticks.length;i<r;++i)s=e.getPixelForTick(i),l();return a}function jd(t,e,n,i){return ru(t)?function(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Vd(t,e,n,i){const r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=e[c],h={},h[r.axis]=a||r.parse(o[c],c),l.push(jd(d,h,s,c));return l}function Ud(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function zd(t,e,n,i){let r=e.borderSkipped;const s={};if(!r)return void(t.borderSkipped=s);if(!0===r)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:l,top:c,bottom:u}=function(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}(t);"middle"===r&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[Bd(u,o,a,l)]=!0,r=c)),s[Bd(r,o,a,l)]=!0,t.borderSkipped=s}function Bd(t,e,n,i){var r,s,o;return i?(o=n,t=$d(t=(r=t)===(s=e)?o:r===o?s:r,n,e)):t=$d(t,e,n),t}function $d(t,e,n){return"start"===t?e:"end"===t?n:t}function Hd(t,e,n){let{inflateAmount:i}=e;t.inflateAmount="auto"===i?1===n?.33:0:i}class Wd extends Ld{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,n,i){return Vd(t,e,n,i)}parseArrayData(t,e,n,i){return Vd(t,e,n,i)}parseObjectData(t,e,n,i){const{iScale:r,vScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l="x"===r.axis?o:a,c="x"===s.axis?o:a,u=[];let h,d,f,p;for(h=n,d=n+i;h<d;++h)p=e[h],f={},f[r.axis]=r.parse(wu(p,l),h),u.push(jd(wu(p,c),f,s,h));return u}updateRangeFromParsed(t,e,n,i){super.updateRangeFromParsed(t,e,n,i);const r=n._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:i}=e,r=this.getParsed(t),s=r._custom,o=Ud(s)?"["+s.start+", "+s.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,i){const r="reset"===i,{index:s,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,i);for(let d=e;d<e+n;d++){const e=this.getParsed(d),n=r||iu(e[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,c),p=(e._stacks||{})[o.axis],m={horizontal:l,base:n.base,enableBorderRadius:!p||Ud(e._custom)||s===p._top||s===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};h&&(m.options=u||this.resolveDataElementOptions(d,t[d].active?"active":i));const g=m.options||t[d].options;zd(m,g,p,s),Hd(m,g,c.ratio),this.updateElement(t[d],d,m,i)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),r=n.options.stacked,s=[],o=this._cachedMeta.controller.getParsed(e),a=o&&o[n.axis],l=t=>{const e=t._parsed.find((t=>t[n.axis]===a)),i=e&&e[t.vScale.axis];if(iu(i)||isNaN(i))return!0};for(const c of i)if((void 0===e||!l(c))&&((!1===r||-1===s.indexOf(c.stack)||void 0===r&&void 0===c.stack)&&s.push(c.stack),c.index===t))break;return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const i=this._getStacks(t,n),r=void 0!==e?i.indexOf(e):-1;return-1===r?i.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,i=[];let r,s;for(r=0,s=e.data.length;r<s;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const o=t.barThickness;return{min:o||Fd(e),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:i},options:{base:r,minBarLength:s}}=this,o=r||0,a=this.getParsed(t),l=a._custom,c=Ud(l);let u,h,d=a[e.axis],f=0,p=n?this.applyStack(e,a,n):d;p!==d&&(f=p-d,p=d),c&&(d=l.barStart,p=l.barEnd-l.barStart,0!==d&&Mu(d)!==Mu(l.barEnd)&&(f=0),f+=d);const m=iu(r)||c?f:r;let g=e.getPixelForValue(m);if(u=this.chart.getDataVisibility(t)?e.getPixelForValue(f+p):g,h=u-g,Math.abs(h)<s){h=function(t,e,n){return 0!==t?Mu(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(h,e,o)*s,d===o&&(g-=h/2);const t=e.getPixelForDecimal(0),r=e.getPixelForDecimal(1),l=Math.min(t,r),f=Math.max(t,r);g=Math.max(Math.min(g,f),l),u=g+h,n&&!c&&(a._stacks[e.axis]._visualValues[i]=e.getValueForPixel(u)-e.getValueForPixel(g))}if(g===e.getPixelForValue(o)){const t=Mu(h)*e.getLineWidthForValue(o)/2;g+=t,h-=t}return{size:h,base:g,head:u,center:u+h/2}}_calculateBarIndexPixels(t,e){const n=e.scale,i=this.options,r=i.skipNull,s=lu(i.maxBarThickness,1/0);let o,a;if(e.grouped){const n=r?this._getStackCount(t):e.stackCount,l="flex"===i.barThickness?function(t,e,n,i){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;null===o&&(o=s-(null===a?e.end-e.start:a-s)),null===a&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}(t,e,i,n):function(t,e,n,i){const r=n.barThickness;let s,o;return iu(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}(t,e,i,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);o=l.start+l.chunk*c+l.chunk/2,a=Math.min(s,l.chunk*l.ratio)}else o=n.getPixelForValue(this.getParsed(t)[n.axis],t),a=Math.min(s,e.min*e.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,i=n.length;let r=0;for(;r<i;++r)null===this.getParsed(r)[e.axis]||n[r].hidden||n[r].draw(this._ctx)}}function qd(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Kd{static override(t){Object.assign(Kd.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return qd()}parse(){return qd()}format(){return qd()}add(){return qd()}diff(){return qd()}startOf(){return qd()}endOf(){return qd()}}var Gd=Kd;function Yd(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&"r"!==e&&o&&s.length){const o=a._reversePixels?Yu:Gu;if(!i){const i=o(s,e,n);if(l){const{vScale:e}=r._cachedMeta,{_parsed:n}=t,s=n.slice(0,i.lo+1).reverse().findIndex((t=>!iu(t[e.axis])));i.lo-=Math.max(0,s);const o=n.slice(i.hi).findIndex((t=>!iu(t[e.axis])));i.hi+=Math.max(0,o)}return i}if(r._sharedOptions){const t=s[0],i="function"===typeof t.getRange&&t.getRange(e);if(i){const t=o(s,e,n-i),r=o(s,e,n+i);return{lo:t.lo,hi:r.hi}}}}return{lo:0,hi:s.length-1}}function Qd(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:t,data:n}=s[a],{lo:l,hi:c}=Yd(s[a],e,o,r);for(let e=l;e<=c;++e){const r=n[e];r.skip||i(r,t,e)}}}function Xd(t,e,n,i,r){const s=[];if(!r&&!t.isPointInArea(e))return s;return Qd(t,n,e,(function(n,o,a){(r||Ch(n,t.chartArea,0))&&n.inRange(e.x,e.y,i)&&s.push({element:n,datasetIndex:o,index:a})}),!0),s}function Jd(t,e,n,i,r,s){let o=[];const a=function(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,i){const r=e?Math.abs(t.x-i.x):0,s=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return Qd(t,n,e,(function(n,c,u){const h=n.inRange(e.x,e.y,r);if(i&&!h)return;const d=n.getCenterPoint(r);if(!(!!s||t.isPointInArea(d))&&!h)return;const f=a(e,d);f<l?(o=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&o.push({element:n,datasetIndex:c,index:u})})),o}function Zd(t,e,n,i,r,s){return s||t.isPointInArea(e)?"r"!==n||i?Jd(t,e,n,i,r,s):function(t,e,n,i){let r=[];return Qd(t,n,e,(function(t,n,s){const{startAngle:o,endAngle:a}=t.getProps(["startAngle","endAngle"],i),{angle:l}=zu(t,{x:e.x,y:e.y});Hu(l,o,a)&&r.push({element:t,datasetIndex:n,index:s})})),r}(t,e,n,r):[]}function tf(t,e,n,i,r){const s=[],o="x"===n?"inXRange":"inYRange";let a=!1;return Qd(t,n,e,((t,i,l)=>{t[o]&&t[o](e[n],r)&&(s.push({element:t,datasetIndex:i,index:l}),a=a||t.inRange(e.x,e.y,r))})),i&&!a?[]:s}var ef={evaluateInteractionItems:Qd,modes:{index(t,e,n,i){const r=ud(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Xd(t,r,s,i,o):Zd(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,n=t.data[e];n&&!n.skip&&l.push({element:n,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,n,i){const r=ud(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Xd(t,r,s,i,o):Zd(t,r,s,!1,i,o);if(a.length>0){const e=a[0].datasetIndex,n=t.getDatasetMeta(e).data;a=[];for(let t=0;t<n.length;++t)a.push({element:n[t],datasetIndex:e,index:t})}return a},point:(t,e,n,i)=>Xd(t,ud(e,t),n.axis||"xy",i,n.includeInvisible||!1),nearest(t,e,n,i){const r=ud(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Zd(t,r,s,n.intersect,i,o)},x:(t,e,n,i)=>tf(t,ud(e,t),"x",n.intersect,i),y:(t,e,n,i)=>tf(t,ud(e,t),"y",n.intersect,i)}};const nf=["left","top","right","bottom"];function rf(t,e){return t.filter((t=>t.pos===e))}function sf(t,e){return t.filter((t=>-1===nf.indexOf(t.pos)&&t.box.axis===e))}function of(t,e){return t.sort(((t,n)=>{const i=e?n:t,r=e?t:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function af(t,e){const n=function(t){const e={};for(const n of t){const{stack:t,pos:i,stackWeight:r}=n;if(!t||!nf.includes(i))continue;const s=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=r}return e}(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:o}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*i:o&&e.availableWidth,a.height=r):(a.width=i,a.height=c?c*r:o&&e.availableHeight)}return n}function lf(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function cf(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function uf(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!su(r)){n.size&&(t[r]-=n.size);const e=i[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?s.height:s.width),n.size=e.size/e.count,t[r]+=n.size}s.getPadding&&cf(o,s.getPadding());const a=Math.max(0,e.outerWidth-lf(o,t,"left","right")),l=Math.max(0,e.outerHeight-lf(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function hf(t,e){const n=e.maxPadding;function i(t){const i={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{i[t]=Math.max(e[t],n[t])})),i}return i(t?["left","right"]:["top","bottom"])}function df(t,e,n,i){const r=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,hf(a.horizontal,e));const{same:o,other:h}=uf(e,n,a,i);c|=o&&r.length,u=u||h,l.fullSize||r.push(a)}return c&&df(r,e,n,i)||u}function ff(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function pf(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const t=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const i=e.w*c,s=l.size||t.height;_u(l.start)&&(o=l.start),t.fullSize?ff(t,r.left,o,n.outerWidth-r.right-r.left,s):ff(t,e.left+l.placed,o,i,s),l.start=o,l.placed+=i,o=t.bottom}else{const i=e.h*c,o=l.size||t.width;_u(l.start)&&(s=l.start),t.fullSize?ff(t,s,r.top,o,n.outerHeight-r.bottom-r.top):ff(t,s,e.top+l.placed,o,i),l.start=s,l.placed+=i,s=t.right}}e.x=s,e.y=o}var mf={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=zh(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=function(t){const e=function(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],({position:s,options:{stack:o,stackWeight:a=1}}=r),e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}(t),n=of(e.filter((t=>t.box.fullSize)),!0),i=of(rf(e,"left"),!0),r=of(rf(e,"right")),s=of(rf(e,"top"),!0),o=of(rf(e,"bottom")),a=sf(e,"x"),l=sf(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:rf(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}(t.boxes),l=a.vertical,c=a.horizontal;hu(t.boxes,(t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()}));const u=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},r);cf(d,zh(i));const f=Object.assign({maxPadding:d,w:s,h:o,x:r.left,y:r.top},r),p=af(l.concat(c),h);df(a.fullSize,f,h,p),df(l,f,h,p),df(c,f,h,p)&&df(l,f,h,p),function(t){const e=t.maxPadding;function n(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(f),pf(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,pf(a.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},hu(a.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class gf{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,i){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):n)}}isAttached(t){return!0}updateConfig(t){}}class yf extends gf{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const vf="$chartjs",bf={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},wf=t=>null===t||""===t;const xf=!!pd&&{passive:!0};function _f(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,xf)}function Sf(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Ef(t,e,n){const i=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||Sf(n.addedNodes,i),e=e&&!Sf(n.removedNodes,i);e&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}function kf(t,e,n){const i=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||Sf(n.removedNodes,i),e=e&&!Sf(n.addedNodes,i);e&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}const Tf=new Map;let Cf=0;function If(){const t=window.devicePixelRatio;t!==Cf&&(Cf=t,Tf.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function Pf(t,e,n){const i=t.canvas,r=i&&sd(i);if(!r)return;const s=th(((t,e)=>{const i=r.clientWidth;n(t,e),i<r.clientWidth&&n()}),window),o=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,i=e.contentRect.height;0===n&&0===i||s(n,i)}));return o.observe(r),function(t,e){Tf.size||window.addEventListener("resize",If),Tf.set(t,e)}(t,s),o}function Af(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){Tf.delete(t),Tf.size||window.removeEventListener("resize",If)}(t)}function Rf(t,e,n){const i=t.canvas,r=th((e=>{null!==t.ctx&&n(function(t,e){const n=bf[t.type]||t.type,{x:i,y:r}=ud(t,e);return{type:n,chart:e,native:t,x:void 0!==i?i:null,y:void 0!==r?r:null}}(e,t))}),t);return function(t,e,n){t&&t.addEventListener(e,n,xf)}(i,e,r),r}class Df extends gf{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[vf]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",wf(r)){const e=md(t,"width");void 0!==e&&(t.width=e)}if(wf(i))if(""===t.style.height)t.height=t.width/(e||2);else{const e=md(t,"height");void 0!==e&&(t.height=e)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[vf])return!1;const n=e[vf].initial;["height","width"].forEach((t=>{const i=n[t];iu(i)?e.removeAttribute(t):e.setAttribute(t,i)}));const i=n.style||{};return Object.keys(i).forEach((t=>{e.style[t]=i[t]})),e.width=e.width,delete e[vf],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),r={attach:Ef,detach:kf,resize:Pf}[e]||Rf;i[e]=r(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),i=n[e];if(!i)return;({attach:Af,detach:Af,resize:Af}[e]||_f)(t,e,i),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,i){return dd(t,e,n,i)}isAttached(t){const e=t&&sd(t);return!(!e||!e.isConnected)}}class Mf{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return Lu(this.x)&&Lu(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const i={};return t.forEach((t=>{i[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),i}}function Nf(t,e){const n=t.options.ticks,i=function(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?function(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return function(t,e,n,i){let r,s=0,o=n[0];for(i=Math.ceil(i),r=0;r<t.length;r++)r===o&&(e.push(t[r]),s++,o=n[s*i])}(e,c,s,o/r),c;const u=function(t,e,n){const i=function(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}(t),r=e.length/n;if(!i)return Math.max(r,1);const s=function(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}(i);for(let o=0,a=s.length-1;o<a;o++){const t=s[o];if(t>r)return t}return Math.max(r,1)}(s,e,r);if(o>0){let t,n;const i=o>1?Math.round((l-a)/(o-1)):null;for(Of(e,c,u,iu(i)?0:a-i,a),t=0,n=o-1;t<n;t++)Of(e,c,u,s[t],s[t+1]);return Of(e,c,u,l,iu(i)?e.length:l+i),c}return Of(e,c,u),c}function Of(t,e,n,i,r){const s=lu(i,0),o=Math.min(lu(r,t.length),t.length);let a,l,c,u=0;for(n=Math.ceil(n),r&&(a=r-i,n=a/Math.floor(a/n)),c=s;c<0;)u++,c=Math.round(s+u*n);for(l=Math.max(s,0);l<o;l++)l===c&&(e.push(t[l]),u++,c=Math.round(s+u*n))}const Lf=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n,Ff=(t,e)=>Math.min(e||t,t);function jf(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function Vf(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l,c=t.getPixelForTick(r);if(!(n&&(l=1===i?Math.max(c-s,o-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(r-1))/2,c+=r<e?l:-l,c<s-a||c>o+a)))return c}function Uf(t){return t.drawTicks?t.tickLength:0}function zf(t,e){if(!t.display)return 0;const n=Bh(t.font,e),i=zh(t.padding);return(ru(t.text)?t.text.length:1)*n.lineHeight+i.height}function Bf(t,e,n){let i=eh(t);return(n&&"right"!==e||!n&&"right"===e)&&(i=(t=>"left"===t?"right":"right"===t?"left":t)(i)),i}class $f extends Mf{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:i}=this;return t=au(t,Number.POSITIVE_INFINITY),e=au(e,Number.NEGATIVE_INFINITY),n=au(n,Number.POSITIVE_INFINITY),i=au(i,Number.NEGATIVE_INFINITY),{min:au(t,n),max:au(e,i),minDefined:ou(t),maxDefined:ou(e)}}getMinMax(t){let e,{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)e=o[a].controller.getMinMax(this,t),r||(n=Math.min(n,e.min)),s||(i=Math.max(i,e.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:au(n,au(i,n)),max:au(i,au(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){uu(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:i,grace:r,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,n){const{min:i,max:r}=t,s=cu(e,(r-i)/2),o=(t,e)=>n&&0===t?0:t+e;return{min:o(i,-Math.abs(s)),max:o(r,s)}}(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?jf(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=Nf(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){uu(this.options.afterUpdate,[this])}beforeSetDimensions(){uu(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){uu(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),uu(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){uu(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,i,r;for(n=0,i=t.length;n<i;n++)r=t[n],r.label=uu(e.callback,[r.value,n,t],this)}afterTickToLabelConversion(){uu(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){uu(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=Ff(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,r=e.maxRotation;let s,o,a,l=i;if(!this._isVisible()||!e.display||i>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=Wu(this.chart.width-u,0,this.maxWidth);s=t.offset?this.maxWidth/n:d/(n-1),u+6>s&&(s=d/(n-(t.offset?.5:1)),o=this.maxHeight-Uf(t.grid)-e.padding-zf(t.title,this.chart.options.font),a=Math.sqrt(u*u+h*h),l=Vu(Math.min(Math.asin(Wu((c.highest.height+6)/s,-1,1)),Math.asin(Wu(o/a,-1,1))-Math.asin(Wu(h/a,-1,1)))),l=Math.max(i,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){uu(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){uu(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:i,grid:r}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const s=zf(i,e.options.font);if(o?(t.width=this.maxWidth,t.height=Uf(r)+s):(t.height=this.maxHeight,t.width=Uf(r)+s),n.display&&this.ticks.length){const{first:e,last:i,widest:r,highest:s}=this._getLabelSizes(),a=2*n.padding,l=ju(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(o){const e=n.mirror?0:u*r.width+c*s.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=n.mirror?0:c*r.width+u*s.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,i,u,c)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,i){const{ticks:{align:r,padding:s},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;a?l?(u=i*t.width,h=n*e.height):(u=n*t.height,h=i*e.width):"start"===r?h=e.width:"end"===r?u=t.width:"inner"!==r&&(u=t.width/2,h=e.width/2),this.paddingLeft=Math.max((u-o+s)*this.width/(this.width-o),0),this.paddingRight=Math.max((h-c+s)*this.width/(this.width-c),0)}else{let n=e.height/2,i=t.height/2;"start"===r?(n=0,i=t.height):"end"===r&&(n=e.height,i=0),this.paddingTop=n+s,this.paddingBottom=i+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){uu(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)iu(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=jf(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:i,_longestTextCache:r}=this,s=[],o=[],a=Math.floor(e/Ff(e,n));let l,c,u,h,d,f,p,m,g,y,v,b=0,w=0;for(l=0;l<e;l+=a){if(h=t[l].label,d=this._resolveTickFontOptions(l),i.font=f=d.string,p=r[f]=r[f]||{data:{},gc:[]},m=d.lineHeight,g=y=0,iu(h)||ru(h)){if(ru(h))for(c=0,u=h.length;c<u;++c)v=h[c],iu(v)||ru(v)||(g=_h(i,p.data,p.gc,g,v),y+=m)}else g=_h(i,p.data,p.gc,g,h),y=m;s.push(g),o.push(y),b=Math.max(g,b),w=Math.max(y,w)}!function(t,e){hu(t,(t=>{const n=t.gc,i=n.length/2;let r;if(i>e){for(r=0;r<i;++r)delete t.data[n[r]];n.splice(0,i)}}))}(r,e);const x=s.indexOf(b),_=o.indexOf(w),S=t=>({width:s[t]||0,height:o[t]||0});return{first:S(0),last:S(e-1),widest:S(x),highest:S(_),widths:s,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Wu(this._alignToPixels?Sh(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function(t,e,n){return Hh(t,{tick:n,index:e,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=function(t,e){return Hh(t,{scale:e,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ju(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),r=this._getLabelSizes(),s=t.autoSkipPadding||0,o=r?r.widest.width+s:0,a=r?r.highest.height+s:0;return this.isHorizontal()?a*n>o*i?o/n:a/i:a*i<o*n?a/n:o/i}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,i=this.options,{grid:r,position:s,border:o}=i,a=r.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),u=Uf(r),h=[],d=o.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,m=function(t){return Sh(n,t,f)};let g,y,v,b,w,x,_,S,E,k,T,C;if("top"===s)g=m(this.bottom),x=this.bottom-u,S=g-p,k=m(t.top)+p,C=t.bottom;else if("bottom"===s)g=m(this.top),k=t.top,C=m(t.bottom)-p,x=g+p,S=this.top+u;else if("left"===s)g=m(this.right),w=this.right-u,_=g-p,E=m(t.left)+p,T=t.right;else if("right"===s)g=m(this.left),E=t.left,T=m(t.right)-p,w=g+p,_=this.left+u;else if("x"===e){if("center"===s)g=m((t.top+t.bottom)/2+.5);else if(su(s)){const t=Object.keys(s)[0],e=s[t];g=m(this.chart.scales[t].getPixelForValue(e))}k=t.top,C=t.bottom,x=g+p,S=x+u}else if("y"===e){if("center"===s)g=m((t.left+t.right)/2);else if(su(s)){const t=Object.keys(s)[0],e=s[t];g=m(this.chart.scales[t].getPixelForValue(e))}w=g-p,_=w-u,E=t.left,T=t.right}const I=lu(i.ticks.maxTicksLimit,c),P=Math.max(1,Math.ceil(c/I));for(y=0;y<c;y+=P){const t=this.getContext(y),e=r.setContext(t),i=o.setContext(t),s=e.lineWidth,c=e.color,u=i.dash||[],d=i.dashOffset,f=e.tickWidth,p=e.tickColor,m=e.tickBorderDash||[],g=e.tickBorderDashOffset;v=Vf(this,y,a),void 0!==v&&(b=Sh(n,v,s),l?w=_=E=T=b:x=S=k=C=b,h.push({tx1:w,ty1:x,tx2:_,ty2:S,x1:E,y1:k,x2:T,y2:C,width:s,color:c,borderDash:u,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,h}_computeLabelItems(t){const e=this.axis,n=this.options,{position:i,ticks:r}=n,s=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:l,padding:c,mirror:u}=r,h=Uf(n.grid),d=h+c,f=u?-c:d,p=-ju(this.labelRotation),m=[];let g,y,v,b,w,x,_,S,E,k,T,C,I="middle";if("top"===i)x=this.bottom-f,_=this._getXAxisLabelAlignment();else if("bottom"===i)x=this.top+f,_=this._getXAxisLabelAlignment();else if("left"===i){const t=this._getYAxisLabelAlignment(h);_=t.textAlign,w=t.x}else if("right"===i){const t=this._getYAxisLabelAlignment(h);_=t.textAlign,w=t.x}else if("x"===e){if("center"===i)x=(t.top+t.bottom)/2+d;else if(su(i)){const t=Object.keys(i)[0],e=i[t];x=this.chart.scales[t].getPixelForValue(e)+d}_=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===i)w=(t.left+t.right)/2-d;else if(su(i)){const t=Object.keys(i)[0],e=i[t];w=this.chart.scales[t].getPixelForValue(e)}_=this._getYAxisLabelAlignment(h).textAlign}"y"===e&&("start"===a?I="top":"end"===a&&(I="bottom"));const P=this._getLabelSizes();for(g=0,y=o.length;g<y;++g){v=o[g],b=v.label;const t=r.setContext(this.getContext(g));S=this.getPixelForTick(g)+r.labelOffset,E=this._resolveTickFontOptions(g),k=E.lineHeight,T=ru(b)?b.length:1;const e=T/2,n=t.color,a=t.textStrokeColor,c=t.textStrokeWidth;let h,d=_;if(s?(w=S,"inner"===_&&(d=g===y-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),C="top"===i?"near"===l||0!==p?-T*k+k/2:"center"===l?-P.highest.height/2-e*k+k:-P.highest.height+k/2:"near"===l||0!==p?k/2:"center"===l?P.highest.height/2-e*k:P.highest.height-T*k,u&&(C*=-1),0===p||t.showLabelBackdrop||(w+=k/2*Math.sin(p))):(x=S,C=(1-T)*k/2),t.showLabelBackdrop){const e=zh(t.backdropPadding),n=P.heights[g],i=P.widths[g];let r=C-e.top,s=0-e.left;switch(I){case"middle":r-=n/2;break;case"bottom":r-=n}switch(_){case"center":s-=i/2;break;case"right":s-=i;break;case"inner":g===y-1?s-=i:g>0&&(s-=i/2)}h={left:s,top:r,width:i+e.width,height:n+e.height,color:t.backdropColor}}m.push({label:b,font:E,textOffset:C,options:{rotation:p,color:n,strokeColor:a,strokeWidth:c,textAlign:d,textBaseline:I,translation:[w,x],backdrop:h}})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ju(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,s=t+r,o=this._getLabelSizes().widest.width;let a,l;return"left"===e?i?(l=this.right+r,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l+=o)):(l=this.right-s,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l=this.left)):"right"===e?i?(l=this.left+r,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l-=o)):(l=this.left+s,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:i,width:r,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,i,r,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex((e=>e.value===t));if(n>=0){return e.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,s;const o=(t,e,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(r=0,s=i.length;r<s;++r){const t=i[r];e.drawOnChartArea&&o({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&o({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),s=n.display?r.width:0;if(!s)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=Sh(t,this.left,s)-s/2,c=Sh(t,this.right,o)+o/2,u=h=a):(u=Sh(t,this.top,s)-s/2,h=Sh(t,this.bottom,o)+o/2,l=c=a),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(l,u),e.lineTo(c,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,n=this._computeLabelArea();n&&Ih(e,n);const i=this.getLabelItems(t);for(const r of i){const t=r.options,n=r.font;Dh(e,r.label,0,r.textOffset,n,t)}n&&Ph(e)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:i}}=this;if(!n.display)return;const r=Bh(n.font),s=zh(n.padding),o=n.align;let a=r.lineHeight/2;"bottom"===e||"center"===e||su(e)?(a+=s.bottom,ru(n.text)&&(a+=r.lineHeight*(n.text.length-1))):a+=s.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h,d,f,p=0;const m=o-r,g=a-s;if(t.isHorizontal()){if(d=nh(i,s,a),su(n)){const t=Object.keys(n)[0],i=n[t];f=u[t].getPixelForValue(i)+m-e}else f="center"===n?(c.bottom+c.top)/2+m-e:Lf(t,n,e);h=a-s}else{if(su(n)){const t=Object.keys(n)[0],i=n[t];d=u[t].getPixelForValue(i)-g+e}else d="center"===n?(c.left+c.right)/2-g+e:Lf(t,n,e);f=nh(i,o,r),p="left"===n?-Pu:Pu}return{titleX:d,titleY:f,maxWidth:h,rotation:p}}(this,a,e,o);Dh(t,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:h,textAlign:Bf(o,e,i),textBaseline:"middle",translation:[l,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=lu(t.grid&&t.grid.z,-1),i=lu(t.border&&t.border.z,0);return this._isVisible()&&this.draw===$f.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,s;for(r=0,s=e.length;r<s;++r){const s=e[r];s[n]!==this.id||t&&s.type!==t||i.push(s)}return i}_resolveTickFontOptions(t){return Bh(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Hf{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const i=this.items,r=t.id,s=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,function(t,e,n){const i=gu(Object.create(null),[n?xh.get(n):{},xh.get(e),t.defaults]);xh.set(e,i),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");xh.route(s,r,l,a)}))}(e,t.defaultRoutes);t.descriptors&&xh.describe(e,t.descriptors)}(t,s,n),this.override&&xh.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,i=this.scope;n in e&&delete e[n],i&&n in xh[i]&&(delete xh[i][n],this.override&&delete gh[n])}}class Wf{constructor(){this.controllers=new Hf(Ld,"datasets",!0),this.elements=new Hf(Mf,"elements"),this.plugins=new Hf(Object,"plugins"),this.scales=new Hf($f,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e)}remove(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e)}addControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.controllers)}addElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.elements)}addPlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.plugins)}addScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.controllers)}removeElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.elements)}removePlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.plugins)}removeScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.scales)}_each(t,e,n){[...e].forEach((e=>{const i=n||this._getRegistryForType(e);n||i.isForType(e)||i===this.plugins&&e.id?this._exec(t,i,e):hu(e,(e=>{const i=n||this._getRegistryForType(e);this._exec(t,i,e)}))}))}_exec(t,e,n){const i=xu(t);uu(n["before"+i],[],n),e[t](n),uu(n["after"+i],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const i=e.get(t);if(void 0===i)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var qf=new Wf;class Kf{constructor(){this._init=[]}notify(t,e,n,i){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=i?this._descriptors(t).filter(i):this._descriptors(t),s=this._notify(r,t,e,n);return"afterDestroy"===e&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,n,i){i=i||{};for(const r of t){const t=r.plugin;if(!1===uu(t[n],[e,i,r.options],t)&&i.cancelable)return!1}return!0}invalidate(){iu(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,i=lu(n.options&&n.options.plugins,{}),r=function(t){const e={},n=[],i=Object.keys(qf.plugins.items);for(let s=0;s<i.length;s++)n.push(qf.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const t=r[s];-1===n.indexOf(t)&&(n.push(t),e[t.id]=!0)}return{plugins:n,localIds:e}}(n);return!1!==i||e?function(t,e,n,i){let{plugins:r,localIds:s}=e;const o=[],a=t.getContext();for(const l of r){const e=l.id,r=Gf(n[e],i);null!==r&&o.push({plugin:l,options:Yf(t.config,{plugin:l,local:s[e]},r,a)})}return o}(t,r,i,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,i=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(i(e,n),t,"stop"),this._notify(i(n,e),t,"start")}}function Gf(t,e){return e||!1!==t?!0===t?{}:t:null}function Yf(t,e,n,i){let{plugin:r,local:s}=e;const o=t.pluginScopeKeys(r),a=t.getOptionScopes(n,o);return s&&r.defaults&&a.push(r.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Qf(t,e){const n=xh.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Xf(t){if("x"===t||"y"===t||"r"===t)return t}function Jf(t){if(Xf(t))return t;for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const s of n){const e=s.axis||("top"===(r=s.position)||"bottom"===r?"x":"left"===r||"right"===r?"y":void 0)||t.length>1&&Xf(t[0].toLowerCase());if(e)return e}var r;throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Zf(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function tp(t,e){const n=gh[t.type]||{scales:{}},i=e.scales||{},r=Qf(t.type,e),s=Object.create(null);return Object.keys(i).forEach((e=>{const o=i[e];if(!su(o))return console.error(`Invalid scale configuration for scale: ${e}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${e}`);const a=Jf(e,o,function(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(n.length)return Zf(t,"x",n[0])||Zf(t,"y",n[0])}return{}}(e,t),xh.scales[o.type]),l=function(t,e){return t===e?"_index_":"_value_"}(a,r),c=n.scales||{};s[e]=yu(Object.create(null),[{axis:a},o,c[a],c[l]])})),t.data.datasets.forEach((n=>{const r=n.type||t.type,o=n.indexAxis||Qf(r,e),a=(gh[r]||{}).scales||{};Object.keys(a).forEach((t=>{const e=function(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,o),r=n[e+"AxisID"]||e;s[r]=s[r]||Object.create(null),yu(s[r],[{axis:e},i[r],a[t]])}))})),Object.keys(s).forEach((t=>{const e=s[t];yu(e,[xh.scales[e.type],xh.scale])})),s}function ep(t){const e=t.options||(t.options={});e.plugins=lu(e.plugins,{}),e.scales=tp(t,e)}function np(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const ip=new Map,rp=new Set;function sp(t,e){let n=ip.get(t);return n||(n=e(),ip.set(t,n),rp.add(n)),n}const op=(t,e,n)=>{const i=wu(e,n);void 0!==i&&t.add(i)};class ap{constructor(t){this._config=function(t){return(t=t||{}).data=np(t.data),ep(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=np(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),ep(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return sp(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return sp(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return sp(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id;return sp(`${this.type}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let i=n.get(t);return i&&!e||(i=new Map,n.set(t,i)),i}getOptionScopes(t,e,n){const{options:i,type:r}=this,s=this._cachedScopes(t,n),o=s.get(e);if(o)return o;const a=new Set;e.forEach((e=>{t&&(a.add(t),e.forEach((e=>op(a,t,e)))),e.forEach((t=>op(a,i,t))),e.forEach((t=>op(a,gh[r]||{},t))),e.forEach((t=>op(a,xh,t))),e.forEach((t=>op(a,yh,t)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),rp.has(e)&&s.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,gh[e]||{},xh.datasets[e]||{},{type:e},xh,yh]}resolveNamedOptions(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const r={$shared:!0},{resolver:s,subPrefixes:o}=lp(this._resolverCache,t,i);let a=s;if(function(t,e){const{isScriptable:n,isIndexable:i}=Kh(t);for(const r of e){const e=n(r),s=i(r),o=(s||e)&&t[r];if(e&&(Su(o)||cp(o))||s&&ru(o))return!0}return!1}(s,e)){r.$shared=!1;a=qh(s,n=Su(n)?n():n,this.createResolver(t,n,o))}for(const l of e)r[l]=a[l];return r}createResolver(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],i=arguments.length>3?arguments[3]:void 0;const{resolver:r}=lp(this._resolverCache,t,n);return su(e)?qh(r,e,void 0,i):r}}function lp(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);if(!s){s={resolver:Wh(e,n),subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},i.set(r,s)}return s}const cp=t=>su(t)&&Object.getOwnPropertyNames(t).some((e=>Su(t[e])));const up=["top","bottom","left","right","chartArea"];function hp(t,e){return"top"===t||"bottom"===t||-1===up.indexOf(t)&&"x"===e}function dp(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function fp(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),uu(n&&n.onComplete,[t],e)}function pp(t){const e=t.chart,n=e.options.animation;uu(n&&n.onProgress,[t],e)}function mp(t){return rd()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const gp={},yp=t=>{const e=mp(t);return Object.values(gp).filter((t=>t.canvas===e)).pop()};function vp(t,e,n){const i=Object.keys(t);for(const r of i){const i=+r;if(i>=e){const s=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=s)}}}function bp(t,e,n){return t.options.clip?t[n]:e[n]}class wp{static defaults=(()=>xh)();static instances=(()=>gp)();static overrides=(()=>gh)();static registry=(()=>qf)();static version="4.4.8";static getChart=(()=>yp)();static register(){qf.add(...arguments),xp()}static unregister(){qf.remove(...arguments),xp()}constructor(t,e){const n=this.config=new ap(e),i=mp(t),r=yp(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(t){return!rd()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?yf:Df}(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,s.aspectRatio),a=o&&o.canvas,l=a&&a.height,c=a&&a.width;this.id=nu(),this.ctx=o,this.canvas=a,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Kf,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let n;return function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}((t=>this.update(t)),s.resizeDelay||0),this._dataChanges=[],gp[this.id]=this,o&&a?(wd.listen(this,"complete",fp),wd.listen(this,"progress",pp),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:i,_aspectRatio:r}=this;return iu(t)?e&&r?r:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return qf}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():fd(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Eh(this.canvas,this.ctx),this}stop(){return wd.stop(this),this}resize(t,e){wd.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,t,e,r),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,fd(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),uu(n.onResize,[this,s],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){hu(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,i=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let r=[];e&&(r=r.concat(Object.keys(e).map((t=>{const n=e[t],i=Jf(t,n),r="r"===i,s="x"===i;return{options:n,dposition:r?"chartArea":s?"bottom":"left",dtype:r?"radialLinear":s?"category":"linear"}})))),hu(r,(e=>{const r=e.options,s=r.id,o=Jf(s,r),a=lu(r.type,e.dtype);void 0!==r.position&&hp(r.position,o)===hp(e.dposition)||(r.position=e.dposition),i[s]=!0;let l=null;if(s in n&&n[s].type===a)l=n[s];else{l=new(qf.getScale(a))({id:s,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(r,t)})),hu(i,((t,e)=>{t||delete n[e]})),hu(n,(t=>{mf.configure(this,t,t.options),mf.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(dp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=e.length;n<i;n++){const i=e[n];let r=this.getDatasetMeta(n);const s=i.type||this.config.type;if(r.type&&r.type!==s&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=s,r.indexAxis=i.indexAxis||Qf(s,this.options),r.order=i.order||0,r.index=n,r.label=""+i.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const e=qf.getController(s),{datasetElementType:i,dataElementType:o}=xh.datasets[s];Object.assign(e,{dataElementType:qf.getElement(o),datasetElementType:i&&qf.getElement(i)}),r.controller=new e(this,n),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){hu(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:t}=this.getDatasetMeta(l),e=!i&&-1===r.indexOf(t);t.buildOrUpdateElements(e),s=Math.max(+t.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),i||hu(r,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(dp("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){hu(this.scales,(t=>{mf.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);Eu(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of e){vp(t,i,"_removeElements"===n?-r:r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),i=n(0);for(let r=1;r<e;r++)if(!Eu(i,n(r)))return;return Array.from(i).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;mf.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],hu(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,Su(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(wd.has(this)?this.attached&&!wd.running(this)&&wd.start(this):(this.draw(),fp({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(t,e)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let i,r;for(i=0,r=e.length;i<r;++i){const r=e[i];t&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,i=!n.disabled,r=function(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:bp(n,e,"left"),right:bp(n,e,"right"),top:bp(i,e,"top"),bottom:bp(i,e,"bottom")}:e}(t,this.chartArea),s={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(i&&Ih(e,{left:!1===n.left?0:r.left-n.left,right:!1===n.right?this.width:r.right+n.right,top:!1===n.top?0:r.top-n.top,bottom:!1===n.bottom?this.height:r.bottom+n.bottom}),t.controller.draw(),i&&Ph(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return Ch(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,i){const r=ef.modes[e];return"function"===typeof r?r(this,t,n,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let i=n.filter((t=>t&&t._dataset===e)).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Hh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const i=n?"show":"hide",r=this.getDatasetMeta(t),s=r.controller._resolveAnimations(void 0,i);_u(e)?(r.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),s.update(r,{visible:n}),this.update((e=>e.datasetIndex===t?i:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),wd.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Eh(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete gp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};hu(this.options.events,(t=>n(t,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(n,i)=>{t[n]&&(e.removeEventListener(this,n,i),delete t[n])},r=(t,e)=>{this.canvas&&this.resize(t,e)};let s;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",r),n("detach",s)};s=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",o)},e.isAttached(this.canvas)?o():s()}unbindEvents(){hu(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},hu(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const i=n?"set":"remove";let r,s,o,a;for("dataset"===e&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),o=0,a=t.length;o<a;++o){s=t[o];const e=s&&this.getDatasetMeta(s.datasetIndex).controller;e&&e[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((t=>{let{datasetIndex:e,index:n}=t;const i=this.getDatasetMeta(e);if(!i)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:i.data[n],index:n}}));!du(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,n){const i=this.options.hover,r=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),s=r(e,t),o=n?t:r(t,e);s.length&&this.updateHoverStyle(s,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const r=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:i=[],options:r}=this,s=e,o=this._getActiveElements(t,i,n,s),a=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),l=function(t,e,n,i){return n&&"mouseout"!==t.type?i?e:t:null}(t,this._lastEvent,n,a);n&&(this._lastEvent=null,uu(r.onHover,[t,o,this],this),a&&uu(r.onClick,[t,o,this],this));const c=!du(o,i);return(c||e)&&(this._active=o,this._updateHoverStyles(o,i,e)),this._lastEvent=l,c}_getActiveElements(t,e,n,i){if("mouseout"===t.type)return[];if(!n)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}}function xp(){return hu(wp.instances,(t=>t._plugins.invalidate()))}function _p(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-h,u=i+h):(h=s/2,a=n-h,l=n+h,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function Sp(t,e,n,i){return t?0:Wu(e,n,i)}function Ep(t){const e=_p(t),n=e.right-e.left,i=e.bottom-e.top,r=function(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=Vh(i);return{t:Sp(r.top,s.top,0,n),r:Sp(r.right,s.right,0,e),b:Sp(r.bottom,s.bottom,0,n),l:Sp(r.left,s.left,0,e)}}(t,n/2,i/2),s=function(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=Uh(r),o=Math.min(e,n),a=t.borderSkipped,l=i||su(r);return{topLeft:Sp(!l||a.top||a.left,s.topLeft,0,o),topRight:Sp(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Sp(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Sp(!l||a.bottom||a.right,s.bottomRight,0,o)}}(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function kp(t,e,n,i){const r=null===e,s=null===n,o=t&&!(r&&s)&&_p(t,i);return o&&(r||qu(e,o.left,o.right))&&(s||qu(n,o.top,o.bottom))}function Tp(t,e){t.rect(e.x,e.y,e.w,e.h)}function Cp(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}class Ip extends Mf{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:s}=Ep(this),o=(a=s.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?Mh:Tp;var a;t.save(),s.w===r.w&&s.h===r.h||(t.beginPath(),o(t,Cp(s,e,r)),t.clip(),o(t,Cp(r,-e,s)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),o(t,Cp(r,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,n){return kp(this,t,e,n)}inXRange(t,e){return kp(this,t,null,e)}inYRange(t,e){return kp(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+i)/2:e,y:r?n:(n+i)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}const Pp=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}};class Ap extends Mf{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=uu(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,i=Bh(n.font),r=i.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=Pp(n,r);let l,c;e.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,r,o,a)+10):(c=this.maxHeight,l=this._fitCols(s,i,o,a)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,i){const{ctx:r,maxWidth:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+o;let u=t;r.textAlign="left",r.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach(((t,f)=>{const p=n+e/2+r.measureText(t.text).width;(0===f||l[l.length-1]+p+2*o>s)&&(u+=c,l[l.length-(f>0?0:1)]=0,d+=c,h++),a[f]={left:0,top:d,row:h,width:p,height:i},l[l.length-1]+=p+o})),u}_fitCols(t,e,n,i){const{ctx:r,maxHeight:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-t;let u=o,h=0,d=0,f=0,p=0;return this.legendItems.forEach(((t,s)=>{const{itemWidth:m,itemHeight:g}=function(t,e,n,i,r){const s=function(t,e,n,i){let r=t.text;r&&"string"!==typeof r&&(r=r.reduce(((t,e)=>t.length>e.length?t:e)));return e+n.size/2+i.measureText(r).width}(i,t,e,n),o=function(t,e,n){let i=t;"string"!==typeof e.text&&(i=Rp(e,n));return i}(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}(n,e,r,t,i);s>0&&d+g+2*o>c&&(u+=h+o,l.push({width:h,height:d}),f+=h+o,p++,h=d=0),a[s]={left:f,top:d,col:p,width:m,height:g},h=Math.max(h,m),d+=g+o})),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:i},rtl:r}}=this,s=gd(r,this.left,this.width);if(this.isHorizontal()){let r=0,o=nh(n,this.left+i,this.right-this.lineWidths[r]);for(const a of e)r!==a.row&&(r=a.row,o=nh(n,this.left+i,this.right-this.lineWidths[r])),a.top+=this.top+t+i,a.left=s.leftForLtr(s.x(o),a.width),o+=a.width+i}else{let r=0,o=nh(n,this.top+t+i,this.bottom-this.columnSizes[r].height);for(const a of e)a.col!==r&&(r=a.col,o=nh(n,this.top+t+i,this.bottom-this.columnSizes[r].height)),a.top=o,a.left+=this.left+i,a.left=s.leftForLtr(s.x(a.left),a.width),o+=a.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;Ih(t,this),this._draw(),Ph(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:i}=this,{align:r,labels:s}=t,o=xh.color,a=gd(t.rtl,this.left,this.width),l=Bh(s.font),{padding:c}=s,u=l.size,h=u/2;let d;this.drawTitle(),i.textAlign=a.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:m}=Pp(s,u),g=this.isHorizontal(),y=this._computeTitleHeight();d=g?{x:nh(r,this.left+c,this.right-n[0]),y:this.top+c+y,line:0}:{x:this.left+c,y:nh(r,this.top+y+c,this.bottom-e[0].height),line:0},yd(this.ctx,t.textDirection);const v=m+c;this.legendItems.forEach(((b,w)=>{i.strokeStyle=b.fontColor,i.fillStyle=b.fontColor;const x=i.measureText(b.text).width,_=a.textAlign(b.textAlign||(b.textAlign=s.textAlign)),S=f+h+x;let E=d.x,k=d.y;a.setWidth(this.width),g?w>0&&E+S+c>this.right&&(k=d.y+=v,d.line++,E=d.x=nh(r,this.left+c,this.right-n[d.line])):w>0&&k+v>this.bottom&&(E=d.x=E+e[d.line].width+c,d.line++,k=d.y=nh(r,this.top+y+c,this.bottom-e[d.line].height));if(function(t,e,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;i.save();const r=lu(n.lineWidth,1);if(i.fillStyle=lu(n.fillStyle,o),i.lineCap=lu(n.lineCap,"butt"),i.lineDashOffset=lu(n.lineDashOffset,0),i.lineJoin=lu(n.lineJoin,"miter"),i.lineWidth=r,i.strokeStyle=lu(n.strokeStyle,o),i.setLineDash(lu(n.lineDash,[])),s.usePointStyle){const o={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},l=a.xPlus(t,f/2);Th(i,o,l,e+h,s.pointStyleWidth&&f)}else{const s=e+Math.max((u-p)/2,0),o=a.leftForLtr(t,f),l=Uh(n.borderRadius);i.beginPath(),Object.values(l).some((t=>0!==t))?Mh(i,{x:o,y:s,w:f,h:p,radius:l}):i.rect(o,s,f,p),i.fill(),0!==r&&i.stroke()}i.restore()}(a.x(E),k,b),E=((t,e,n,i)=>t===(i?"left":"right")?n:"center"===t?(e+n)/2:e)(_,E+f+h,g?E+S:this.right,t.rtl),function(t,e,n){Dh(i,n.text,t,e+m/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(E),k,b),g)d.x+=S+c;else if("string"!==typeof b.text){const t=l.lineHeight;d.y+=Rp(b,t)+c}else d.y+=v})),vd(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=Bh(e.font),i=zh(e.padding);if(!e.display)return;const r=gd(t.rtl,this.left,this.width),s=this.ctx,o=e.position,a=n.size/2,l=i.top+a;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=nh(t.align,u,this.right-h);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);c=l+nh(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const d=nh(o,u,u+h);s.textAlign=r.textAlign(eh(o)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=n.string,Dh(s,e.text,d,c,n)}_computeTitleHeight(){const t=this.options.title,e=Bh(t.font),n=zh(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,i,r;if(qu(t,this.left,this.right)&&qu(e,this.top,this.bottom))for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],qu(t,i.left,i.left+i.width)&&qu(e,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const i=this._hoveredItem,r=((t,e)=>null!==t&&null!==e&&t.datasetIndex===e.datasetIndex&&t.index===e.index)(i,n);i&&!r&&uu(e.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!r&&uu(e.onHover,[t,n,this],this)}else n&&uu(e.onClick,[t,n,this],this)}}function Rp(t,e){return e*(t.text?t.text.length:0)}var Dp={id:"legend",_element:Ap,start(t,e,n){const i=t.legend=new Ap({ctx:t.ctx,options:n,chart:t});mf.configure(t,i,n),mf.addBox(t,i)},stop(t){mf.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;mf.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const l=t.controller.getStyle(n?0:void 0),c=zh(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Mp extends Mf{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const i=ru(n.text)?n.text.length:1;this._padding=zh(n.padding);const r=i*Bh(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:i,right:r,options:s}=this,o=s.align;let a,l,c,u=0;return this.isHorizontal()?(l=nh(o,n,r),c=e+t,a=r-n):("left"===s.position?(l=n+t,c=nh(o,i,e),u=-.5*ku):(l=r-t,c=nh(o,e,i),u=.5*ku),a=i-e),{titleX:l,titleY:c,maxWidth:a,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=Bh(e.font),i=n.lineHeight/2+this._padding.top,{titleX:r,titleY:s,maxWidth:o,rotation:a}=this._drawArgs(i);Dh(t,e.text,0,0,n,{color:e.color,maxWidth:o,rotation:a,textAlign:eh(e.align),textBaseline:"middle",translation:[r,s]})}}var Np={id:"title",_element:Mp,start(t,e,n){!function(t,e){const n=new Mp({ctx:t.ctx,options:e,chart:t});mf.configure(t,n,e),mf.addBox(t,n),t.titleBlock=n}(t,n)},stop(t){const e=t.titleBlock;mf.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;mf.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const Op={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();i.add(t.x),r+=t.y,++s}}if(0===s||0===i.size)return!1;const o=[...i].reduce(((t,e)=>t+e))/i.size;return{x:o,y:r/s}},nearest(t,e){if(!t.length)return!1;let n,i,r,s=e.x,o=e.y,a=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){const i=t[n].element;if(i&&i.hasValue()){const t=Bu(e,i.getCenterPoint());t<a&&(a=t,r=i)}}if(r){const t=r.tooltipPosition();s=t.x,o=t.y}return{x:s,y:o}}};function Lp(t,e){return e&&(ru(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Fp(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function jp(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function Vp(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Bh(e.bodyFont),c=Bh(e.titleFont),u=Bh(e.footerFont),h=s.length,d=r.length,f=i.length,p=zh(e.padding);let m=p.height,g=0,y=i.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(m+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){m+=f*(e.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}d&&(m+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let v=0;const b=function(t){g=Math.max(g,n.measureText(t).width+v)};return n.save(),n.font=c.string,hu(t.title,b),n.font=l.string,hu(t.beforeBody.concat(t.afterBody),b),v=e.displayColors?o+2+e.boxPadding:0,hu(i,(t=>{hu(t.before,b),hu(t.lines,b),hu(t.after,b)})),v=0,n.font=u.string,hu(t.footer,b),n.restore(),g+=p.width,{width:g,height:m}}function Up(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return"center"===i?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),function(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;return"left"===t&&r+s+o>e.width||"right"===t&&r-s-o<0||void 0}(c,t,e,n)&&(c="center"),c}function zp(t,e,n){const i=n.yAlign||e.yAlign||function(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||Up(t,e,n,i),yAlign:i}}function Bp(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Uh(o);let p=function(t,e){let{x:n,width:i}=t;return"right"===e?n-=i:"center"===e&&(n-=i/2),n}(e,a);const m=function(t,e,n){let{y:i,height:r}=t;return"top"===e?i+=n:i-="bottom"===e?r+n:r/2,i}(e,l,c);return"center"===l?"left"===a?p+=c:"right"===a&&(p-=c):"left"===a?p-=Math.max(u,d)+r:"right"===a&&(p+=Math.max(h,f)+r),{x:Wu(p,0,i.width-e.width),y:Wu(m,0,i.height-e.height)}}function $p(t,e,n){const i=zh(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-i.right:t.x+i.left}function Hp(t){return Lp([],Fp(t))}function Wp(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const qp={beforeTitle:eu,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:eu,beforeBody:eu,beforeLabel:eu,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return iu(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:eu,afterBody:eu,beforeFooter:eu,footer:eu,afterFooter:eu};function Kp(t,e,n,i){const r=t[e].call(n,i);return"undefined"===typeof r?qp[e].call(n,i):r}class Gp extends Mf{static positioners=(()=>Op)();constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&e.options.animation&&n.animations,r=new Ed(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,n=this._tooltipItems,Hh(t,{tooltip:e,tooltipItems:n,type:"tooltip"})));var t,e,n}getTitle(t,e){const{callbacks:n}=e,i=Kp(n,"beforeTitle",this,t),r=Kp(n,"title",this,t),s=Kp(n,"afterTitle",this,t);let o=[];return o=Lp(o,Fp(i)),o=Lp(o,Fp(r)),o=Lp(o,Fp(s)),o}getBeforeBody(t,e){return Hp(Kp(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,i=[];return hu(t,(t=>{const e={before:[],lines:[],after:[]},r=Wp(n,t);Lp(e.before,Fp(Kp(r,"beforeLabel",this,t))),Lp(e.lines,Kp(r,"label",this,t)),Lp(e.after,Fp(Kp(r,"afterLabel",this,t))),i.push(e)})),i}getAfterBody(t,e){return Hp(Kp(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,i=Kp(n,"beforeFooter",this,t),r=Kp(n,"footer",this,t),s=Kp(n,"afterFooter",this,t);let o=[];return o=Lp(o,Fp(i)),o=Lp(o,Fp(r)),o=Lp(o,Fp(s)),o}_createItems(t){const e=this._active,n=this.chart.data,i=[],r=[],s=[];let o,a,l=[];for(o=0,a=e.length;o<a;++o)l.push(jp(this.chart,e[o]));return t.filter&&(l=l.filter(((e,i,r)=>t.filter(e,i,r,n)))),t.itemSort&&(l=l.sort(((e,i)=>t.itemSort(e,i,n)))),hu(l,(e=>{const n=Wp(t.callbacks,e);i.push(Kp(n,"labelColor",this,e)),r.push(Kp(n,"labelPointStyle",this,e)),s.push(Kp(n,"labelTextColor",this,e))})),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=s,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),i=this._active;let r,s=[];if(i.length){const t=Op[n.position].call(this,i,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const e=this._size=Vp(this,n),o=Object.assign({},t,e),a=zp(this.chart,n,o),l=Bp(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,r={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=s,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,i){const r=this.getCaretPosition(t,n,i);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,n){const{xAlign:i,yAlign:r}=this,{caretSize:s,cornerRadius:o}=n,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:u}=Uh(o),{x:h,y:d}=t,{width:f,height:p}=e;let m,g,y,v,b,w;return"center"===r?(b=d+p/2,"left"===i?(m=h,g=m-s,v=b+s,w=b-s):(m=h+f,g=m+s,v=b-s,w=b+s),y=m):(g="left"===i?h+Math.max(a,c)+s:"right"===i?h+f-Math.max(l,u)-s:this.caretX,"top"===r?(v=d,b=v-s,m=g-s,y=g+s):(v=d+p,b=v+s,m=g+s,y=g-s),w=v),{x1:m,x2:g,x3:y,y1:v,y2:b,y3:w}}drawTitle(t,e,n){const i=this.title,r=i.length;let s,o,a;if(r){const l=gd(n.rtl,this.x,this.width);for(t.x=$p(this,n.titleAlign,n),e.textAlign=l.textAlign(n.titleAlign),e.textBaseline="middle",s=Bh(n.titleFont),o=n.titleSpacing,e.fillStyle=n.titleColor,e.font=s.string,a=0;a<r;++a)e.fillText(i[a],l.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+o,a+1===r&&(t.y+=n.titleMarginBottom-o)}}_drawColorBox(t,e,n,i,r){const s=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=r,c=Bh(r.bodyFont),u=$p(this,"left",r),h=i.x(u),d=a<c.lineHeight?(c.lineHeight-a)/2:0,f=e.y+d;if(r.usePointStyle){const e={radius:Math.min(l,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=i.leftForLtr(h,l)+l/2,c=f+a/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,kh(t,e,n,c),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,kh(t,e,n,c)}else{t.lineWidth=su(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;const e=i.leftForLtr(h,l),n=i.leftForLtr(i.xPlus(h,1),l-2),o=Uh(s.borderRadius);Object.values(o).some((t=>0!==t))?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Mh(t,{x:e,y:f,w:l,h:a,radius:o}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),Mh(t,{x:n,y:f+1,w:l-2,h:a-2,radius:o}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(e,f,l,a),t.strokeRect(e,f,l,a),t.fillStyle=s.backgroundColor,t.fillRect(n,f+1,l-2,a-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:i}=this,{bodySpacing:r,bodyAlign:s,displayColors:o,boxHeight:a,boxWidth:l,boxPadding:c}=n,u=Bh(n.bodyFont);let h=u.lineHeight,d=0;const f=gd(n.rtl,this.x,this.width),p=function(n){e.fillText(n,f.x(t.x+d),t.y+h/2),t.y+=h+r},m=f.textAlign(s);let g,y,v,b,w,x,_;for(e.textAlign=s,e.textBaseline="middle",e.font=u.string,t.x=$p(this,m,n),e.fillStyle=n.bodyColor,hu(this.beforeBody,p),d=o&&"right"!==m?"center"===s?l/2+c:l+2+c:0,b=0,x=i.length;b<x;++b){for(g=i[b],y=this.labelTextColors[b],e.fillStyle=y,hu(g.before,p),v=g.lines,o&&v.length&&(this._drawColorBox(e,t,b,f,n),h=Math.max(u.lineHeight,a)),w=0,_=v.length;w<_;++w)p(v[w]),h=u.lineHeight;hu(g.after,p)}d=0,h=u.lineHeight,hu(this.afterBody,p),t.y-=r}drawFooter(t,e,n){const i=this.footer,r=i.length;let s,o;if(r){const a=gd(n.rtl,this.x,this.width);for(t.x=$p(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=a.textAlign(n.footerAlign),e.textBaseline="middle",s=Bh(n.footerFont),e.fillStyle=n.footerColor,e.font=s.string,o=0;o<r;++o)e.fillText(i[o],a.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+n.footerSpacing}}drawBackground(t,e,n,i){const{xAlign:r,yAlign:s}=this,{x:o,y:a}=t,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Uh(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(o+u,a),"top"===s&&this.drawCaret(t,e,n,i),e.lineTo(o+l-h,a),e.quadraticCurveTo(o+l,a,o+l,a+h),"center"===s&&"right"===r&&this.drawCaret(t,e,n,i),e.lineTo(o+l,a+c-f),e.quadraticCurveTo(o+l,a+c,o+l-f,a+c),"bottom"===s&&this.drawCaret(t,e,n,i),e.lineTo(o+d,a+c),e.quadraticCurveTo(o,a+c,o,a+c-d),"center"===s&&"left"===r&&this.drawCaret(t,e,n,i),e.lineTo(o,a+u),e.quadraticCurveTo(o,a,o+u,a),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const n=Op[t.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=Vp(this,t),o=Object.assign({},n,this._size),a=zp(e,t,o),l=Bp(t,o,a,e);i._to===l.x&&r._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=zh(e.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&o&&(t.save(),t.globalAlpha=n,this.drawBackground(r,t,i,e),yd(t,e.textDirection),r.y+=s.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),vd(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,i=t.map((t=>{let{datasetIndex:e,index:n}=t;const i=this.chart.getDatasetMeta(e);if(!i)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:i.data[n],index:n}})),r=!du(n,i),s=this._positionChanged(i,e);(r||s)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],s=this._getActiveElements(t,r,e,n),o=this._positionChanged(s,t),a=e||!du(s,r)||o;return a&&(this._active=s,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,n,i){const r=this.options;if("mouseout"===t.type)return[];if(!i)return e.filter((t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index)));const s=this.chart.getElementsAtEventForMode(t,r.mode,r,n);return r.reverse&&s.reverse(),s}_positionChanged(t,e){const{caretX:n,caretY:i,options:r}=this,s=Op[r.position].call(this,t,e);return!1!==s&&(n!==s.x||i!==s.y)}}var Yp={id:"tooltip",_element:Gp,positioners:Op,afterInit(t,e,n){n&&(t.tooltip=new Gp({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:qp},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function Qp(t,e,n,i){const r=t.indexOf(e);if(-1===r)return((t,e,n,i)=>("string"===typeof e?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n))(t,e,n,i);return r!==t.lastIndexOf(e)?n:r}function Xp(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Jp extends $f{static id="category";static defaults=(()=>({ticks:{callback:Xp}}))();constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:i}of e)t[n]===i&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(iu(t))return null;const n=this.getLabels();return((t,e)=>null===t?null:Wu(Math.round(t),0,e))(e=isFinite(e)&&n[e]===t?e:Qp(n,t,lu(e,t),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=0===t&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=t;s<=e;s++)i.push({value:s});return i}getLabelForValue(t){return Xp.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Zp(t,e){const n=[],{bounds:i,step:r,min:s,max:o,precision:a,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=t,d=r||1,f=c-1,{min:p,max:m}=e,g=!iu(s),y=!iu(o),v=!iu(l),b=(m-p)/(u+1);let w,x,_,S,E=Ou((m-p)/f/d)*d;if(E<1e-14&&!g&&!y)return[{value:p},{value:m}];S=Math.ceil(m/E)-Math.floor(p/E),S>f&&(E=Ou(S*E/f/d)*d),iu(a)||(w=Math.pow(10,a),E=Math.ceil(E*w)/w),"ticks"===i?(x=Math.floor(p/E)*E,_=Math.ceil(m/E)*E):(x=p,_=m),g&&y&&r&&function(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((o-s)/r,E/1e3)?(S=Math.round(Math.min((o-s)/E,c)),E=(o-s)/S,x=s,_=o):v?(x=g?s:x,_=y?o:_,S=l-1,E=(_-x)/S):(S=(_-x)/E,S=Nu(S,Math.round(S),E/1e3)?Math.round(S):Math.ceil(S));const k=Math.max(Uu(E),Uu(x));w=Math.pow(10,iu(a)?k:a),x=Math.round(x*w)/w,_=Math.round(_*w)/w;let T=0;for(g&&(h&&x!==s?(n.push({value:s}),x<s&&T++,Nu(Math.round((x+T*E)*w)/w,s,tm(s,b,t))&&T++):x<s&&T++);T<S;++T){const t=Math.round((x+T*E)*w)/w;if(y&&t>o)break;n.push({value:t})}return y&&h&&_!==o?n.length&&Nu(n[n.length-1].value,o,tm(o,b,t))?n[n.length-1].value=o:n.push({value:o}):y&&_!==o||n.push({value:_}),n}function tm(t,e,n){let{horizontal:i,minRotation:r}=n;const s=ju(r),o=(i?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/o,a)}class em extends $f{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return iu(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const s=t=>i=e?i:t,o=t=>r=n?r:t;if(t){const t=Mu(i),e=Mu(r);t<0&&e<0?o(0):t>0&&e>0&&s(0)}if(i===r){let e=0===r?1:Math.abs(.05*r);o(r+e),t||s(i-e)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:i}=t;return i?(e=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=Zp({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&Fu(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-e)/Math.max(t.length-1,1)/2;e-=i,n+=i}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return fh(t,this.chart.options.locale,this.options.ticks.format)}}class nm extends em{static id="linear";static defaults=(()=>({ticks:{callback:mh.formatters.numeric}}))();determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ou(t)?t:0,this.max=ou(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=ju(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}mh.formatters.logarithmic;mh.formatters.numeric;const im={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},rm=Object.keys(im);function sm(t,e){return t-e}function om(t,e){if(iu(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return"function"===typeof i&&(o=i(o)),ou(o)||(o="string"===typeof i?n.parse(o,i):n.parse(o)),null===o?null:(r&&(o="week"!==r||!Lu(s)&&!0!==s?n.startOf(o,r):n.startOf(o,"isoWeek",s)),+o)}function am(t,e,n,i){const r=rm.length;for(let s=rm.indexOf(t);s<r-1;++s){const t=im[rm[s]],r=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(r*t.size))<=i)return rm[s]}return rm[r-1]}function lm(t,e,n){if(n){if(n.length){const{lo:i,hi:r}=Ku(n,e);t[n[i]>=e?n[i]:n[r]]=!0}}else t[e]=!0}function cm(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return 0!==s&&n?function(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}(t,i,r,n):i}class um extends $f{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.time||(t.time={}),i=this._adapter=new Gd(t.adapters.date);i.init(e),yu(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:om(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:i,max:r,minDefined:s,maxDefined:o}=this.getUserBounds();function a(t){s||isNaN(t.min)||(i=Math.min(i,t.min)),o||isNaN(t.max)||(r=Math.max(r,t.max))}s&&o||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),i=ou(i)&&!isNaN(i)?i:+e.startOf(Date.now(),n),r=ou(r)&&!isNaN(r)?r:+e.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,s=function(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}(i,r,this.max);return this._unit=e.unit||(n.autoSkip?am(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(t,e,n,i,r){for(let s=rm.length-1;s>=rm.indexOf(n);s--){const n=rm[s];if(im[n].common&&t._adapter.diff(r,i,n)>=e-1)return n}return rm[n?rm.indexOf(n):0]}(this,s.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(t){for(let e=rm.indexOf(t)+1,n=rm.length;e<n;++e)if(im[rm[e]].common)return rm[e]}(this._unit):void 0,this.initOffsets(i),t.reverse&&s.reverse(),cm(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(){let t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=0,r=0;this.options.offset&&n.length&&(t=this.getDecimalForValue(n[0]),i=1===n.length?1-t:(this.getDecimalForValue(n[1])-t)/2,e=this.getDecimalForValue(n[n.length-1]),r=1===n.length?e:(e-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;i=Wu(i,0,s),r=Wu(r,0,s),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const t=this._adapter,e=this.min,n=this.max,i=this.options,r=i.time,s=r.unit||am(r.minUnit,e,n,this._getLabelCapacity(e)),o=lu(i.ticks.stepSize,1),a="week"===s&&r.isoWeekday,l=Lu(a)||!0===a,c={};let u,h,d=e;if(l&&(d=+t.startOf(d,"isoWeek",a)),d=+t.startOf(d,l?"day":s),t.diff(n,e,s)>1e5*o)throw new Error(e+" and "+n+" are too far apart with stepSize of "+o+" "+s);const f="data"===i.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+t.add(u,o,s),h++)lm(c,u,f);return u!==n&&"ticks"!==i.bounds&&1!==h||lm(c,u,f),Object.keys(c).sort(sm).map((t=>+t))}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const n=this.options.time.displayFormats,i=this._unit,r=e||n[i];return this._adapter.format(t,r)}_tickFormatFunction(t,e,n,i){const r=this.options,s=r.ticks.callback;if(s)return uu(s,[t,e,n],this);const o=r.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],u=l&&o[l],h=n[e],d=l&&u&&h&&h.major;return this._adapter.format(t,i||(d?u:c))}generateTickLabels(t){let e,n,i;for(e=0,n=t.length;e<n;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,i=ju(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(i),s=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*r+o*s,h:n*s+o*r}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,i=n[e.unit]||n.millisecond,r=this._tickFormatFunction(t,0,cm(this,[t],this._majorUnit),i),s=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,e=i.length;t<e;++t)n=n.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const i=this.getLabels();for(e=0,n=i.length;e<n;++e)t.push(om(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Ju(t.sort(sm))}}const hm="label";function dm(t,e){"function"===typeof t?t(e):t&&(t.current=e)}function fm(t,e){t.labels=e}function pm(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hm;const i=[];t.datasets=e.map((e=>{const r=t.datasets.find((t=>t[n]===e[n]));return r&&e.data&&!i.includes(r)?(i.push(r),Object.assign(r,e),r):{...e}}))}function mm(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hm;const n={labels:[],datasets:[]};return fm(n,t.labels),pm(n,t.datasets,e),n}function gm(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:o,type:a,data:l,options:c,plugins:u=[],fallbackContent:h,updateMode:d,...f}=t,p=(0,i.useRef)(null),m=(0,i.useRef)(null),g=()=>{p.current&&(m.current=new wp(p.current,{type:a,data:mm(l,o),options:c&&{...c},plugins:u}),dm(e,m.current))},y=()=>{dm(e,null),m.current&&(m.current.destroy(),m.current=null)};return(0,i.useEffect)((()=>{!s&&m.current&&c&&function(t,e){const n=t.options;n&&e&&Object.assign(n,e)}(m.current,c)}),[s,c]),(0,i.useEffect)((()=>{!s&&m.current&&fm(m.current.config.data,l.labels)}),[s,l.labels]),(0,i.useEffect)((()=>{!s&&m.current&&l.datasets&&pm(m.current.config.data,l.datasets,o)}),[s,l.datasets]),(0,i.useEffect)((()=>{m.current&&(s?(y(),setTimeout(g)):m.current.update(d))}),[s,c,l.labels,l.datasets,d]),(0,i.useEffect)((()=>{m.current&&(y(),setTimeout(g))}),[a]),(0,i.useEffect)((()=>(g(),()=>y())),[]),i.createElement("canvas",{ref:p,role:"img",height:n,width:r,...f},h)}const ym=(0,i.forwardRef)(gm);function vm(t,e){return wp.register(e),(0,i.forwardRef)(((e,n)=>i.createElement(ym,{...e,ref:n,type:t})))}const bm=vm("bar",Wd);wp.register(Jp,nm,Ip,Np,Yp,Dp);const wm=["S","R","Ch","Z","Th","Minimal","Sentence"],xm={Lucas:{age:23,notes:"idk",scores:Object.fromEntries(wm.map((t=>[t,0]))),errors:Object.fromEntries(wm.map((t=>[t,0])))}};function _m(){var t,e;const[n,r]=(0,i.useState)(xm),[s,o]=(0,i.useState)(Object.keys(xm)[0]),[a,l]=(0,i.useState)(wm),[c,u]=(0,i.useState)(""),[h,d]=(0,i.useState)(""),[f,p]=(0,i.useState)(""),[m,g]=(0,i.useState)(""),y=a.map((t=>{var e;return(null===(e=n[s])||void 0===e?void 0:e.scores[t])||0})),v=a.map((t=>{var e;return(null===(e=n[s])||void 0===e?void 0:e.errors[t])||0})),b=y.reduce(((t,e)=>t+10*e),0),w=Math.min(b/1e3*100,100).toFixed(1),x={labels:a,datasets:[{label:"Correct",data:y,backgroundColor:"#3B82F6"},{label:"Errors",data:v,backgroundColor:"#F87171"}]};return(0,pe.jsxs)("div",{style:{padding:"2rem",fontFamily:"Arial, sans-serif"},children:[(0,pe.jsx)("h2",{style:{color:"#2563EB"},children:"\ud83d\udcc8 Progress Tracking"}),(0,pe.jsx)("p",{style:{marginBottom:"1rem"},children:"Visualize your pronunciation accuracy and score growth."}),(0,pe.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[(0,pe.jsx)("label",{children:"Select Patient:"}),(0,pe.jsx)("select",{value:s,onChange:t=>o(t.target.value),style:{padding:"0.5rem",borderRadius:"8px",border:"1px solid #D1D5DB"},children:Object.keys(n).map((t=>(0,pe.jsx)("option",{children:t},t)))}),(0,pe.jsx)("button",{onClick:()=>{if(window.confirm(`Delete "${s}"?`)){const t={...n};delete t[s],r(t);const e=Object.keys(t);o(e[0]||"")}},style:{background:"#DC2626",color:"white",border:"none",padding:"0.6rem 1rem",borderRadius:"8px",cursor:"pointer"},children:"\ud83d\uddd1\ufe0f Delete"})]}),(0,pe.jsxs)("div",{style:{background:"#F3F4F6",padding:"1rem",borderRadius:"10px",border:"1px solid #E5E7EB",marginBottom:"2rem"},children:[(0,pe.jsxs)("p",{children:[(0,pe.jsx)("strong",{children:"Age:"})," ",null===(t=n[s])||void 0===t?void 0:t.age]}),(0,pe.jsxs)("p",{children:[(0,pe.jsx)("strong",{children:"Notes:"})," ",null===(e=n[s])||void 0===e?void 0:e.notes]})]}),(0,pe.jsxs)("div",{style:{background:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",padding:"1.5rem",marginBottom:"2rem",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[(0,pe.jsx)("h4",{style:{color:"#1E3A8A",borderBottom:"2px solid #DBEAFE",paddingBottom:"0.5rem",marginBottom:"1rem"},children:"\ud83d\udcdd Rate Each Exercise (0\u201310)"}),(0,pe.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:"1rem"},children:a.map((t=>{var e;return(0,pe.jsxs)("div",{children:[(0,pe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,pe.jsx)("span",{children:(0,pe.jsx)("strong",{children:t})}),(0,pe.jsx)("button",{onClick:()=>(t=>{if(!window.confirm(`Delete "${t}" from all patients?`))return;l((e=>e.filter((e=>e!==t))));const e={...n};Object.keys(e).forEach((n=>{delete e[n].scores[t],delete e[n].errors[t]})),r(e)})(t),style:{color:"#9CA3AF",border:"none",background:"transparent"},children:"\ud83d\uddd1\ufe0f"})]}),(0,pe.jsx)("input",{type:"number",min:"0",max:"10",value:null===(e=n[s])||void 0===e?void 0:e.scores[t],onChange:e=>((t,e)=>{const i={...n};i[s].scores[t]=parseInt(e)||0,r(i)})(t,e.target.value),style:{width:"100%",padding:"0.5rem",borderRadius:"8px",border:"1px solid #D1D5DB",textAlign:"center"}})]},t)}))}),(0,pe.jsxs)("div",{style:{marginTop:"1.5rem"},children:[(0,pe.jsx)("input",{placeholder:"New Exercise Name",value:m,onChange:t=>g(t.target.value),style:{padding:"0.5rem",borderRadius:"8px",border:"1px solid #D1D5DB",marginRight:"1rem"}}),(0,pe.jsx)("button",{onClick:()=>{const t=m.trim();if(!t||a.includes(t))return;l((e=>[...e,t]));const e={...n};Object.keys(e).forEach((n=>{e[n].scores[t]=0,e[n].errors[t]=0})),r(e),g("")},style:{background:"#2563EB",color:"white",border:"none",padding:"0.6rem 1rem",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},children:"Add Exercise"})]})]}),(0,pe.jsx)("h4",{style:{marginBottom:"0.5rem"},children:"\u2795 Add New Patient"}),(0,pe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 3fr auto",gap:"1rem",marginBottom:"2rem"},children:[(0,pe.jsx)("input",{placeholder:"Name",value:c,onChange:t=>u(t.target.value)}),(0,pe.jsx)("input",{placeholder:"Age",type:"number",value:h,onChange:t=>d(t.target.value)}),(0,pe.jsx)("input",{placeholder:"Notes",value:f,onChange:t=>p(t.target.value)}),(0,pe.jsx)("button",{onClick:()=>{if(!c.trim())return;const t={age:h,notes:f,scores:Object.fromEntries(a.map((t=>[t,0]))),errors:Object.fromEntries(a.map((t=>[t,0])))};r((e=>({...e,[c.trim()]:t}))),o(c.trim()),u(""),d(""),p("")},style:{background:"#2563EB",color:"white",border:"none",padding:"0.6rem 1rem",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},children:"Add"})]}),(0,pe.jsx)("div",{style:{background:"#E5E7EB",borderRadius:"1rem",overflow:"hidden",marginBottom:"1rem",height:"20px",width:"100%"},children:(0,pe.jsx)("div",{style:{width:`${w}%`,background:"linear-gradient(to right, #FACC15, #2563EB)",height:"100%"}})}),(0,pe.jsxs)("p",{children:[b," / ",1e3," Points"]}),(0,pe.jsx)("div",{style:{background:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",padding:"1rem",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:(0,pe.jsx)(bm,{data:x,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Speech Exercise Accuracy",font:{size:20}}}}})}),(0,pe.jsx)("p",{style:{marginTop:"2rem",textAlign:"center"},children:"Keep practicing to level up your Speech AI mastery! \ud83d\udde3\ufe0f"})]})}const Sm=t=>{let{title:e,desc:n}=t;return(0,pe.jsxs)(cc.div,{className:"bg-gradient-to-br from-yellow-100 to-blue-100 p-6 rounded-2xl shadow-md hover:shadow-xl transition transform hover:scale-105",whileHover:{scale:1.03},children:[(0,pe.jsx)("h3",{className:"text-xl font-semibold text-blue-800",children:e}),(0,pe.jsx)("p",{className:"text-gray-800 mt-1",children:n})]})},Em=()=>(0,pe.jsxs)(cc.div,{className:"text-center space-y-10 p-6 bg-gradient-to-br from-blue-50 via-yellow-50 to-white min-h-screen",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,pe.jsxs)("div",{className:"pt-10",children:[(0,pe.jsx)("h1",{className:"text-4xl font-bold text-blue-600",children:"About This App"}),(0,pe.jsx)("p",{className:"text-gray-700 max-w-xl mx-auto text-lg mt-2",children:"This app assists with speech pathology practice using AI tools like Whisper, GPT, and real-time voice recognition."})]}),(0,pe.jsxs)("div",{className:"max-w-4xl mx-auto grid gap-6 sm:grid-cols-2 pt-4",children:[(0,pe.jsx)(Sm,{title:"\ud83e\udde0 Powered by AI",desc:"We use Whisper and GPT to guide your speech practice intelligently."}),(0,pe.jsx)(Sm,{title:"\ud83d\udcac Interactive & Instant",desc:"Say it and see feedback live \u2014 no wait time, no guesswork."}),(0,pe.jsx)(Sm,{title:"\ud83e\uddd1\u200d\u2695\ufe0f Speech Therapist Friendly",desc:"Built to support professional-level goals while staying user-friendly."})]}),(0,pe.jsxs)("div",{className:"text-gray-700 mt-8",children:[(0,pe.jsx)("p",{className:"text-lg",children:"This app is designed for users of all levels, from beginner to advanced speech therapy practice."}),(0,pe.jsx)("p",{className:"text-lg mt-2",children:"Enjoy practicing your speech with real-time feedback and improve your pronunciation every day!"})]})]}),km=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296===(64512&r)&&i+1<t.length&&56320===(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},Tm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const e=t[r],s=r+1<t.length,o=s?t[r+1]:0,a=r+2<t.length,l=a?t[r+2]:0,c=e>>2,u=(3&e)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),i.push(n[c],n[u],n[h],n[d])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(km(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(s>>10)),e[i++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const e=n[t.charAt(r++)],s=r<t.length?n[t.charAt(r)]:0;++r;const o=r<t.length?n[t.charAt(r)]:64;++r;const a=r<t.length?n[t.charAt(r)]:64;if(++r,null==e||null==s||null==o||null==a)throw new Cm;const l=e<<2|s>>4;if(i.push(l),64!==o){const t=s<<4&240|o>>2;if(i.push(t),64!==a){const t=o<<6&192|a;i.push(t)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Cm extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Im=function(t){return function(t){const e=km(t);return Tm.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Pm=function(t){try{return Tm.decodeString(t,!0)}catch(OA){console.error("base64Decode failed: ",OA)}return null};const Am=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Rm=()=>{try{return Am()||(()=>{if("undefined"===typeof process)return;const t={NODE_ENV:"production",PUBLIC_URL:"/speech-ai-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(OA){return}const e=t&&Pm(t[1]);return e&&JSON.parse(e)})()}catch(OA){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${OA}`)}},Dm=t=>{var e,n;return null===(n=null===(e=Rm())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},Mm=()=>{var t;return null===(t=Rm())||void 0===t?void 0:t.config},Nm=t=>{var e;return null===(e=Rm())||void 0===e?void 0:e[`_${t}`]};class Om{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function Lm(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Fm(){return!function(){var t;const e=null===(t=Rm())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(OA){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jm(){try{return"object"===typeof indexedDB}catch(OA){return!1}}class Vm extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Vm.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Um.prototype.create)}}class Um{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t){const e=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${t}`,i=this.errors[t],r=i?function(t,e){return t.replace(zm,((t,n)=>{const i=e[n];return null!=i?String(i):`<${n}?>`}))}(i,e):"Error",s=`${this.serviceName}: ${r} (${n}).`;return new Vm(n,s,e)}}const zm=/\{\$([^}]+)}/g;function Bm(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const n=t[r],s=e[r];if($m(n)&&$m(s)){if(!Bm(n,s))return!1}else if(n!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function $m(t){return null!==t&&"object"===typeof t}function Hm(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach((t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Wm(t){const e={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[n,i]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(i)}})),e}function qm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Km{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let i;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");i=function(t,e){if("object"!==typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"===typeof t[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===i.next&&(i.next=Gm),void 0===i.error&&(i.error=Gm),void 0===i.complete&&(i.complete=Gm);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(OA){}})),this.observers.push(i),r}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(OA){"undefined"!==typeof console&&console.error&&console.error(OA)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Gm(){}function Ym(t){return t&&t._delegate?t._delegate:t}class Qm{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Xm="[DEFAULT]";class Jm{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new Om;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(OA){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),i=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(OA){if(i)return null;throw OA}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:Xm})}catch(OA){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(OA){}}}}clearInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xm;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xm;return this.instances.has(t)}getOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xm;return this.instancesOptions.get(t)||{}}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[r,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&s.resolve(i)}return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const r of n)try{r(t,e)}catch(i){}}getOrInitializeService(t){let{instanceIdentifier:e,options:n={}}=t,i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===Xm?void 0:r),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(s){}var r;return i||null}normalizeInstanceIdentifier(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xm;return this.component?this.component.multipleInstances?t:Xm:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Zm{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Jm(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const tg=[];var eg;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(eg||(eg={}));const ng={debug:eg.DEBUG,verbose:eg.VERBOSE,info:eg.INFO,warn:eg.WARN,error:eg.ERROR,silent:eg.SILENT},ig=eg.INFO,rg={[eg.DEBUG]:"log",[eg.VERBOSE]:"log",[eg.INFO]:"info",[eg.WARN]:"warn",[eg.ERROR]:"error"},sg=function(t,e){if(e<t.logLevel)return;const n=(new Date).toISOString(),i=rg[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];console[i](`[${n}]  ${t.name}:`,...s)};class og{constructor(t){this.name=t,this._logLevel=ig,this._logHandler=sg,this._userLogHandler=null,tg.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in eg))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?ng[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,eg.DEBUG,...e),this._logHandler(this,eg.DEBUG,...e)}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,eg.VERBOSE,...e),this._logHandler(this,eg.VERBOSE,...e)}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,eg.INFO,...e),this._logHandler(this,eg.INFO,...e)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,eg.WARN,...e),this._logHandler(this,eg.WARN,...e)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,eg.ERROR,...e),this._logHandler(this,eg.ERROR,...e)}}let ag,lg;const cg=new WeakMap,ug=new WeakMap,hg=new WeakMap,dg=new WeakMap,fg=new WeakMap;let pg={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return ug.get(t);if("objectStoreNames"===e)return t.objectStoreNames||hg.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yg(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function mg(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(lg||(lg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.apply(vg(this),n),yg(cg.get(this))}:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return yg(t.apply(vg(this),n))}:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const s=t.call(vg(this),e,...i);return hg.set(s,e.sort?e.sort():[e]),yg(s)}}function gg(t){return"function"===typeof t?mg(t):(t instanceof IDBTransaction&&function(t){if(ug.has(t))return;const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",s),t.removeEventListener("abort",s)},r=()=>{e(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",s),t.addEventListener("abort",s)}));ug.set(t,e)}(t),e=t,(ag||(ag=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>e instanceof t))?new Proxy(t,pg):t);var e}function yg(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",s)},r=()=>{e(yg(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",s)}));return e.then((e=>{e instanceof IDBCursor&&cg.set(e,t)})).catch((()=>{})),fg.set(e,t),e}(t);if(dg.has(t))return dg.get(t);const e=gg(t);return e!==t&&(dg.set(t,e),fg.set(e,t)),e}const vg=t=>fg.get(t);const bg=["get","getKey","getAll","getAllKeys","count"],wg=["put","add","delete","clear"],xg=new Map;function _g(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(xg.get(e))return xg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=wg.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!bg.includes(n))return;const s=async function(t){const e=this.transaction(t,r?"readwrite":"readonly");let s=e.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return i&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),r&&e.done]))[0]};return xg.set(e,s),s}!function(t){pg=t(pg)}((t=>({...t,get:(e,n,i)=>_g(e,n)||t.get(e,n,i),has:(e,n)=>!!_g(e,n)||t.has(e,n)})));class Sg{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const Eg="@firebase/app",kg="0.11.4",Tg=new og("@firebase/app"),Cg="@firebase/app-compat",Ig="@firebase/analytics-compat",Pg="@firebase/analytics",Ag="@firebase/app-check-compat",Rg="@firebase/app-check",Dg="@firebase/auth",Mg="@firebase/auth-compat",Ng="@firebase/database",Og="@firebase/data-connect",Lg="@firebase/database-compat",Fg="@firebase/functions",jg="@firebase/functions-compat",Vg="@firebase/installations",Ug="@firebase/installations-compat",zg="@firebase/messaging",Bg="@firebase/messaging-compat",$g="@firebase/performance",Hg="@firebase/performance-compat",Wg="@firebase/remote-config",qg="@firebase/remote-config-compat",Kg="@firebase/storage",Gg="@firebase/storage-compat",Yg="@firebase/firestore",Qg="@firebase/vertexai",Xg="@firebase/firestore-compat",Jg="firebase",Zg="[DEFAULT]",ty={[Eg]:"fire-core",[Cg]:"fire-core-compat",[Pg]:"fire-analytics",[Ig]:"fire-analytics-compat",[Rg]:"fire-app-check",[Ag]:"fire-app-check-compat",[Dg]:"fire-auth",[Mg]:"fire-auth-compat",[Ng]:"fire-rtdb",[Og]:"fire-data-connect",[Lg]:"fire-rtdb-compat",[Fg]:"fire-fn",[jg]:"fire-fn-compat",[Vg]:"fire-iid",[Ug]:"fire-iid-compat",[zg]:"fire-fcm",[Bg]:"fire-fcm-compat",[$g]:"fire-perf",[Hg]:"fire-perf-compat",[Wg]:"fire-rc",[qg]:"fire-rc-compat",[Kg]:"fire-gcs",[Gg]:"fire-gcs-compat",[Yg]:"fire-fst",[Xg]:"fire-fst-compat",[Qg]:"fire-vertex","fire-js":"fire-js",[Jg]:"fire-js-all"},ey=new Map,ny=new Map,iy=new Map;function ry(t,e){try{t.container.addComponent(e)}catch(OA){Tg.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,OA)}}function sy(t){const e=t.name;if(iy.has(e))return Tg.debug(`There were multiple attempts to register component ${e}.`),!1;iy.set(e,t);for(const n of ey.values())ry(n,t);for(const n of ny.values())ry(n,t);return!0}function oy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ay(t){return null!==t&&void 0!==t&&void 0!==t.settings}const ly=new Um("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class cy{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Qm("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ly.create("app-deleted",{appName:this._name})}}const uy="11.6.0";function hy(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;if("object"!==typeof e){e={name:e}}const i=Object.assign({name:Zg,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!==typeof r||!r)throw ly.create("bad-app-name",{appName:String(r)});if(n||(n=Mm()),!n)throw ly.create("no-options");const s=ey.get(r);if(s){if(Bm(n,s.options)&&Bm(i,s.config))return s;throw ly.create("duplicate-app",{appName:r})}const o=new Zm(r);for(const l of iy.values())o.addComponent(l);const a=new cy(n,i,o);return ey.set(r,a),a}function dy(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zg;const e=ey.get(t);if(!e&&t===Zg&&Mm())return hy();if(!e)throw ly.create("no-app",{appName:t});return e}function fy(t,e,n){var i;let r=null!==(i=ty[t])&&void 0!==i?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const t=[`Unable to register library "${r}" with version "${e}":`];return s&&t.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&t.push("and"),o&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Tg.warn(t.join(" "))}sy(new Qm(`${r}-version`,(()=>({library:r,version:e})),"VERSION"))}const py="firebase-heartbeat-store";let my=null;function gy(){return my||(my=function(t,e){let{blocked:n,upgrade:i,blocking:r,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(t,e),a=yg(o);return i&&o.addEventListener("upgradeneeded",(t=>{i(yg(o.result),t.oldVersion,t.newVersion,yg(o.transaction),t)})),n&&o.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),a.then((t=>{s&&t.addEventListener("close",(()=>s())),r&&t.addEventListener("versionchange",(t=>r(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(py)}catch(OA){console.warn(OA)}}}).catch((t=>{throw ly.create("idb-open",{originalErrorMessage:t.message})}))),my}async function yy(t,e){try{const n=(await gy()).transaction(py,"readwrite"),i=n.objectStore(py);await i.put(e,vy(t)),await n.done}catch(OA){if(OA instanceof Vm)Tg.warn(OA.message);else{const e=ly.create("idb-set",{originalErrorMessage:null===OA||void 0===OA?void 0:OA.message});Tg.warn(e.message)}}}function vy(t){return`${t.name}!${t.options.appId}`}class by{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new xy(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){var t,e;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=wy();if(null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some((t=>t.date===i)))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>30){const t=function(t){if(0===t.length)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(t,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(OA){Tg.warn(OA)}}async getHeartbeatsHeader(){var t;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=wy(),{heartbeatsToSend:n,unsentEntries:i}=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let i=t.slice();for(const r of t){const t=n.find((t=>t.agent===r.agent));if(t){if(t.dates.push(r.date),_y(n)>e){t.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),_y(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),r=Im(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(OA){return Tg.warn(OA),""}}}function wy(){return(new Date).toISOString().substring(0,10)}class xy{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!jm()&&new Promise(((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=(await gy()).transaction(py),n=await e.objectStore(py).get(vy(t));return await e.done,n}catch(OA){if(OA instanceof Vm)Tg.warn(OA.message);else{const e=ly.create("idb-get",{originalErrorMessage:null===OA||void 0===OA?void 0:OA.message});Tg.warn(e.message)}}}(this.app);return(null===t||void 0===t?void 0:t.heartbeats)?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return yy(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return yy(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function _y(t){return Im(JSON.stringify({version:2,heartbeats:t})).length}var Sy;Sy="",sy(new Qm("platform-logger",(t=>new Sg(t)),"PRIVATE")),sy(new Qm("heartbeat",(t=>new by(t)),"PRIVATE")),fy(Eg,kg,Sy),fy(Eg,kg,"esm2017"),fy("fire-js","");function Ey(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function ky(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ty=ky,Cy=new Um("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Iy=new og("@firebase/auth");function Py(t){if(Iy.logLevel<=eg.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];Iy.error(`Auth (${uy}): ${t}`,...n)}}function Ay(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw Oy(t,...n)}function Ry(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Oy(t,...n)}function Dy(t,e,n){const i=Object.assign(Object.assign({},Ty()),{[e]:n});return new Um("auth","Firebase",i).create(e,{appName:t.name})}function My(t){return Dy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ny(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Ay(t,"argument-error"),Dy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Oy(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if("string"!==typeof t){const e=n[0],i=[...n.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(e,...i)}return Cy.create(t,...n)}function Ly(t,e){if(!t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];throw Oy(e,...i)}}function Fy(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Py(e),new Error(e)}function jy(t,e){t||Fy(e)}function Vy(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function Uy(){return"http:"===zy()||"https:"===zy()}function zy(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function By(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Uy()||function(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class $y{constructor(t,e){this.shortDelay=t,this.longDelay=e,jy(e>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lm())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return By()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hy(t,e){jy(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Wy{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Fy("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Fy("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Fy("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qy={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ky=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Gy=new $y(3e4,6e4);function Yy(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qy(t,e,n,i){return Xy(t,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let r={},s={};i&&("GET"===e?s=i:r={body:JSON.stringify(i)});const o=Hm(Object.assign({key:t.config.apiKey},s)).slice(1),a=await t._getAdditionalHeaders();a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:a},r);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Wy.fetch()(await Zy(t,t.config.apiHost,n,o),l)}))}async function Xy(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},qy),e);try{const e=new ev(t),r=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw nv(t,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const e=r.ok?s.errorMessage:s.error.message,[n,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw nv(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw nv(t,"email-already-in-use",s);if("USER_DISABLED"===n)throw nv(t,"user-disabled",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Dy(t,a,o);Ay(t,a)}}catch(OA){if(OA instanceof Vm)throw OA;Ay(t,"network-request-failed",{message:String(OA)})}}async function Jy(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Qy(t,e,n,i,r);return"mfaPendingCredential"in s&&Ay(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Zy(t,e,n,i){const r=`${e}${n}?${i}`,s=t,o=s.config.emulator?Hy(t.config,r):`${t.config.apiScheme}://${r}`;if(Ky.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(o).toString()}return o}function tv(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ev{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(Ry(this.auth,"network-request-failed"))),Gy.get())}))}}function nv(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Ry(t,e,i);return r.customData._tokenResponse=n,r}function iv(t){return void 0!==t&&void 0!==t.enterprise}class rv{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return tv(e.enforcementState);return null}isProviderEnabled(t){return"ENFORCE"===this.getProviderEnforcementState(t)||"AUDIT"===this.getProviderEnforcementState(t)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sv(t,e){return Qy(t,"GET","/v2/recaptchaConfig",Yy(t,e))}async function ov(t,e){return Qy(t,"POST","/v1/accounts:lookup",e)}function av(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(OA){}}function lv(t){return 1e3*Number(t)}function cv(t){const[e,n,i]=t.split(".");if(void 0===e||void 0===n||void 0===i)return Py("JWT malformed, contained fewer than 3 sections"),null;try{const t=Pm(n);return t?JSON.parse(t):(Py("Failed to decode base64 JWT payload"),null)}catch(OA){return Py("Caught error parsing JWT payload as JSON",null===OA||void 0===OA?void 0:OA.toString()),null}}function uv(t){const e=cv(t);return Ly(e,"internal-error"),Ly("undefined"!==typeof e.exp,"internal-error"),Ly("undefined"!==typeof e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}async function hv(t,e){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return e;try{return await e}catch(OA){throw OA instanceof Vm&&function(t){let{code:e}=t;return"auth/user-disabled"===e||"auth/user-token-expired"===e}(OA)&&t.auth.currentUser===t&&await t.auth.signOut(),OA}}class dv{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){try{await this.user.getIdToken(!0)}catch(OA){return void("auth/network-request-failed"===(null===OA||void 0===OA?void 0:OA.code)&&this.schedule(!0))}this.schedule()}}class fv{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=av(this.lastLoginAt),this.creationTime=av(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function pv(t){var e;const n=t.auth,i=await t.getIdToken(),r=await hv(t,ov(n,{idToken:i}));Ly(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?mv(s.providerUserInfo):[],a=(l=t.providerData,c=o,[...l.filter((t=>!c.some((e=>e.providerId===t.providerId)))),...c]);var l,c;const u=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new fv(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}function mv(t){return t.map((t=>{var{providerId:e}=t,n=Ey(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class gv{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ly(t.idToken,"internal-error"),Ly("undefined"!==typeof t.idToken,"internal-error"),Ly("undefined"!==typeof t.refreshToken,"internal-error");const e="expiresIn"in t&&"undefined"!==typeof t.expiresIn?Number(t.expiresIn):uv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ly(0!==t.length,"internal-error");const e=uv(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Ly(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:i,expiresIn:r}=await async function(t,e){const n=await Xy(t,{},(async()=>{const n=Hm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,s=await Zy(t,i,"/v1/token",`key=${r}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Wy.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(t,e);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:i,expirationTime:r}=e,s=new gv;return n&&(Ly("string"===typeof n,"internal-error",{appName:t}),s.refreshToken=n),i&&(Ly("string"===typeof i,"internal-error",{appName:t}),s.accessToken=i),r&&(Ly("number"===typeof r,"internal-error",{appName:t}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new gv,this.toJSON())}_performRefresh(){return Fy("not implemented")}}function yv(t,e){Ly("string"===typeof t||"undefined"===typeof t,"internal-error",{appName:e})}class vv{constructor(t){var{uid:e,auth:n,stsTokenManager:i}=t,r=Ey(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new fv(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await hv(this,this.stsTokenManager.getToken(this.auth,t));return Ly(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Ym(t),i=await n.getIdToken(e),r=cv(i);Ly(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"===typeof r.firebase?r.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:av(lv(r.auth_time)),issuedAtTime:av(lv(r.iat)),expirationTime:av(lv(r.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=Ym(t);await pv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(Ly(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new vv(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Ly(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await pv(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ay(this.auth.app))return Promise.reject(My(this.auth));const t=await this.getIdToken();return await hv(this,async function(t,e){return Qy(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,i,r,s,o,a,l,c;const u=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(i=e.email)&&void 0!==i?i:void 0,d=null!==(r=e.phoneNumber)&&void 0!==r?r:void 0,f=null!==(s=e.photoURL)&&void 0!==s?s:void 0,p=null!==(o=e.tenantId)&&void 0!==o?o:void 0,m=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=e.createdAt)&&void 0!==l?l:void 0,y=null!==(c=e.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:_}=e;Ly(v&&_,t,"internal-error");const S=gv.fromJSON(this.name,_);Ly("string"===typeof v,t,"internal-error"),yv(u,t.name),yv(h,t.name),Ly("boolean"===typeof b,t,"internal-error"),Ly("boolean"===typeof w,t,"internal-error"),yv(d,t.name),yv(f,t.name),yv(p,t.name),yv(m,t.name),yv(g,t.name),yv(y,t.name);const E=new vv({uid:v,auth:t,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(E.providerData=x.map((t=>Object.assign({},t)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=new gv;i.updateFromServerResponse(e);const r=new vv({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await pv(r),r}static async _fromGetAccountInfoResponse(t,e,n){const i=e.users[0];Ly(void 0!==i.localId,"internal-error");const r=void 0!==i.providerUserInfo?mv(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(null===r||void 0===r?void 0:r.length),o=new gv;o.updateFromIdToken(n);const a=new vv({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new fv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(null===r||void 0===r?void 0:r.length)};return Object.assign(a,l),a}}const bv=new Map;function wv(t){jy(t instanceof Function,"Expected a class definition");let e=bv.get(t);return e?(jy(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bv.set(t,e),e)}class xv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}xv.type="NONE";const _v=xv;function Sv(t,e,n){return`firebase:${t}:${e}:${n}`}class Ev{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=Sv(this.userKey,i.apiKey,r),this.fullPersistenceKey=Sv("persistence",i.apiKey,r),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if("string"===typeof t){const e=await ov(this.auth,{idToken:t}).catch((()=>{}));return e?vv._fromGetAccountInfoResponse(this.auth,e,t):null}return vv._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!e.length)return new Ev(wv(_v),t,n);const i=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let r=i[0]||wv(_v);const s=Sv(n,t.config.apiKey,t.name);let o=null;for(const c of e)try{const e=await c._get(s);if(e){let n;if("string"===typeof e){const i=await ov(t,{idToken:e}).catch((()=>{}));if(!i)break;n=await vv._fromGetAccountInfoResponse(t,i,e)}else n=vv._fromJSON(t,e);c!==r&&(o=n),r=c;break}}catch(l){}const a=i.filter((t=>t._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],o&&await r._set(s,o.toJSON()),await Promise.all(e.map((async t=>{if(t!==r)try{await t._remove(s)}catch(l){}}))),new Ev(r,t,n)):new Ev(r,t,n)}}function kv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Pv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Tv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rv(e))return"Blackberry";if(Dv(e))return"Webos";if(Cv(e))return"Safari";if((e.includes("chrome/")||Iv(e))&&!e.includes("edge/"))return"Chrome";if(Av(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Tv(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lm();return/firefox\//i.test(t)}function Cv(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lm()).toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Iv(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lm();return/crios\//i.test(t)}function Pv(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lm();return/iemobile/i.test(t)}function Av(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lm();return/android/i.test(t)}function Rv(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lm();return/blackberry/i.test(t)}function Dv(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lm();return/webos/i.test(t)}function Mv(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lm();return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Nv(){return function(){const t=Lm();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}function Ov(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lm();return Mv(t)||Av(t)||Dv(t)||Rv(t)||/windows phone/i.test(t)||Pv(t)}function Lv(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(t){case"Browser":e=kv(Lm());break;case"Worker":e=`${kv(Lm())}-${t}`;break;default:e=t}const i=n.length?n.join(","):"FirebaseCore-web";return`${e}/JsCore/${uy}/${i}`}class Fv{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=e=>new Promise(((n,i)=>{try{n(t(e))}catch(OA){i(OA)}}));n.onAbort=e,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(OA){e.reverse();for(const i of e)try{i()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===OA||void 0===OA?void 0:OA.message})}}}class jv{constructor(t){var e,n,i,r;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=s.minPasswordLength)&&void 0!==e?e:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(n=t.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(r=t.forceUpgradeOnSignin)&&void 0!==r&&r,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,i,r,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,a),this.validatePasswordCharacterOptions(t,a),a.isValid&&(a.isValid=null===(e=a.meetsMinPasswordLength)||void 0===e||e),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(i=a.containsLowercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(r=a.containsUppercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){let n;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let i=0;i<t.length;i++)n=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,i,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}class Vv{constructor(t,e,n,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zv(this),this.idTokenSubscription=new zv(this),this.beforeStateQueue=new Fv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise((t=>this._resolvePersistenceManagerAvailable=t))}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=wv(e)),this._initializationPromise=this.queue((async()=>{var n,i,r;if(!this._deleted&&(this.persistenceManager=await Ev.create(this,t),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(i=this._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(OA){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t,!0):void 0}async initializeCurrentUserFromIdToken(t){try{const e=await ov(this,{idToken:t}),n=await vv._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(ay(this.app)){const t=this.app.settings.authIdToken;return t?new Promise((e=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(t).then(e,e)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(t);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(i=o.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(OA){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(OA)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ly(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(OA){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await pv(t)}catch(OA){if("auth/network-request-failed"!==(null===OA||void 0===OA?void 0:OA.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ay(this.app))return Promise.reject(My(this));const e=t?Ym(t):null;return e&&Ly(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return t&&Ly(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return ay(this.app)?Promise.reject(My(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ay(this.app)?Promise.reject(My(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(wv(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await async function(t){return Qy(t,"GET","/v2/passwordPolicy",Yy(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),e=new jv(t);null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Um("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise(((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged((()=>{n(),t()}),e)}}))}async revokeAccessToken(t){if(this.currentUser){const e={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(e.tenantId=this.tenantId),await async function(t,e){return Qy(t,"POST","/v2/accounts:revokeToken",Yy(t,e))}(this,e)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&wv(t)||this._popupRedirectResolver;Ly(e,this,"argument-error"),this.redirectPersistenceManager=await Ev.create(this,[wv(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,i){if(this._deleted)return()=>{};const r="function"===typeof e?e:e.next.bind(e);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ly(o,this,"internal-error"),o.then((()=>{s||r(this.currentUser)})),"function"===typeof e){const r=t.addObserver(e,n,i);return()=>{s=!0,r()}}{const n=t.addObserver(e);return()=>{s=!0,n()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ly(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Lv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(ay(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await(null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken());return(null===e||void 0===e?void 0:e.error)&&function(t){if(Iy.logLevel<=eg.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];Iy.warn(`Auth (${uy}): ${t}`,...n)}}(`Error while retrieving App Check token: ${e.error}`),null===e||void 0===e?void 0:e.token}}function Uv(t){return Ym(t)}class zv{constructor(t){this.auth=t,this.observer=null,this.addObserver=function(t,e){const n=new Km(t,e);return n.subscribe.bind(n)}((t=>this.observer=t))}get next(){return Ly(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $v(t){return Bv.loadJS(t)}function Hv(t){return`__${t}${Math.floor(1e6*Math.random())}`}class Wv{constructor(){this.enterprise=new qv}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class qv{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const Kv="NO_RECAPTCHA";class Gv{constructor(t){this.type="recaptcha-enterprise",this.auth=Uv(t)}async verify(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e,n,i){const r=window.grecaptcha;iv(r)?r.enterprise.ready((()=>{r.enterprise.execute(e,{action:t}).then((t=>{n(t)})).catch((()=>{n(Kv)}))})):i(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Wv).execute("siteKey",{action:"verify"})}return new Promise(((t,i)=>{(async function(t){if(!e){if(null==t.tenantId&&null!=t._agentRecaptchaConfig)return t._agentRecaptchaConfig.siteKey;if(null!=t.tenantId&&void 0!==t._tenantRecaptchaConfigs[t.tenantId])return t._tenantRecaptchaConfigs[t.tenantId].siteKey}return new Promise((async(e,n)=>{sv(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((i=>{if(void 0!==i.recaptchaKey){const n=new rv(i);return null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,e(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((t=>{n(t)}))}))})(this.auth).then((r=>{if(!e&&iv(window.grecaptcha))n(r,t,i);else{if("undefined"===typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));let e=Bv.recaptchaEnterpriseScript;0!==e.length&&(e+=r),$v(e).then((()=>{n(r,t,i)})).catch((t=>{i(t)}))}})).catch((t=>{i(t)}))}))}}async function Yv(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Gv(t);let o;if(r)o=Kv;else try{o=await s.verify(n)}catch(l){o=await s.verify(n,!0)}const a=Object.assign({},e);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const t=a.phoneEnrollmentInfo.phoneNumber,e=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:t,recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const t=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Qv(t,e,n,i,r){var s,o;if("EMAIL_PASSWORD_PROVIDER"===r){if(null===(s=t._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await Yv(t,e,n,"getOobCode"===n);return i(t,r)}return i(t,e).catch((async r=>{if("auth/missing-recaptcha-token"===r.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const r=await Yv(t,e,n,"getOobCode"===n);return i(t,r)}return Promise.reject(r)}))}if("PHONE_PROVIDER"===r){if(null===(o=t._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("PHONE_PROVIDER")){const r=await Yv(t,e,n);return i(t,r).catch((async r=>{var s;if("AUDIT"===(null===(s=t._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===r.code||"auth/invalid-app-credential"===r.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const r=await Yv(t,e,n,!1,!0);return i(t,r)}return Promise.reject(r)}))}{const r=await Yv(t,e,n,!1,!0);return i(t,r)}}return Promise.reject(r+" provider is not supported.")}async function Xv(t){const e=Uv(t),n=await sv(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new rv(n);if(null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.isAnyProviderEnabled()){new Gv(e).verify()}}function Jv(t,e,n){const i=Uv(t);Ly(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Zv(e),{host:o,port:a}=function(t){const e=Zv(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const t=r[1];return{host:t,port:tb(i.substr(t.length+1))}}{const[t,e]=i.split(":");return{host:t,port:tb(e)}}}(e),l={url:`${s}//${o}${null===a?"":`:${a}`}/`},c=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator)return Ly(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),void Ly(Bm(l,i.config.emulator)&&Bm(c,i.emulatorConfig),i,"emulator-config-failed");i.config.emulator=l,i.emulatorConfig=c,i.settings.appVerificationDisabledForTesting=!0,r||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}function Zv(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class eb{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Fy("not implemented")}_getIdTokenResponse(t){return Fy("not implemented")}_linkToIdToken(t,e){return Fy("not implemented")}_getReauthenticationResolver(t){return Fy("not implemented")}}async function nb(t,e){return Qy(t,"POST","/v1/accounts:signUp",e)}async function ib(t,e){return Jy(t,"POST","/v1/accounts:signInWithPassword",Yy(t,e))}class rb extends eb{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new rb(t,e,"password")}static _fromEmailAndCode(t,e){return new rb(t,e,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t;if((null===e||void 0===e?void 0:e.email)&&(null===e||void 0===e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return Qv(t,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ib,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(t,e){return Jy(t,"POST","/v1/accounts:signInWithEmailLink",Yy(t,e))}(t,{email:this._email,oobCode:this._password});default:Ay(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return Qv(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nb,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(t,e){return Jy(t,"POST","/v1/accounts:signInWithEmailLink",Yy(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:Ay(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function sb(t,e){return Jy(t,"POST","/v1/accounts:signInWithIdp",Yy(t,e))}class ob extends eb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ob(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ay("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t,{providerId:n,signInMethod:i}=e,r=Ey(e,["providerId","signInMethod"]);if(!n||!i)return null;const s=new ob(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(t){return sb(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,sb(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,sb(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Hm(e)}return t}}async function ab(t,e){return Qy(t,"POST","/v1/accounts:sendVerificationCode",Yy(t,e))}const lb={USER_NOT_FOUND:"user-not-found"};class cb extends eb{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new cb({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new cb({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return Jy(t,"POST","/v1/accounts:signInWithPhoneNumber",Yy(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const n=await Jy(t,"POST","/v1/accounts:signInWithPhoneNumber",Yy(t,e));if(n.temporaryProof)throw nv(t,"account-exists-with-different-credential",n);return n}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return Jy(t,"POST","/v1/accounts:signInWithPhoneNumber",Yy(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),lb)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:i}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:i}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"===typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}=t;return n||e||i||r?new cb({verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class ub{constructor(t){var e,n,i,r,s,o;const a=Wm(qm(t)),l=null!==(e=a.apiKey)&&void 0!==e?e:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=a.mode)&&void 0!==i?i:null);Ly(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(r=a.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(t){const e=function(t){const e=Wm(qm(t)).link,n=e?Wm(qm(e)).deep_link_id:null,i=Wm(qm(t)).deep_link_id;return(i?Wm(qm(i)).link:null)||i||n||e||t}(t);try{return new ub(e)}catch(n){return null}}}class hb{constructor(){this.providerId=hb.PROVIDER_ID}static credential(t,e){return rb._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=ub.parseLink(e);return Ly(n,"argument-error"),rb._fromEmailAndCode(t,n.code,n.tenantId)}}hb.PROVIDER_ID="password",hb.EMAIL_PASSWORD_SIGN_IN_METHOD="password",hb.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class db{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class fb extends db{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class pb extends fb{constructor(){super("facebook.com")}static credential(t){return ob._fromParams({providerId:pb.PROVIDER_ID,signInMethod:pb.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return pb.credentialFromTaggedObject(t)}static credentialFromError(t){return pb.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return pb.credential(e.oauthAccessToken)}catch(n){return null}}}pb.FACEBOOK_SIGN_IN_METHOD="facebook.com",pb.PROVIDER_ID="facebook.com";class mb extends fb{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return ob._fromParams({providerId:mb.PROVIDER_ID,signInMethod:mb.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return mb.credentialFromTaggedObject(t)}static credentialFromError(t){return mb.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return mb.credential(n,i)}catch(r){return null}}}mb.GOOGLE_SIGN_IN_METHOD="google.com",mb.PROVIDER_ID="google.com";class gb extends fb{constructor(){super("github.com")}static credential(t){return ob._fromParams({providerId:gb.PROVIDER_ID,signInMethod:gb.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return gb.credentialFromTaggedObject(t)}static credentialFromError(t){return gb.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return gb.credential(e.oauthAccessToken)}catch(n){return null}}}gb.GITHUB_SIGN_IN_METHOD="github.com",gb.PROVIDER_ID="github.com";class yb extends fb{constructor(){super("twitter.com")}static credential(t,e){return ob._fromParams({providerId:yb.PROVIDER_ID,signInMethod:yb.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return yb.credentialFromTaggedObject(t)}static credentialFromError(t){return yb.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return yb.credential(n,i)}catch(r){return null}}}async function vb(t,e){return Jy(t,"POST","/v1/accounts:signUp",Yy(t,e))}yb.TWITTER_SIGN_IN_METHOD="twitter.com",yb.PROVIDER_ID="twitter.com";class bb{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=await vv._fromIdTokenResponse(t,n,i),s=wb(n);return new bb({user:r,providerId:s,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const i=wb(n);return new bb({user:t,providerId:i,_tokenResponse:n,operationType:e})}}function wb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class xb extends Vm{constructor(t,e,n,i){var r;super(e.code,e.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,xb.prototype),this.customData={appName:t.name,tenantId:null!==(r=t.tenantId)&&void 0!==r?r:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,i){return new xb(t,e,n,i)}}function _b(t,e,n,i){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw xb._fromErrorAndOperation(t,n,e,i);throw n}))}async function Sb(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=await hv(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bb._forOperation(t,"link",i)}async function Eb(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=t;if(ay(i.app))return Promise.reject(My(i));const r="reauthenticate";try{const s=await hv(t,_b(i,r,e,t),n);Ly(s.idToken,i,"internal-error");const o=cv(s.idToken);Ly(o,i,"internal-error");const{sub:a}=o;return Ly(t.uid===a,i,"user-mismatch"),bb._forOperation(t,r,s)}catch(OA){throw"auth/user-not-found"===(null===OA||void 0===OA?void 0:OA.code)&&Ay(i,"user-mismatch"),OA}}async function kb(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ay(t.app))return Promise.reject(My(t));const i="signIn",r=await _b(t,i,e),s=await bb._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function Tb(t,e){return kb(Uv(t),e)}async function Cb(t){const e=Uv(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ib(t,e,n){if(ay(t.app))return Promise.reject(My(t));const i=Uv(t),r=Qv(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vb,"EMAIL_PASSWORD_PROVIDER"),s=await r.catch((e=>{throw"auth/password-does-not-meet-requirements"===e.code&&Cb(t),e})),o=await bb._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(o.user),o}function Pb(t,e,n){return ay(t.app)?Promise.reject(My(t)):Tb(Ym(t),hb.credential(e,n)).catch((async e=>{throw"auth/password-does-not-meet-requirements"===e.code&&Cb(t),e}))}function Ab(t,e){return Qy(t,"POST","/v2/accounts/mfaEnrollment:start",Yy(t,e))}new WeakMap;const Rb="__sak";class Db{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Rb,"1"),this.storage.removeItem(Rb),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}class Mb extends Db{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ov(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),i=this.localCache[e];n!==i&&t(e,i,n)}}onStorageEvent(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t.key)return void this.forAllChangedKeys(((t,e,n)=>{this.notifyListeners(t,n)}));const n=t.key;e?this.detachListener():this.stopPolling();const i=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},r=this.storage.getItem(n);Nv()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,10):i()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Mb.type="LOCAL";const Nb=Mb;function Ob(t){var e,n;const i=t.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),r=RegExp(`${i}=([^;]+)`);return null!==(n=null===(e=document.cookie.match(r))||void 0===e?void 0:e[1])&&void 0!==n?n:null}function Lb(t){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${t.split(":")[3]}`}class Fb{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(t){if(void 0===typeof window)return t;const e=new URL(`${window.location.origin}/__cookies__`);return e.searchParams.set("finalTarget",t),e}async _isAvailable(){var t;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(t=navigator.cookieEnabled)||void 0===t||t))}async _set(t,e){}async _get(t){if(!this._isAvailable())return null;const e=Lb(t);if(window.cookieStore){const t=await window.cookieStore.get(e);return null===t||void 0===t?void 0:t.value}return Ob(e)}async _remove(t){if(!this._isAvailable())return;if(!await this._get(t))return;const e=Lb(t);document.cookie=`${e}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(t,e){if(!this._isAvailable())return;const n=Lb(t);if(window.cookieStore){const t=t=>{const i=t.changed.find((t=>t.name===n));i&&e(i.value);t.deleted.find((t=>t.name===n))&&e(null)},i=()=>window.cookieStore.removeEventListener("change",t);return this.listenerUnsubscribes.set(e,i),window.cookieStore.addEventListener("change",t)}let i=Ob(n);const r=setInterval((()=>{const t=Ob(n);t!==i&&(e(t),i=t)}),1e3);this.listenerUnsubscribes.set(e,(()=>clearInterval(r)))}_removeListener(t,e){const n=this.listenerUnsubscribes.get(e);n&&(n(),this.listenerUnsubscribes.delete(e))}}Fb.type="COOKIE";class jb extends Db{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}jb.type="SESSION";const Vb=jb;class Ub{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const n=new Ub(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:i,data:r}=e.data,s=this.handlersMap[i];if(!(null===s||void 0===s?void 0:s.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map((async t=>t(e.origin,r))),a=await function(t){return Promise.all(t.map((async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}})))}(o);e.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function zb(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let i=0;i<e;i++)n+=Math.floor(10*Math.random());return t+n}Ub.receivers=[];class Bb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const i="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise(((o,a)=>{const l=zb("",20);i.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:i,onMessage(t){const e=t;if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(c),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),o(e.data.response);break;default:clearTimeout(c),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[i.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function $b(){return window}function Hb(){return"undefined"!==typeof $b().WorkerGlobalScope&&"function"===typeof $b().importScripts}const Wb="firebaseLocalStorageDb",qb="firebaseLocalStorage",Kb="fbase_key";class Gb{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function Yb(t,e){return t.transaction([qb],e?"readwrite":"readonly").objectStore(qb)}function Qb(){const t=indexedDB.open(Wb,1);return new Promise(((e,n)=>{t.addEventListener("error",(()=>{n(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(qb,{keyPath:Kb})}catch(OA){n(OA)}})),t.addEventListener("success",(async()=>{const n=t.result;n.objectStoreNames.contains(qb)?e(n):(n.close(),await function(){const t=indexedDB.deleteDatabase(Wb);return new Gb(t).toPromise()}(),e(await Qb()))}))}))}async function Xb(t,e,n){const i=Yb(t,!0).put({[Kb]:e,value:n});return new Gb(i).toPromise()}function Jb(t,e){const n=Yb(t,!0).delete(e);return new Gb(n).toPromise()}class Zb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Qb()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(OA){if(e++>3)throw OA;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ub._getInstance(Hb()?self:null),this.receiver._subscribe("keyChanged",(async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)}))),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Bb(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&function(){var t;return(null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Qb();return await Xb(t,Rb,"1"),await Jb(t,Rb),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((n=>Xb(n,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>async function(t,e){const n=Yb(t,!1).get(e),i=await new Gb(n).toPromise();return void 0===i?null:i.value}(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>Jb(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=Yb(t,!1).getAll();return new Gb(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;if(0!==t.length)for(const{fbase_key:i,value:r}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),e.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),e.push(i));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Zb.type="LOCAL";const tw=Zb;function ew(t,e){return Qy(t,"POST","/v2/accounts/mfaSignIn:start",Yy(t,e))}Hv("rcb"),new $y(3e4,6e4);const nw="recaptcha";async function iw(t,e,n){var i;if(!t._getRecaptchaConfig())try{await Xv(t)}catch(r){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"===typeof e?{phoneNumber:e}:e,"session"in r){const e=r.session;if("phoneNumber"in r){Ly("enroll"===e.type,t,"internal-error");const i={idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=Qv(t,i,"mfaSmsEnrollment",(async(t,e)=>{if(e.phoneEnrollmentInfo.captchaResponse===Kv){Ly((null===n||void 0===n?void 0:n.type)===nw,t,"argument-error");return Ab(t,await rw(t,e,n))}return Ab(t,e)}),"PHONE_PROVIDER");return(await s.catch((t=>Promise.reject(t)))).phoneSessionInfo.sessionInfo}{Ly("signin"===e.type,t,"internal-error");const s=(null===(i=r.multiFactorHint)||void 0===i?void 0:i.uid)||r.multiFactorUid;Ly(s,t,"missing-multi-factor-info");const o={mfaPendingCredential:e.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Qv(t,o,"mfaSmsSignIn",(async(t,e)=>{if(e.phoneSignInInfo.captchaResponse===Kv){Ly((null===n||void 0===n?void 0:n.type)===nw,t,"argument-error");return ew(t,await rw(t,e,n))}return ew(t,e)}),"PHONE_PROVIDER");return(await a.catch((t=>Promise.reject(t)))).phoneResponseInfo.sessionInfo}}{const e={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},i=Qv(t,e,"sendVerificationCode",(async(t,e)=>{if(e.captchaResponse===Kv){Ly((null===n||void 0===n?void 0:n.type)===nw,t,"argument-error");return ab(t,await rw(t,e,n))}return ab(t,e)}),"PHONE_PROVIDER");return(await i.catch((t=>Promise.reject(t)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function rw(t,e,n){Ly(n.type===nw,t,"argument-error");const i=await n.verify();Ly("string"===typeof i,t,"argument-error");const r=Object.assign({},e);if("phoneEnrollmentInfo"in r){const t=r.phoneEnrollmentInfo.phoneNumber,e=r.phoneEnrollmentInfo.captchaResponse,n=r.phoneEnrollmentInfo.clientType,s=r.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(r,{phoneEnrollmentInfo:{phoneNumber:t,recaptchaToken:i,captchaResponse:e,clientType:n,recaptchaVersion:s}}),r}if("phoneSignInInfo"in r){const t=r.phoneSignInInfo.captchaResponse,e=r.phoneSignInInfo.clientType,n=r.phoneSignInInfo.recaptchaVersion;return Object.assign(r,{phoneSignInInfo:{recaptchaToken:i,captchaResponse:t,clientType:e,recaptchaVersion:n}}),r}return Object.assign(r,{recaptchaToken:i}),r}class sw{constructor(t){this.providerId=sw.PROVIDER_ID,this.auth=Uv(t)}verifyPhoneNumber(t,e){return iw(this.auth,t,Ym(e))}static credential(t,e){return cb._fromVerification(t,e)}static credentialFromResult(t){const e=t;return sw.credentialFromTaggedObject(e)}static credentialFromError(t){return sw.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{phoneNumber:n,temporaryProof:i}=e;return n&&i?cb._fromTokenResponse(n,i):null}}function ow(t,e){return e?wv(e):(Ly(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}sw.PROVIDER_ID="phone",sw.PHONE_SIGN_IN_METHOD="phone";class aw extends eb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return sb(t,this._buildIdpRequest())}_linkToIdToken(t,e){return sb(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return sb(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function lw(t){return kb(t.auth,new aw(t),t.bypassAuthState)}function cw(t){const{auth:e,user:n}=t;return Ly(n,e,"internal-error"),Eb(n,new aw(t),t.bypassAuthState)}async function uw(t){const{auth:e,user:n}=t;return Ly(n,e,"internal-error"),Sb(n,new aw(t),t.bypassAuthState)}class hw{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(OA){this.reject(OA)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:i,tenantId:r,error:s,type:o}=t;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:e,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(OA){this.reject(OA)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return lw;case"linkViaPopup":case"linkViaRedirect":return uw;case"reauthViaPopup":case"reauthViaRedirect":return cw;default:Ay(this.auth,"internal-error")}}resolve(t){jy(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){jy(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dw=new $y(2e3,1e4);async function fw(t,e,n){if(ay(t.app))return Promise.reject(Ry(t,"operation-not-supported-in-this-environment"));const i=Uv(t);Ny(t,e,db);const r=ow(i,n);return new pw(i,"signInViaPopup",e,r).executeNotNull()}class pw extends hw{constructor(t,e,n,i,r){super(t,e,i,r),this.provider=n,this.authWindow=null,this.pollId=null,pw.currentPopupAction&&pw.currentPopupAction.cancel(),pw.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ly(t,this.auth,"internal-error"),t}async onExecution(){jy(1===this.filter.length,"Popup operations only handle one event");const t=zb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(Ry(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Ry(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pw.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Ry(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(t,dw.get())};t()}}pw.currentPopupAction=null;const mw=new Map;class gw extends hw{constructor(t,e){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let t=mw.get(this.auth._key());if(!t){try{const e=await async function(t,e){const n=bw(e),i=vw(t);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth),n=e?await super.execute():null;t=()=>Promise.resolve(n)}catch(OA){t=()=>Promise.reject(OA)}mw.set(this.auth._key(),t)}return this.bypassAuthState||mw.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function yw(t,e){mw.set(t._key(),e)}function vw(t){return wv(t._redirectPersistence)}function bw(t){return Sv("pendingRedirect",t.config.apiKey,t.name)}async function ww(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ay(t.app))return Promise.reject(My(t));const i=Uv(t),r=ow(i,e),s=new gw(i,r,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}class xw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sw(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!Sw(t)){const i=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(Ry(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_w(t))}saveEventToCache(t){this.cachedEventUids.add(_w(t)),this.lastProcessedEventTime=Date.now()}}function _w(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function Sw(t){let{type:e,error:n}=t;return"unknown"===e&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Ew=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kw=/^https?/;async function Tw(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t){return Qy(t,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(t);for(const i of e)try{if(Cw(i))return}catch(n){}Ay(t,"unauthorized-domain")}function Cw(t){const e=Vy(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return""===r.hostname&&""===i?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!kw.test(n))return!1;if(Ew.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const Iw=new $y(3e4,6e4);function Pw(){const t=$b().___jsl;if(null===t||void 0===t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}function Aw(t){return new Promise(((e,n)=>{var i,r,s;function o(){Pw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Pw(),n(Ry(t,"network-request-failed"))},timeout:Iw.get()})}if(null===(r=null===(i=$b().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=$b().gapi)||void 0===s?void 0:s.load)){const e=Hv("iframefcb");return $b()[e]=()=>{gapi.load?o():n(Ry(t,"network-request-failed"))},$v(`${Bv.gapiScript}?onload=${e}`).catch((t=>n(t)))}o()}})).catch((t=>{throw Rw=null,t}))}let Rw=null;const Dw=new $y(5e3,15e3),Mw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ow(t){const e=t.config;Ly(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hy(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,i={apiKey:e.apiKey,appName:t.name,v:uy},r=Nw.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Hm(i).slice(1)}`}async function Lw(t){const e=await function(t){return Rw=Rw||Aw(t),Rw}(t),n=$b().gapi;return Ly(n,t,"internal-error"),e.open({where:document.body,url:Ow(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mw,dontclear:!0},(e=>new Promise((async(n,i)=>{await e.restyle({setHideOnLeave:!1});const r=Ry(t,"network-request-failed"),s=$b().setTimeout((()=>{i(r)}),Dw.get());function o(){$b().clearTimeout(s),n(e)}e.ping(o).then(o,(()=>{i(r)}))}))))}const Fw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jw{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(OA){}}}function Vw(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Fw),{width:i.toString(),height:r.toString(),top:s,left:o}),c=Lm().toLowerCase();n&&(a=Iv(c)?"_blank":n),Tv(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((t,e)=>{let[n,i]=e;return`${t}${n}=${i},`}),"");if(function(){var t;return Mv(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lm())&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==a)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(e||"",a),new jw(null);const h=window.open(e||"",a,u);Ly(h,t,"popup-blocked");try{h.focus()}catch(OA){}return new jw(h)}const Uw="__/auth/handler",zw="emulator/auth/handler",Bw=encodeURIComponent("fac");async function $w(t,e,n,i,r,s){Ly(t.config.authDomain,t,"auth-domain-config-required"),Ly(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:uy,eventId:r};if(e instanceof db){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(s||{}))o[t]=e}if(e instanceof fb){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(o.scopes=t.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${Bw}=${encodeURIComponent(l)}`:"";return`${function(t){let{config:e}=t;if(!e.emulator)return`https://${e.authDomain}/${Uw}`;return Hy(e,zw)}(t)}?${Hm(a).slice(1)}${c}`}const Hw="webStorageSupport";const Ww=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vb,this._completeRedirectFn=ww,this._overrideRedirectResult=yw}async _openPopup(t,e,n,i){var r;jy(null===(r=this.eventManagers[t._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return Vw(t,await $w(t,e,n,Vy(),i),zb())}async _openRedirect(t,e,n,i){await this._originValidation(t);return function(t){$b().location.href=t}(await $w(t,e,n,Vy(),i)),new Promise((()=>{}))}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(jy(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch((()=>{delete this.eventManagers[e]})),n}async initAndGetManager(t){const e=await Lw(t),n=new xw(t);return e.register("authEvent",(e=>{Ly(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event");return{status:n.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Hw,{type:Hw},(n=>{var i;const r=null===(i=null===n||void 0===n?void 0:n[0])||void 0===i?void 0:i[Hw];void 0!==r&&e(!!r),Ay(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Tw(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Ov()||Cv()||Mv()}};var qw="@firebase/auth",Kw="1.10.0";class Gw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(t)}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{t((null===e||void 0===e?void 0:e.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ly(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Yw=Nm("authIdTokenMaxAge")||300;let Qw=null;var Xw,Jw;Xw={loadJS:t=>new Promise(((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=t=>{const e=Ry("internal-error");e.customData=t,n(e)},i.type="text/javascript",i.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(i)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Bv=Xw,Jw="Browser",sy(new Qm("auth",((t,e)=>{let{options:n}=e;const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;Ly(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:Jw,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lv(Jw)},c=new Vv(i,r,s,l);return function(t,e){const n=(null===e||void 0===e?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(wv);(null===e||void 0===e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,null===e||void 0===e?void 0:e.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,n)=>{t.getProvider("auth-internal").initialize()}))),sy(new Qm("auth-internal",(t=>(t=>new Gw(t))(Uv(t.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),fy(qw,Kw,function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Jw)),fy(qw,Kw,"esm2017");fy("firebase","11.6.0","app");var Zw,tx,ex="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},nx={};(function(){var t;function e(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(t,e,n){n||(n=0);var i=Array(16);if("string"===typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var s=t.g[3],o=e+(s^n&(r^s))+i[0]+3614090360&4294967295;o=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(r^s&(n^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(n^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(n^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(n^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(r^(n|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~n))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(n|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~n))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(n|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~n))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(r^(n|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(e^(s|~n))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+s&4294967295}function i(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var s=0|t[r];i&&s==e||(n[r]=s,i=!1)}this.g=n}!function(t,e){function n(){}n.prototype=e.prototype,t.D=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.C=function(t,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}(e,(function(){this.blockSize=-1})),e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},e.prototype.u=function(t,e){void 0===e&&(e=t.length);for(var i=e-this.blockSize,r=this.B,s=this.h,o=0;o<e;){if(0==s)for(;o<=i;)n(this,t,o),o+=this.blockSize;if("string"===typeof t){for(;o<e;)if(r[s++]=t.charCodeAt(o++),s==this.blockSize){n(this,r),s=0;break}}else for(;o<e;)if(r[s++]=t[o++],s==this.blockSize){n(this,r),s=0;break}}this.h=s,this.o+=e},e.prototype.v=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.o;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.u(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};var r={};function s(t){return-128<=t&&128>t?function(t,e){var n=r;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(t){return new i([0|t],0>t?-1:0)})):new i([0|t],0>t?-1:0)}function o(t){if(isNaN(t)||!isFinite(t))return a;if(0>t)return d(o(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=4294967296;return new i(e,0)}var a=s(0),l=s(1),c=s(16777216);function u(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function h(t){return-1==t.h}function d(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new i(n,~t.h).add(l)}function f(t,e){return t.add(d(e))}function p(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function m(t,e){this.g=t,this.h=e}function g(t,e){if(u(e))throw Error("division by zero");if(u(t))return new m(a,a);if(h(t))return e=g(d(t),e),new m(d(e.g),d(e.h));if(h(e))return e=g(t,d(e)),new m(d(e.g),e.h);if(30<t.g.length){if(h(t)||h(e))throw Error("slowDivide_ only works with positive integers.");for(var n=l,i=e;0>=i.l(t);)n=y(n),i=y(i);var r=v(n,1),s=v(i,1);for(i=v(i,2),n=v(n,2);!u(i);){var c=s.add(i);0>=c.l(t)&&(r=r.add(n),s=c),i=v(i,1),n=v(n,1)}return e=f(t,r.j(e)),new m(r,e)}for(r=a;0<=t.l(e);){for(n=Math.max(1,Math.floor(t.m()/e.m())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),c=(s=o(n)).j(e);h(c)||0<c.l(t);)c=(s=o(n-=i)).j(e);u(s)&&(s=l),r=r.add(s),t=f(t,c)}return new m(r,t)}function y(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.i(r)<<1|t.i(r-1)>>>31;return new i(n,t.h)}function v(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],o=0;o<r;o++)s[o]=0<e?t.i(o+n)>>>e|t.i(o+n+1)<<32-e:t.i(o+n);return new i(s,t.h)}(t=i.prototype).m=function(){if(h(this))return-d(this).m();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.i(n);t+=(0<=i?i:4294967296+i)*e,e*=4294967296}return t},t.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(u(this))return"0";if(h(this))return"-"+d(this).toString(t);for(var e=o(Math.pow(t,6)),n=this,i="";;){var r=g(n,e).g,s=((0<(n=f(n,r.j(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(u(n=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},t.i=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},t.l=function(t){return h(t=f(this,t))?-1:u(t)?0:1},t.abs=function(){return h(this)?d(this):this},t.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var o=r+(65535&this.i(s))+(65535&t.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(t.i(s)>>>16);r=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new i(n,-2147483648&n[n.length-1]?-1:0)},t.j=function(t){if(u(this)||u(t))return a;if(h(this))return h(t)?d(this).j(d(t)):d(d(this).j(t));if(h(t))return d(this.j(d(t)));if(0>this.l(c)&&0>t.l(c))return o(this.m()*t.m());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var l=this.i(r)>>>16,f=65535&this.i(r),m=t.i(s)>>>16,g=65535&t.i(s);n[2*r+2*s]+=f*g,p(n,2*r+2*s),n[2*r+2*s+1]+=l*g,p(n,2*r+2*s+1),n[2*r+2*s+1]+=f*m,p(n,2*r+2*s+1),n[2*r+2*s+2]+=l*m,p(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new i(n,0)},t.A=function(t){return g(this,t).h},t.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.i(r)&t.i(r);return new i(n,this.h&t.h)},t.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.i(r)|t.i(r);return new i(n,this.h|t.h)},t.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.i(r)^t.i(r);return new i(n,this.h^t.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,tx=nx.Md5=e,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=o,i.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return d(t(e.substring(1),n));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=o(Math.pow(n,8)),r=a,s=0;s<e.length;s+=8){var l=Math.min(8,e.length-s),c=parseInt(e.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),r=r.j(l).add(o(c))):r=(r=r.j(i)).add(o(c))}return r},Zw=nx.Integer=i}).apply("undefined"!==typeof ex?ex:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var ix,rx,sx,ox,ax,lx,cx,ux,hx="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},dx={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t};var n=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof hx&&hx];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(t,i){if(i)t:{var r=n;t=t.split(".");for(var s=0;s<t.length-1;s++){var o=t[s];if(!(o in r))break t;r=r[o]}(i=i(s=r[t=t[t.length-1]]))!=s&&null!=i&&e(r,t,{configurable:!0,writable:!0,value:i})}}("Array.prototype.values",(function(t){return t||function(){return function(t,e){t instanceof String&&(t+="");var n=0,i=!1,r={next:function(){if(!i&&n<t.length){var r=n++;return{value:e(r,t[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(t,e){return e}))}}));var i=i||{},r=this||self;function s(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function o(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function a(t,e,n){return t.call.apply(t.bind,arguments)}function l(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function c(t,e,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function h(t,e){function n(){}n.prototype=e.prototype,t.aa=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Qb=function(t,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}function d(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function f(t,e){for(let n=1;n<arguments.length;n++){const e=arguments[n];if(s(e)){const n=t.length||0,i=e.length||0;t.length=n+i;for(let r=0;r<i;r++)t[n+r]=e[r]}else t.push(e)}}function p(t){return/^[\s\xa0]*$/.test(t)}function m(){var t=r.navigator;return t&&(t=t.userAgent)?t:""}function g(t){return g[" "](t),t}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function b(t){const e={};for(const n in t)e[n]=t[n];return e}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(t,e){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)t[n]=i[n];for(let e=0;e<w.length;e++)n=w[e],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function _(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function S(t){r.setTimeout((()=>{throw t}),0)}function E(){var t=P;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var k=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new T),(t=>t.reset()));class T{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}let C,I=!1,P=new class{constructor(){this.h=this.g=null}add(t,e){const n=k.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},A=()=>{const t=r.Promise.resolve(void 0);C=()=>{t.then(R)}};var R=()=>{for(var t;t=E();){try{t.h.call(t.g)}catch(n){S(n)}var e=k;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}I=!1};function D(){this.s=this.s,this.C=this.C}function M(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},M.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const t=()=>{};r.addEventListener("test",t,e),r.removeEventListener("test",t,e)}catch(n){}return t}();function O(t,e){if(M.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(y){t:{try{g(e.nodeName);var r=!0;break t}catch(s){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:L[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&O.aa.h.call(this)}}h(O,M);var L={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),j=0;function V(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ha=r,this.key=++j,this.da=this.fa=!1}function U(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function z(t){this.src=t,this.g={},this.h=0}function B(t,e){var n=e.type;if(n in t.g){var i,r=t.g[n],s=Array.prototype.indexOf.call(r,e,void 0);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(U(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function $(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.da&&s.listener==e&&s.capture==!!n&&s.ha==i)return r}return-1}z.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=$(t,e,i,r);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new V(e,this.src,s,!!i,r)).fa=n,t.push(e)),e};var H="closure_lm_"+(1e6*Math.random()|0),W={};function q(t,e,n,i,r){if(i&&i.once)return G(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)q(t,e[s],n,i,r);return null}return n=et(n),t&&t[F]?t.K(e,n,o(i)?!!i.capture:!!i,r):K(t,e,n,!1,i,r)}function K(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var a=o(r)?!!r.capture:!!r,l=Z(t);if(l||(t[H]=l=new z(t)),(n=l.add(e,n,i,a,s)).proxy)return n;if(i=function(){function t(n){return e.call(t.src,t.listener,n)}const e=J;return t}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)N||(r=a),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(X(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function G(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)G(t,e[s],n,i,r);return null}return n=et(n),t&&t[F]?t.L(e,n,o(i)?!!i.capture:!!i,r):K(t,e,n,!0,i,r)}function Y(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)Y(t,e[s],n,i,r);else i=o(i)?!!i.capture:!!i,n=et(n),t&&t[F]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=$(s=t.g[e],n,i,r))&&(U(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--)))):t&&(t=Z(t))&&(e=t.g[e.toString()],t=-1,e&&(t=$(e,n,i,r)),(n=-1<t?e[t]:null)&&Q(n))}function Q(t){if("number"!==typeof t&&t&&!t.da){var e=t.src;if(e&&e[F])B(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(X(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Z(e))?(B(n,t),0==n.h&&(n.src=null,e[H]=null)):U(t)}}}function X(t){return t in W?W[t]:W[t]="on"+t}function J(t,e){if(t.da)t=!0;else{e=new O(e,this);var n=t.listener,i=t.ha||t.src;t.fa&&Q(t),t=n.call(i,e)}return t}function Z(t){return(t=t[H])instanceof z?t:null}var tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function et(t){return"function"===typeof t?t:(t[tt]||(t[tt]=function(e){return t.handleEvent(e)}),t[tt])}function nt(){D.call(this),this.i=new z(this),this.M=this,this.F=null}function it(t,e){var n,i=t.F;if(i)for(n=[];i;i=i.F)n.push(i);if(t=t.M,i=e.type||e,"string"===typeof e)e=new M(e,t);else if(e instanceof M)e.target=e.target||t;else{var r=e;x(e=new M(i,t),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=rt(o,i,!0,e)&&r}if(r=rt(o=e.g=t,i,!0,e)&&r,r=rt(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)r=rt(o=e.g=n[s],i,!1,e)&&r}function rt(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&B(t.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}function st(t,e,n){if("function"===typeof t)n&&(t=c(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=c(t.handleEvent,t)}return 2147483647<Number(e)?-1:r.setTimeout(t,e||0)}function ot(t){t.g=st((()=>{t.g=null,t.i&&(t.i=!1,ot(t))}),t.l);const e=t.h;t.h=null,t.m.apply(null,e)}h(nt,D),nt.prototype[F]=!0,nt.prototype.removeEventListener=function(t,e,n,i){Y(this,t,e,n,i)},nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)U(n[i]);delete e.g[t],e.h--}}this.F=null},nt.prototype.K=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},nt.prototype.L=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};class at extends D{constructor(t,e){super(),this.m=t,this.l=e,this.h=null,this.i=!1,this.g=null}j(t){this.h=arguments,this.g?this.i=!0:ot(this)}N(){super.N(),this.g&&(r.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lt(t){D.call(this),this.h=t,this.g={}}h(lt,D);var ct=[];function ut(t){v(t.g,(function(t,e){this.g.hasOwnProperty(e)&&Q(t)}),t),t.g={}}lt.prototype.N=function(){lt.aa.N.call(this),ut(this)},lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ht=r.JSON.stringify,dt=r.JSON.parse,ft=class{stringify(t){return r.JSON.stringify(t,void 0)}parse(t){return r.JSON.parse(t,void 0)}};function pt(){}function mt(t){return t.h||(t.h=t.i())}function gt(){}pt.prototype.h=null;var yt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vt(){M.call(this,"d")}function bt(){M.call(this,"c")}h(vt,M),h(bt,M);var wt={},xt=null;function _t(){return xt=xt||new nt}function St(t){M.call(this,wt.La,t)}function Et(t){const e=_t();it(e,new St(e))}function kt(t,e){M.call(this,wt.STAT_EVENT,t),this.stat=e}function Tt(t){const e=_t();it(e,new kt(e,t))}function Ct(t,e){M.call(this,wt.Ma,t),this.size=e}function It(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return r.setTimeout((function(){t()}),e)}function Pt(){this.g=!0}function At(t,e,n,i){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return ht(n)}catch(a){return e}}(t,n)+(i?" "+i:"")}))}wt.La="serverreachability",h(St,M),wt.STAT_EVENT="statevent",h(kt,M),wt.Ma="timingevent",h(Ct,M),Pt.prototype.xa=function(){this.g=!1},Pt.prototype.info=function(){};var Rt,Dt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Nt(){}function Ot(t,e,n,i){this.j=t,this.i=e,this.l=n,this.R=i||1,this.U=new lt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lt}function Lt(){this.i=null,this.g="",this.h=!1}h(Nt,pt),Nt.prototype.g=function(){return new XMLHttpRequest},Nt.prototype.i=function(){return{}},Rt=new Nt;var Ft={},jt={};function Vt(t,e,n){t.L=1,t.v=he(oe(e)),t.m=n,t.P=!0,Ut(t,null)}function Ut(t,e){t.F=Date.now(),$t(t),t.A=oe(t.v);var n=t.A,i=t.R;Array.isArray(i)||(i=[String(i)]),ke(n.i,"t",i),t.C=0,n=t.j.J,t.h=new Lt,t.g=fn(t.j,n?e:null,!t.m),0<t.O&&(t.M=new at(c(t.Y,t,t.g),t.O)),e=t.U,n=t.g,i=t.ca;var r="readystatechange";Array.isArray(r)||(r&&(ct[0]=r.toString()),r=ct);for(var s=0;s<r.length;s++){var o=q(n,r[s],i||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}e=t.H?b(t.H):{},t.m?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Et(),function(t,e,n,i,r,s){t.info((function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+o}))}(t.i,t.u,t.A,t.l,t.R,t.m)}function zt(t){return!!t.g&&("GET"==t.u&&2!=t.L&&t.j.Ca)}function Bt(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?jt:(n=Number(e.substring(n,i)),isNaN(n)?Ft:(i+=1)+n>e.length?jt:(e=e.slice(i,i+n),t.C=i+n,e))}function $t(t){t.S=Date.now()+t.I,Ht(t,t.I)}function Ht(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=It(c(t.ba,t),e)}function Wt(t){t.B&&(r.clearTimeout(t.B),t.B=null)}function qt(t){0==t.j.G||t.J||ln(t.j,t)}function Kt(t){Wt(t);var e=t.M;e&&"function"==typeof e.ma&&e.ma(),t.M=null,ut(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ma())}function Gt(t,e){try{var n=t.j;if(0!=n.G&&(n.g==t||Zt(n.h,t)))if(!t.K&&Zt(n.h,t)&&3==n.G){try{var i=n.Da.g.parse(e)}catch(u){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;an(n),Qe(n)}rn(n),Tt(18)}}else n.za=r[1],0<n.za-n.T&&37500>r[2]&&n.F&&0==n.v&&!n.C&&(n.C=It(c(n.Za,n),6e3));if(1>=Jt(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((t.K||n.g==t)&&an(n),!p(e))for(r=n.Da.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const e=c[3];null!=e&&(n.la=e,n.j.info("VER="+n.la));const r=c[4];null!=r&&(n.Aa=r,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(i=1.5*u,n.L=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=i.h;s.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(te(s,s.h),s.h=null))}if(i.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(i.ya=t,ue(i.I,i.D,t))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-t.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=t;if((i=n).qa=dn(i,i.J?i.ia:null,i.W),o.K){ee(i.h,o);var a=o,l=i.L;l&&(a.I=l),a.B&&(Wt(a),$t(a)),i.g=o}else nn(i);0<n.i.length&&Je(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Ye(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Et()}catch(u){}}Ot.prototype.ca=function(t){t=t.target;const e=this.M;e&&3==We(t)?e.j():this.Y(t)},Ot.prototype.Y=function(t){try{if(t==this.g)t:{const d=We(this.g);var e=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||qe(this.g)))){this.J||4!=d||7==e||Et(),Wt(this);var n=this.g.Z();this.X=n;e:if(zt(this)){var i=qe(this.g);t="";var s=i.length,o=4==We(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Kt(this),qt(this);var a="";break e}this.h.i=new r.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:!(o&&e==s-1)});i.length=0,this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(t,e,n,i,r,s,o){t.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){e:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break e}}u=null}if(!(n=u)){this.o=!1,this.s=3,Tt(12),Kt(this),qt(this);break t}At(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gt(this,n)}if(this.P){let t;for(n=!0;!this.J&&this.C<a.length;){if(t=Bt(this,a),t==jt){4==d&&(this.s=4,Tt(14),n=!1),At(this.i,this.l,null,"[Incomplete Response]");break}if(t==Ft){this.s=4,Tt(15),At(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}At(this.i,this.l,t,null),Gt(this,t)}if(zt(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Tt(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(h),h.M=!0,Tt(11))}}else At(this.i,this.l,a,"[Invalid Chunked Response]"),Kt(this),qt(this)}else At(this.i,this.l,a,null),Gt(this,a);4==d&&Kt(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,$t(this)))}else(function(t){const e={};t=(t.g&&2<=We(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<t.length;i++){if(p(t[i]))continue;var n=_(t[i]);const r=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=e[r]||[];e[r]=s,s.push(n)}!function(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,(function(t){return t.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),Kt(this),qt(this)}}}catch(d){}},Ot.prototype.cancel=function(){this.J=!0,Kt(this)},Ot.prototype.ba=function(){this.B=null;const t=Date.now();0<=t-this.S?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.i,this.A),2!=this.L&&(Et(),Tt(17)),Kt(this),this.s=2,qt(this)):Ht(this,this.S-t)};var Yt=class{constructor(t,e){this.g=t,this.map=e}};function Qt(t){this.l=t||10,r.PerformanceNavigationTiming?t=0<(t=r.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(r.chrome&&r.chrome.loadTimes&&r.chrome.loadTimes()&&r.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xt(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Jt(t){return t.h?1:t.g?t.g.size:0}function Zt(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function te(t,e){t.g?t.g.add(e):t.h=e}function ee(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function ne(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return d(t.i)}function ie(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(s(t)||"string"===typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.na&&"function"==typeof t.na)return t.na();if(!t.V||"function"!=typeof t.V){if("undefined"!==typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!==typeof Set&&t instanceof Set)){if(s(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}(t),i=function(t){if(t.V&&"function"==typeof t.V)return t.V();if("undefined"!==typeof Map&&t instanceof Map||"undefined"!==typeof Set&&t instanceof Set)return Array.from(t.values());if("string"===typeof t)return t.split("");if(s(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}Qt.prototype.cancel=function(){if(this.i=ne(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var re=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function se(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof se){this.h=t.h,ae(this,t.j),this.o=t.o,this.g=t.g,le(this,t.s),this.l=t.l;var e=t.i,n=new xe;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ce(this,n),this.m=t.m}else t&&(e=String(t).match(re))?(this.h=!1,ae(this,e[1]||"",!0),this.o=de(e[2]||""),this.g=de(e[3]||"",!0),le(this,e[4]),this.l=de(e[5]||"",!0),ce(this,e[6]||"",!0),this.m=de(e[7]||"")):(this.h=!1,this.i=new xe(null,this.h))}function oe(t){return new se(t)}function ae(t,e,n){t.j=n?de(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function le(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.s=e}else t.s=null}function ce(t,e,n){e instanceof xe?(t.i=e,function(t,e){e&&!t.j&&(_e(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Se(this,e),ke(this,n,t))}),t)),t.j=e}(t.i,t.h)):(n||(e=fe(e,be)),t.i=new xe(e,t.h))}function ue(t,e,n){t.i.set(e,n)}function he(t){return ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function de(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fe(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,pe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}se.prototype.toString=function(){var t=[],e=this.j;e&&t.push(fe(e,ge,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.o)&&t.push(fe(e,ge,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(fe(n,"/"==n.charAt(0)?ve:ye,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.m)&&t.push("#",fe(n,we)),t.join("")};var me,ge=/[#\/\?@]/g,ye=/[#\?:]/g,ve=/[#\?]/g,be=/[#\?@]/g,we=/#/g;function xe(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function _e(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Se(t,e){_e(t),e=Te(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Ee(t,e){return _e(t),e=Te(t,e),t.g.has(e)}function ke(t,e,n){Se(t,e),0<n.length&&(t.i=null,t.g.set(Te(t,e),d(n)),t.h+=n.length)}function Te(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Ce(t,e,n,i,r){try{r&&(r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null),i(n)}catch(s){}}function Ie(){this.g=new ft}function Pe(t,e,n){const i=n||"";try{ie(t,(function(t,n){let r=t;o(t)&&(r=ht(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(OA){throw e.push(i+"type="+encodeURIComponent("_badmap")),OA}}function Ae(t){this.l=t.Ub||null,this.j=t.eb||!1}function Re(t,e){nt.call(this),this.D=t,this.o=e,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function De(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}function Me(t){t.readyState=4,t.l=null,t.j=null,t.v=null,Ne(t)}function Ne(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Oe(t){let e="";return v(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function Le(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=Oe(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):ue(t,e,n))}function Fe(t){nt.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=xe.prototype).add=function(t,e){_e(this),this.i=null,t=Te(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},t.forEach=function(t,e){_e(this),this.g.forEach((function(n,i){n.forEach((function(n){t.call(e,n,i,this)}),this)}),this)},t.na=function(){_e(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let t=0;t<r.length;t++)n.push(e[i])}return n},t.V=function(t){_e(this);let e=[];if("string"===typeof t)Ee(this,t)&&(e=e.concat(this.g.get(Te(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},t.set=function(t,e){return _e(this),this.i=null,Ee(this,t=Te(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const s=encodeURIComponent(String(i)),o=this.V(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")},h(Ae,pt),Ae.prototype.g=function(){return new Re(this.l,this.j)},Ae.prototype.i=(me={},function(){return me}),h(Re,nt),(t=Re.prototype).open=function(t,e){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=e,this.readyState=1,Ne(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||r).fetch(new Request(this.A,e)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Me(this)),this.readyState=0},t.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ne(this)),this.g&&(this.readyState=3,Ne(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof r.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;De(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var e=t.value?t.value:new Uint8Array(0);(e=this.v.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Me(this):Ne(this),3==this.readyState&&De(this)}},t.Ra=function(t){this.g&&(this.response=this.responseText=t,Me(this))},t.Qa=function(t){this.g&&(this.response=t,Me(this))},t.ga=function(){this.g&&Me(this)},t.setRequestHeader=function(t,e){this.u.append(t,e)},t.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Re.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}}),h(Fe,nt);var je=/^https?$/i,Ve=["POST","PUT"];function Ue(t,e){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=e,t.m=5,ze(t),$e(t)}function ze(t){t.A||(t.A=!0,it(t,"complete"),it(t,"error"))}function Be(t){if(t.h&&"undefined"!=typeof i&&(!t.v[1]||4!=We(t)||2!=t.Z()))if(t.u&&4==We(t))st(t.Ea,0,t);else if(it(t,"readystatechange"),4==We(t)){t.h=!1;try{const i=t.Z();t:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var s;if(s=0===i){var o=String(t.D).match(re)[1]||null;!o&&r.self&&r.self.location&&(o=r.self.location.protocol.slice(0,-1)),s=!je.test(o?o.toLowerCase():"")}n=s}if(n)it(t,"complete"),it(t,"success");else{t.m=6;try{var a=2<We(t)?t.g.statusText:""}catch(l){a=""}t.l=a+" ["+t.Z()+"]",ze(t)}}finally{$e(t)}}}function $e(t,e){if(t.g){He(t);const n=t.g,i=t.v[0]?()=>{}:null;t.g=null,t.v=null,e||it(t,"ready");try{n.onreadystatechange=i}catch(OA){}}}function He(t){t.I&&(r.clearTimeout(t.I),t.I=null)}function We(t){return t.g?t.g.readyState:0}function qe(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(px){return null}}function Ke(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ge(t){this.Aa=0,this.i=[],this.j=new Pt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ke("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ke("baseRetryDelayMs",5e3,t),this.cb=Ke("retryDelaySeedMs",1e4,t),this.Wa=Ke("forwardChannelMaxRetries",2,t),this.wa=Ke("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new Qt(t&&t.concurrentRequestLimit),this.Da=new Ie,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Ye(t){if(Xe(t),3==t.G){var e=t.U++,n=oe(t.I);if(ue(n,"SID",t.K),ue(n,"RID",e),ue(n,"TYPE","terminate"),tn(t,n),(e=new Ot(t,t.j,e)).L=2,e.v=he(oe(n)),n=!1,r.navigator&&r.navigator.sendBeacon)try{n=r.navigator.sendBeacon(e.v.toString(),"")}catch(i){}!n&&r.Image&&((new Image).src=e.v,n=!0),n||(e.g=fn(e.j,null),e.g.ea(e.v)),e.F=Date.now(),$t(e)}hn(t)}function Qe(t){t.g&&(sn(t),t.g.cancel(),t.g=null)}function Xe(t){Qe(t),t.u&&(r.clearTimeout(t.u),t.u=null),an(t),t.h.cancel(),t.s&&("number"===typeof t.s&&r.clearTimeout(t.s),t.s=null)}function Je(t){if(!Xt(t.h)&&!t.s){t.s=!0;var e=t.Ga;C||A(),I||(C(),I=!0),P.add(e,t),t.B=0}}function Ze(t,e){var n;n=e?e.l:t.U++;const i=oe(t.I);ue(i,"SID",t.K),ue(i,"RID",n),ue(i,"AID",t.T),tn(t,i),t.m&&t.o&&Le(i,t.m,t.o),n=new Ot(t,t.j,n,t.B+1),null===t.m&&(n.H=t.o),e&&(t.i=e.D.concat(t.i)),e=en(t,n,1e3),n.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),te(t.h,n),Vt(n,i,e)}function tn(t,e){t.H&&v(t.H,(function(t,n){ue(e,n,t)})),t.l&&ie({},(function(t,n){ue(e,n,t)}))}function en(t,e,n){n=Math.min(t.i.length,n);var i=t.l?c(t.l.Na,t.l,t):null;t:{var r=t.i;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=r[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let o=!0;for(let a=0;a<n;a++){let n=r[a].g;const l=r[a].map;if(n-=e,0>n)e=Math.max(0,r[a].g-100),o=!1;else try{Pe(l,t,"req"+n+"_")}catch(s){i&&i(l)}}if(o){i=t.join("&");break t}}}return t=t.i.splice(0,n),e.D=t,i}function nn(t){if(!t.g&&!t.u){t.Y=1;var e=t.Fa;C||A(),I||(C(),I=!0),P.add(e,t),t.v=0}}function rn(t){return!(t.g||t.u||3<=t.v)&&(t.Y++,t.u=It(c(t.Fa,t),cn(t,t.v)),t.v++,!0)}function sn(t){null!=t.A&&(r.clearTimeout(t.A),t.A=null)}function on(t){t.g=new Ot(t,t.j,"rpc",t.Y),null===t.m&&(t.g.H=t.o),t.g.O=0;var e=oe(t.qa);ue(e,"RID","rpc"),ue(e,"SID",t.K),ue(e,"AID",t.T),ue(e,"CI",t.F?"0":"1"),!t.F&&t.ja&&ue(e,"TO",t.ja),ue(e,"TYPE","xmlhttp"),tn(t,e),t.m&&t.o&&Le(e,t.m,t.o),t.L&&(t.g.I=t.L);var n=t.g;t=t.ia,n.L=1,n.v=he(oe(e)),n.m=null,n.P=!0,Ut(n,t)}function an(t){null!=t.C&&(r.clearTimeout(t.C),t.C=null)}function ln(t,e){var n=null;if(t.g==e){an(t),sn(t),t.g=null;var i=2}else{if(!Zt(t.h,e))return;n=e.D,ee(t.h,e),i=1}if(0!=t.G)if(e.o)if(1==i){n=e.m?e.m.length:0,e=Date.now()-e.F;var r=t.B;it(i=_t(),new Ct(i,n)),Je(t)}else nn(t);else if(3==(r=e.s)||0==r&&0<e.X||!(1==i&&function(t,e){return!(Jt(t.h)>=t.h.j-(t.s?1:0))&&(t.s?(t.i=e.D.concat(t.i),!0):!(1==t.G||2==t.G||t.B>=(t.Va?0:t.Wa))&&(t.s=It(c(t.Ga,t,e),cn(t,t.B)),t.B++,!0))}(t,e)||2==i&&rn(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),r){case 1:un(t,5);break;case 4:un(t,10);break;case 3:un(t,6);break;default:un(t,2)}}function cn(t,e){let n=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(n*=2),n*e}function un(t,e){if(t.j.info("Error code "+e),2==e){var n=c(t.fb,t),i=t.Xa;const e=!i;i=new se(i||"//www.google.com/images/cleardot.gif"),r.location&&"http"==r.location.protocol||ae(i,"https"),he(i),e?function(t,e){const n=new Pt;if(r.Image){const i=new Image;i.onload=u(Ce,n,"TestLoadImage: loaded",!0,e,i),i.onerror=u(Ce,n,"TestLoadImage: error",!1,e,i),i.onabort=u(Ce,n,"TestLoadImage: abort",!1,e,i),i.ontimeout=u(Ce,n,"TestLoadImage: timeout",!1,e,i),r.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}(i.toString(),n):function(t,e){new Pt;const n=new AbortController,i=setTimeout((()=>{n.abort(),Ce(0,0,!1,e)}),1e4);fetch(t,{signal:n.signal}).then((t=>{clearTimeout(i),t.ok?Ce(0,0,!0,e):Ce(0,0,!1,e)})).catch((()=>{clearTimeout(i),Ce(0,0,!1,e)}))}(i.toString(),n)}else Tt(2);t.G=0,t.l&&t.l.sa(e),hn(t),Xe(t)}function hn(t){if(t.G=0,t.ka=[],t.l){const e=ne(t.h);0==e.length&&0==t.i.length||(f(t.ka,e),f(t.ka,t.i),t.h.i.length=0,d(t.i),t.i.length=0),t.l.ra()}}function dn(t,e,n){var i=n instanceof se?oe(n):new se(n);if(""!=i.g)e&&(i.g=e+"."+i.g),le(i,i.s);else{var s=r.location;i=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new se(null);i&&ae(o,i),e&&(o.g=e),s&&le(o,s),n&&(o.l=n),i=o}return n=t.D,e=t.ya,n&&e&&ue(i,n,e),ue(i,"VER",t.la),tn(t,i),i}function fn(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t.Ca&&!t.pa?new Fe(new Ae({eb:n})):new Fe(t.pa)).Ha(t.J),e}function pn(){}function mn(){}function gn(t,e){nt.call(this),this.g=new Ge(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.va&&(t?t["X-WebChannel-Client-Profile"]=e.va:t={"X-WebChannel-Client-Profile":e.va}),this.g.S=t,(t=e&&e.Sb)&&!p(t)&&(this.g.m=t),this.v=e&&e.supportsCrossDomainXhr||!1,this.u=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!p(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new bn(this)}function yn(t){vt.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function vn(){bt.call(this),this.status=1}function bn(t){this.g=t}(t=Fe.prototype).Ha=function(t){this.J=t},t.ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rt.g(),this.v=this.o?mt(this.o):mt(Rt),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(e,String(t),!0),this.B=!1}catch(o){return void Ue(this,o)}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else{if("function"!==typeof i.keys||"function"!==typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const t of i.keys())n.set(t,i.get(t))}i=Array.from(n.keys()).find((t=>"content-type"==t.toLowerCase())),s=r.FormData&&t instanceof r.FormData,!(0<=Array.prototype.indexOf.call(Ve,e,void 0))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,a]of n)this.g.setRequestHeader(r,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{He(this),this.u=!0,this.g.send(t),this.u=!1}catch(o){Ue(this,o)}},t.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,it(this,"complete"),it(this,"abort"),$e(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$e(this,!0)),Fe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Be(this):this.bb())},t.bb=function(){Be(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<We(this)?this.g.status:-1}catch(me){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(me){return""}},t.Oa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),dt(e)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(t=Ge.prototype).la=8,t.G=1,t.connect=function(t,e,n,i){Tt(0),this.W=t,this.H=e||{},n&&void 0!==i&&(this.H.OSID=n,this.H.OAID=i),this.F=this.X,this.I=dn(this,null,this.W),Je(this)},t.Ga=function(t){if(this.s)if(this.s=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const r=new Ot(this,this.j,t);let s=this.o;if(this.S&&(s?(s=b(s),x(s,this.S)):s=this.S),null!==this.m||this.O||(r.H=s,s=null),this.P)t:{for(var e=0,n=0;n<this.i.length;n++){var i=this.i[n];if(void 0===(i="__data__"in i.map&&"string"===typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=n;break t}if(4096===e||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=en(this,r,e),ue(n=oe(this.I),"RID",t),ue(n,"CVER",22),this.D&&ue(n,"X-HTTP-Session-Id",this.D),tn(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Oe(s)))+"&"+e:this.m&&Le(n,this.m,s)),te(this.h,r),this.Ua&&ue(n,"TYPE","init"),this.P?(ue(n,"$req",e),ue(n,"SID","null"),r.T=!0,Vt(r,n,null)):Vt(r,n,e),this.G=2}}else 3==this.G&&(t?Ze(this,t):0==this.i.length||Xt(this.h)||Ze(this))},t.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=It(c(this.ab,this),t)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Qe(this),on(this))},t.Za=function(){null!=this.C&&(this.C=null,Qe(this),rn(this),Tt(19))},t.fb=function(t){t?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=pn.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},mn.prototype.g=function(t,e){return new gn(t,e)},h(gn,nt),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Ye(this.g)},gn.prototype.o=function(t){var e=this.g;if("string"===typeof t){var n={};n.__data__=t,t=n}else this.u&&((n={}).__data__=ht(t),t=n);e.i.push(new Yt(e.Ya++,t)),3==e.G&&Je(e)},gn.prototype.N=function(){this.g.l=null,delete this.j,Ye(this.g),delete this.g,gn.aa.N.call(this)},h(yn,vt),h(vn,bt),h(bn,pn),bn.prototype.ua=function(){it(this.g,"a")},bn.prototype.ta=function(t){it(this.g,new yn(t))},bn.prototype.sa=function(t){it(this.g,new vn)},bn.prototype.ra=function(){it(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,ux=dx.createWebChannelTransport=function(){return new mn},cx=dx.getStatEventTarget=function(){return _t()},lx=dx.Event=wt,ax=dx.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dt.NO_ERROR=0,Dt.TIMEOUT=8,Dt.HTTP_ERROR=6,ox=dx.ErrorCode=Dt,Mt.COMPLETE="complete",sx=dx.EventType=Mt,gt.EventType=yt,yt.OPEN="a",yt.CLOSE="b",yt.ERROR="c",yt.MESSAGE="d",nt.prototype.listen=nt.prototype.K,rx=dx.WebChannel=gt,dx.FetchXmlHttpFactory=Ae,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,ix=dx.XhrIo=Fe}).apply("undefined"!==typeof hx?hx:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const fx="@firebase/firestore",px="4.7.10";class mx{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}mx.UNAUTHENTICATED=new mx(null),mx.GOOGLE_CREDENTIALS=new mx("google-credentials-uid"),mx.FIRST_PARTY=new mx("first-party-uid"),mx.MOCK_USER=new mx("mock-user");let gx="11.5.0";const yx=new og("@firebase/firestore");function vx(){return yx.logLevel}function bx(t){if(yx.logLevel<=eg.DEBUG){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(_x);yx.debug(`Firestore (${gx}): ${t}`,...r)}}function wx(t){if(yx.logLevel<=eg.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(_x);yx.error(`Firestore (${gx}): ${t}`,...r)}}function xx(t){if(yx.logLevel<=eg.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(_x);yx.warn(`Firestore (${gx}): ${t}`,...r)}}function _x(t){if("string"==typeof t)return t;try{return function(t){return JSON.stringify(t)}(t)}catch(e){return t}}function Sx(){const t=`FIRESTORE (${gx}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw wx(t),new Error(t)}function Ex(t,e){t||Sx()}function kx(t,e){return t}const Tx={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Cx extends Vm{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ix{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Px{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ax{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(mx.UNAUTHENTICATED)))}shutdown(){}}class Rx{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class Dx{constructor(t){this.t=t,this.currentUser=mx.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Ex(void 0===this.o);let n=this.i;const i=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let r=new Ix;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Ix,t.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const e=r;t.enqueueRetryable((async()=>{await e.promise,await i(this.currentUser)}))},o=t=>{bx("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(bx("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Ix)}}),0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(bx("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Ex("string"==typeof e.accessToken),new Px(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ex(null===t||"string"==typeof t),new mx(t)}}class Mx{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=mx.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Nx{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new Mx(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable((()=>e(mx.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ox{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lx{constructor(t,e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ay(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,e){Ex(void 0===this.o);const n=t=>{null!=t.error&&bx("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const n=t.token!==this.R;return this.R=t.token,bx("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const i=t=>{bx("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((t=>i(t))),setTimeout((()=>{if(!this.appCheck){const t=this.A.getImmediate({optional:!0});t?i(t):bx("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new Ox(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(Ex("string"==typeof t.token),this.R=t.token,new Ox(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Fx(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}function jx(){return new TextEncoder}class Vx{static newId(){const t=62*Math.floor(256/62);let e="";for(;e.length<20;){const n=Fx(40);for(let i=0;i<n.length;++i)e.length<20&&n[i]<t&&(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[i]%62))}return e}}function Ux(t,e){return t<e?-1:t>e?1:0}function zx(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),r=e.codePointAt(n);if(i!==r){if(i<128&&r<128)return Ux(i,r);{const s=jx(),o=$x(s.encode(Bx(t,n)),s.encode(Bx(e,n)));return 0!==o?o:Ux(i,r)}}n+=i>65535?2:1}return Ux(t.length,e.length)}function Bx(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function $x(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ux(t[n],e[n]);return Ux(t.length,e.length)}function Hx(t,e,n){return t.length===e.length&&t.every(((t,i)=>n(t,e[i])))}const Wx=-62135596800,qx=1e6;class Kx{static now(){return Kx.fromMillis(Date.now())}static fromDate(t){return Kx.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor((t-1e3*e)*qx);return new Kx(e,n)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Cx(Tx.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Cx(Tx.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Wx)throw new Cx(Tx.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Cx(Tx.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qx}_compareTo(t){return this.seconds===t.seconds?Ux(this.nanoseconds,t.nanoseconds):Ux(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Wx;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Gx{static fromTimestamp(t){return new Gx(t)}static min(){return new Gx(new Kx(0,0))}static max(){return new Gx(new Kx(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yx="__name__";class Qx{constructor(t,e,n){void 0===e?e=0:e>t.length&&Sx(),void 0===n?n=t.length-e:n>t.length-e&&Sx(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Qx.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Qx?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const n=Qx.compareSegments(t.get(i),e.get(i));if(0!==n)return n}return Ux(t.length,e.length)}static compareSegments(t,e){const n=Qx.isNumericId(t),i=Qx.isNumericId(e);return n&&!i?-1:!n&&i?1:n&&i?Qx.extractNumericId(t).compare(Qx.extractNumericId(e)):zx(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zw.fromString(t.substring(4,t.length-2))}}class Xx extends Qx{construct(t,e,n){return new Xx(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const t=[];for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n){if(r.indexOf("//")>=0)throw new Cx(Tx.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((t=>t.length>0)))}return new Xx(t)}static emptyPath(){return new Xx([])}}const Jx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zx extends Qx{construct(t,e,n){return new Zx(t,e,n)}static isValidIdentifier(t){return Jx.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zx.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Yx}static keyField(){return new Zx([Yx])}static fromServerFormat(t){const e=[];let n="",i=0;const r=()=>{if(0===n.length)throw new Cx(Tx.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let s=!1;for(;i<t.length;){const e=t[i];if("\\"===e){if(i+1===t.length)throw new Cx(Tx.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[i+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new Cx(Tx.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,i+=2}else"`"===e?(s=!s,i++):"."!==e||s?(n+=e,i++):(r(),i++)}if(r(),s)throw new Cx(Tx.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Zx(e)}static emptyPath(){return new Zx([])}}class t_{constructor(t){this.path=t}static fromPath(t){return new t_(Xx.fromString(t))}static fromName(t){return new t_(Xx.fromString(t).popFirst(5))}static empty(){return new t_(Xx.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Xx.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Xx.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new t_(new Xx(t.slice()))}}const e_=-1;class n_{constructor(t,e,n,i){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=i}}n_.UNKNOWN_ID=-1;function i_(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Gx.fromTimestamp(1e9===i?new Kx(n+1,0):new Kx(n,i));return new s_(r,t_.empty(),e)}function r_(t){return new s_(t.readTime,t.key,e_)}class s_{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new s_(Gx.min(),t_.empty(),e_)}static max(){return new s_(Gx.max(),t_.empty(),e_)}}function o_(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=t_.comparator(t.documentKey,e.documentKey),0!==n?n:Ux(t.largestBatchId,e.largestBatchId))}const a_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function c_(t){if(t.code!==Tx.FAILED_PRECONDITION||t.message!==a_)throw t;bx("LocalStore","Unexpectedly lost primary lease")}class u_{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Sx(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new u_(((n,i)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,i)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,i)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof u_?e:u_.resolve(e)}catch(t){return u_.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):u_.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):u_.reject(e)}static resolve(t){return new u_(((e,n)=>{e(t)}))}static reject(t){return new u_(((e,n)=>{n(t)}))}static waitFor(t){return new u_(((e,n)=>{let i=0,r=0,s=!1;t.forEach((t=>{++i,t.next((()=>{++r,s&&r===i&&e()}),(t=>n(t)))})),s=!0,r===i&&e()}))}static or(t){let e=u_.resolve(!1);for(const n of t)e=e.next((t=>t?u_.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,i)=>{n.push(e.call(this,t,i))})),this.waitFor(n)}static mapArray(t,e){return new u_(((n,i)=>{const r=t.length,s=new Array(r);let o=0;for(let a=0;a<r;a++){const l=a;e(t[l]).next((t=>{s[l]=t,++o,o===r&&n(s)}),(t=>i(t)))}}))}static doWhile(t,e){return new u_(((n,i)=>{const r=()=>{!0===t()?e().next((()=>{r()}),i):n()};r()}))}}function h_(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function d_(t){return"IndexedDbTransactionError"===t.name}class f_{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.oe(t),this._e=t=>e.writeSequenceNumber(t))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}f_.ae=-1;const p_=-1;function m_(t){return null==t}function g_(t){return 0===t&&1/t==-1/0}function y_(t){return"number"==typeof t&&Number.isInteger(t)&&!g_(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const v_="\x01";function b_(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=x_(e)),e=w_(t.get(n),e);return x_(e)}function w_(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const e=t.charAt(r);switch(e){case"\0":n+="\x01\x10";break;case v_:n+="\x01\x11";break;default:n+=e}}return n}function x_(t){return t+v_+"\x01"}const __="remoteDocuments",S_="owner",E_="mutationQueues",k_="mutations";const T_="documentMutations",C_="remoteDocumentsV14",I_="remoteDocumentGlobal",P_="targets",A_="targetDocuments",R_="targetGlobal",D_="collectionParents",M_="clientMetadata",N_="bundles",O_="namedQueries",L_="indexConfiguration",F_="indexState",j_="indexEntries",V_="documentOverlays",U_="globals",z_=[E_,k_,T_,__,P_,S_,R_,A_,M_,I_,D_,N_,O_],B_=[E_,k_,T_,C_,P_,S_,R_,A_,M_,I_,D_,N_,O_,V_],$_=B_,H_=[...$_,L_,F_,j_];function W_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function q_(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function K_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class G_{constructor(t,e){this.comparator=t,this.root=e||Q_.EMPTY}insert(t,e){return new G_(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Q_.BLACK,null,null))}remove(t){return new G_(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Q_.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Y_(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Y_(this.root,t,this.comparator,!1)}getReverseIterator(){return new Y_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Y_(this.root,t,this.comparator,!0)}}class Y_{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=e?n(t.key,e):1,e&&i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Q_{constructor(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:Q_.RED,this.left=null!=i?i:Q_.EMPTY,this.right=null!=r?r:Q_.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,r){return new Q_(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const r=n(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Q_.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return Q_.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Q_.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Q_.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Sx();if(this.right.isRed())throw Sx();const t=this.left.check();if(t!==this.right.check())throw Sx();return t+(this.isRed()?0:1)}}Q_.EMPTY=null,Q_.RED=!0,Q_.BLACK=!1,Q_.EMPTY=new class{constructor(){this.size=0}get key(){throw Sx()}get value(){throw Sx()}get color(){throw Sx()}get left(){throw Sx()}get right(){throw Sx()}copy(t,e,n,i,r){return this}insert(t,e,n){return new Q_(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class X_{constructor(t){this.comparator=t,this.data=new G_(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new J_(this.data.getIterator())}getIteratorFrom(t){return new J_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof X_))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(t,i))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new X_(this.comparator);return e.data=t,e}}class J_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Z_{constructor(t){this.fields=t,t.sort(Zx.comparator)}static empty(){return new Z_([])}unionWith(t){let e=new X_(Zx.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new Z_(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Hx(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class tS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class eS{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new tS("Invalid base64 string: "+t):t}}(t);return new eS(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new eS(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ux(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}eS.EMPTY_BYTE_STRING=new eS("");const nS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function iS(t){if(Ex(!!t),"string"==typeof t){let e=0;const n=nS.exec(t);if(Ex(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:rS(t.seconds),nanos:rS(t.nanos)}}function rS(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function sS(t){return"string"==typeof t?eS.fromBase64String(t):eS.fromUint8Array(t)}const oS="server_timestamp",aS="__type__",lS="__previous_value__",cS="__local_write_time__";function uS(t){var e,n;return(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{})[aS])||void 0===n?void 0:n.stringValue)===oS}function hS(t){const e=t.mapValue.fields[lS];return uS(e)?hS(e):e}function dS(t){const e=iS(t.mapValue.fields[cS].timestampValue);return new Kx(e.seconds,e.nanos)}class fS{constructor(t,e,n,i,r,s,o,a,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}const pS="(default)";class mS{constructor(t,e){this.projectId=t,this.database=e||pS}static empty(){return new mS("","")}get isDefaultDatabase(){return this.database===pS}isEqual(t){return t instanceof mS&&t.projectId===this.projectId&&t.database===this.database}}const gS="__type__",yS="__max__",vS={mapValue:{fields:{__type__:{stringValue:yS}}}},bS="__vector__",wS="value";function xS(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uS(t)?4:FS(t)?9007199254740991:OS(t)?10:11:Sx()}function _S(t,e){if(t===e)return!0;const n=xS(t);if(n!==xS(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dS(t).isEqual(dS(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=iS(t.timestampValue),i=iS(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return sS(t.bytesValue).isEqual(sS(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return rS(t.geoPointValue.latitude)===rS(e.geoPointValue.latitude)&&rS(t.geoPointValue.longitude)===rS(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return rS(t.integerValue)===rS(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=rS(t.doubleValue),i=rS(e.doubleValue);return n===i?g_(n)===g_(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return Hx(t.arrayValue.values||[],e.arrayValue.values||[],_S);case 10:case 11:return function(t,e){const n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(W_(n)!==W_(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!_S(n[r],i[r])))return!1;return!0}(t,e);default:return Sx()}}function SS(t,e){return void 0!==(t.values||[]).find((t=>_S(t,e)))}function ES(t,e){if(t===e)return 0;const n=xS(t),i=xS(e);if(n!==i)return Ux(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ux(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=rS(t.integerValue||t.doubleValue),i=rS(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return kS(t.timestampValue,e.timestampValue);case 4:return kS(dS(t),dS(e));case 5:return zx(t.stringValue,e.stringValue);case 6:return function(t,e){const n=sS(t),i=sS(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),i=e.split("/");for(let r=0;r<n.length&&r<i.length;r++){const t=Ux(n[r],i[r]);if(0!==t)return t}return Ux(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=Ux(rS(t.latitude),rS(e.latitude));return 0!==n?n:Ux(rS(t.longitude),rS(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return TS(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n,i,r,s;const o=t.fields||{},a=e.fields||{},l=null===(n=o[wS])||void 0===n?void 0:n.arrayValue,c=null===(i=a[wS])||void 0===i?void 0:i.arrayValue,u=Ux((null===(r=null==l?void 0:l.values)||void 0===r?void 0:r.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:TS(l,c)}(t.mapValue,e.mapValue);case 11:return function(t,e){if(t===vS.mapValue&&e===vS.mapValue)return 0;if(t===vS.mapValue)return 1;if(e===vS.mapValue)return-1;const n=t.fields||{},i=Object.keys(n),r=e.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let o=0;o<i.length&&o<s.length;++o){const t=zx(i[o],s[o]);if(0!==t)return t;const e=ES(n[i[o]],r[s[o]]);if(0!==e)return e}return Ux(i.length,s.length)}(t.mapValue,e.mapValue);default:throw Sx()}}function kS(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ux(t,e);const n=iS(t),i=iS(e),r=Ux(n.seconds,i.seconds);return 0!==r?r:Ux(n.nanos,i.nanos)}function TS(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const t=ES(n[r],i[r]);if(t)return t}return Ux(n.length,i.length)}function CS(t){return IS(t)}function IS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=iS(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(t){return sS(t).toBase64()}(t.bytesValue):"referenceValue"in t?function(t){return t_.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return`geo(${t.latitude},${t.longitude})`}(t.geoPointValue):"arrayValue"in t?function(t){let e="[",n=!0;for(const i of t.values||[])n?n=!1:e+=",",e+=IS(i);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",i=!0;for(const r of e)i?i=!1:n+=",",n+=`${r}:${IS(t.fields[r])}`;return n+"}"}(t.mapValue):Sx()}function PS(t){switch(xS(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hS(t);return e?16+PS(e):16;case 5:return 2*t.stringValue.length;case 6:return sS(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(t){return(t.values||[]).reduce(((t,e)=>t+PS(e)),0)}(t.arrayValue);case 10:case 11:return function(t){let e=0;return q_(t.fields,((t,n)=>{e+=t.length+PS(n)})),e}(t.mapValue);default:throw Sx()}}function AS(t){return!!t&&"integerValue"in t}function RS(t){return!!t&&"arrayValue"in t}function DS(t){return!!t&&"nullValue"in t}function MS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function NS(t){return!!t&&"mapValue"in t}function OS(t){var e,n;return(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{})[gS])||void 0===n?void 0:n.stringValue)===bS}function LS(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return q_(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=LS(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=LS(t.arrayValue.values[n]);return e}return Object.assign({},t)}function FS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===yS}class jS{constructor(t){this.value=t}static empty(){return new jS({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!NS(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=LS(e)}setAll(t){let e=Zx.emptyPath(),n={},i=[];t.forEach(((t,r)=>{if(!e.isImmediateParentOf(r)){const t=this.getFieldsMap(e);this.applyChanges(t,n,i),n={},i=[],e=r.popLast()}t?n[r.lastSegment()]=LS(t):i.push(r.lastSegment())}));const r=this.getFieldsMap(e);this.applyChanges(r,n,i)}delete(t){const e=this.field(t.popLast());NS(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return _S(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=e.mapValue.fields[t.get(n)];NS(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,n){q_(e,((e,n)=>t[e]=n));for(const i of n)delete t[i]}clone(){return new jS(LS(this.value))}}function VS(t){const e=[];return q_(t.fields,((t,n)=>{const i=new Zx([t]);if(NS(n)){const t=VS(n.mapValue).fields;if(0===t.length)e.push(i);else for(const n of t)e.push(i.child(n))}else e.push(i)})),new Z_(e)}class US{constructor(t,e,n,i,r,s,o){this.key=t,this.documentType=e,this.version=n,this.readTime=i,this.createTime=r,this.data=s,this.documentState=o}static newInvalidDocument(t){return new US(t,0,Gx.min(),Gx.min(),Gx.min(),jS.empty(),0)}static newFoundDocument(t,e,n,i){return new US(t,1,e,Gx.min(),n,i,0)}static newNoDocument(t,e){return new US(t,2,e,Gx.min(),Gx.min(),jS.empty(),0)}static newUnknownDocument(t,e){return new US(t,3,e,Gx.min(),Gx.min(),jS.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Gx.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=jS.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=jS.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gx.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof US&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new US(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zS{constructor(t,e){this.position=t,this.inclusive=e}}function BS(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(i=s.field.isKeyField()?t_.comparator(t_.fromName(o.referenceValue),n.key):ES(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function $S(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_S(t.position[n],e.position[n]))return!1;return!0}class HS{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=t,this.dir=e}}function WS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class qS{}class KS extends qS{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new eE(t,e,n):"array-contains"===e?new sE(t,n):"in"===e?new oE(t,n):"not-in"===e?new aE(t,n):"array-contains-any"===e?new lE(t,n):new KS(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new nE(t,n):new iE(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(ES(e,this.value)):null!==e&&xS(this.value)===xS(e)&&this.matchesComparison(ES(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Sx()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class GS extends qS{constructor(t,e){super(),this.filters=t,this.op=e,this.ce=null}static create(t,e){return new GS(t,e)}matches(t){return YS(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function YS(t){return"and"===t.op}function QS(t){return XS(t)&&YS(t)}function XS(t){for(const e of t.filters)if(e instanceof GS)return!1;return!0}function JS(t){if(t instanceof KS)return t.field.canonicalString()+t.op.toString()+CS(t.value);if(QS(t))return t.filters.map((t=>JS(t))).join(",");{const e=t.filters.map((t=>JS(t))).join(",");return`${t.op}(${e})`}}function ZS(t,e){return t instanceof KS?function(t,e){return e instanceof KS&&t.op===e.op&&t.field.isEqual(e.field)&&_S(t.value,e.value)}(t,e):t instanceof GS?function(t,e){return e instanceof GS&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,n,i)=>t&&ZS(n,e.filters[i])),!0)}(t,e):void Sx()}function tE(t){return t instanceof KS?function(t){return`${t.field.canonicalString()} ${t.op} ${CS(t.value)}`}(t):t instanceof GS?function(t){return t.op.toString()+" {"+t.getFilters().map(tE).join(" ,")+"}"}(t):"Filter"}class eE extends KS{constructor(t,e,n){super(t,e,n),this.key=t_.fromName(n.referenceValue)}matches(t){const e=t_.comparator(t.key,this.key);return this.matchesComparison(e)}}class nE extends KS{constructor(t,e){super(t,"in",e),this.keys=rE("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class iE extends KS{constructor(t,e){super(t,"not-in",e),this.keys=rE("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function rE(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>t_.fromName(t.referenceValue)))}class sE extends KS{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return RS(e)&&SS(e.arrayValue,this.value)}}class oE extends KS{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&SS(this.value.arrayValue,e)}}class aE extends KS{constructor(t,e){super(t,"not-in",e)}matches(t){if(SS(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!SS(this.value.arrayValue,e)}}class lE extends KS{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!RS(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>SS(this.value.arrayValue,t)))}}class cE{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.le=null}}function uE(t){return new cE(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function hE(t){const e=kx(t);if(null===e.le){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>JS(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),m_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>CS(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>CS(t))).join(",")),e.le=t}return e.le}function dE(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!WS(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$S(t.startAt,e.startAt)&&$S(t.endAt,e.endAt)}function fE(t){return t_.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class pE{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function mE(t,e,n,i,r,s,o,a){return new pE(t,e,n,i,r,s,o,a)}function gE(t){return new pE(t)}function yE(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function vE(t){return null!==t.collectionGroup}function bE(t){const e=kx(t);if(null===e.he){e.he=[];const t=new Set;for(const r of e.explicitOrderBy)e.he.push(r),t.add(r.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",i=function(t){let e=new X_(Zx.comparator);return t.filters.forEach((t=>{t.getFlattenedFilters().forEach((t=>{t.isInequality()&&(e=e.add(t.field))}))})),e}(e);i.forEach((i=>{t.has(i.canonicalString())||i.isKeyField()||e.he.push(new HS(i,n))})),t.has(Zx.keyField().canonicalString())||e.he.push(new HS(Zx.keyField(),n))}return e.he}function wE(t){const e=kx(t);return e.Pe||(e.Pe=xE(e,bE(t))),e.Pe}function xE(t,e){if("F"===t.limitType)return uE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((t=>{const e="desc"===t.dir?"asc":"desc";return new HS(t.field,e)}));const n=t.endAt?new zS(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new zS(t.startAt.position,t.startAt.inclusive):null;return uE(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function _E(t,e,n){return new pE(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function SE(t,e){return dE(wE(t),wE(e))&&t.limitType===e.limitType}function EE(t){return`${hE(wE(t))}|lt:${t.limitType}`}function kE(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>tE(t))).join(", ")}]`),m_(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>CS(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>CS(t))).join(",")),`Target(${e})`}(wE(t))}; limitType=${t.limitType})`}function TE(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):t_.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of bE(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const i=BS(t,e,n);return t.inclusive?i<=0:i<0}(t.startAt,bE(t),e))&&!(t.endAt&&!function(t,e,n){const i=BS(t,e,n);return t.inclusive?i>=0:i>0}(t.endAt,bE(t),e))}(t,e)}function CE(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IE(t){return(e,n)=>{let i=!1;for(const r of bE(t)){const t=PE(r,e,n);if(0!==t)return t;i=i||r.field.isKeyField()}return 0}}function PE(t,e,n){const i=t.field.isKeyField()?t_.comparator(e.key,n.key):function(t,e,n){const i=e.data.field(t),r=n.data.field(t);return null!==i&&null!==r?ES(i,r):Sx()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Sx()}}class AE{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,t))return r}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),i=this.inner[n];if(void 0===i)return this.inner[n]=[[t,e]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){q_(this.inner,((e,n)=>{for(const[i,r]of n)t(i,r)}))}isEmpty(){return K_(this.inner)}size(){return this.innerSize}}const RE=new G_(t_.comparator);function DE(){return RE}const ME=new G_(t_.comparator);function NE(){let t=ME;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n)t=t.insert(r.key,r);return t}function OE(t){let e=ME;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function LE(){return jE()}function FE(){return jE()}function jE(){return new AE((t=>t.toString()),((t,e)=>t.isEqual(e)))}const VE=new G_(t_.comparator),UE=new X_(t_.comparator);function zE(){let t=UE;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n)t=t.add(r);return t}const BE=new X_(Ux);function $E(){return BE}function HE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:g_(e)?"-0":e}}function WE(t){return{integerValue:""+t}}function qE(t,e){return y_(e)?WE(e):HE(t,e)}class KE{constructor(){this._=void 0}}function GE(t,e,n){return t instanceof XE?function(t,e){const n={fields:{[aS]:{stringValue:oS},[cS]:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&uS(e)&&(e=hS(e)),e&&(n.fields[lS]=e),{mapValue:n}}(n,e):t instanceof JE?ZE(t,e):t instanceof tk?ek(t,e):function(t,e){const n=QE(t,e),i=ik(n)+ik(t.Ie);return AS(n)&&AS(t.Ie)?WE(i):HE(t.serializer,i)}(t,e)}function YE(t,e,n){return t instanceof JE?ZE(t,e):t instanceof tk?ek(t,e):n}function QE(t,e){return t instanceof nk?function(t){return AS(t)||function(t){return!!t&&"doubleValue"in t}(t)}(e)?e:{integerValue:0}:null}class XE extends KE{}class JE extends KE{constructor(t){super(),this.elements=t}}function ZE(t,e){const n=rk(e);for(const i of t.elements)n.some((t=>_S(t,i)))||n.push(i);return{arrayValue:{values:n}}}class tk extends KE{constructor(t){super(),this.elements=t}}function ek(t,e){let n=rk(e);for(const i of t.elements)n=n.filter((t=>!_S(t,i)));return{arrayValue:{values:n}}}class nk extends KE{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function ik(t){return rS(t.integerValue||t.doubleValue)}function rk(t){return RS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class sk{constructor(t,e){this.version=t,this.transformResults=e}}class ok{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ok}static exists(t){return new ok(void 0,t)}static updateTime(t){return new ok(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ak(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class lk{}function ck(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new bk(t.key,ok.none()):new pk(t.key,t.data,ok.none());{const n=t.data,i=jS.empty();let r=new X_(Zx.comparator);for(let t of e.fields)if(!r.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?i.delete(t):i.set(t,e),r=r.add(t)}return new mk(t.key,i,new Z_(r.toArray()),ok.none())}}function uk(t,e,n){t instanceof pk?function(t,e,n){const i=t.value.clone(),r=yk(t.fieldTransforms,e,n.transformResults);i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof mk?function(t,e,n){if(!ak(t.precondition,e))return void e.convertToUnknownDocument(n.version);const i=yk(t.fieldTransforms,e,n.transformResults),r=e.data;r.setAll(gk(t)),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function hk(t,e,n,i){return t instanceof pk?function(t,e,n,i){if(!ak(t.precondition,e))return n;const r=t.value.clone(),s=vk(t.fieldTransforms,i,e);return r.setAll(s),e.convertToFoundDocument(e.version,r).setHasLocalMutations(),null}(t,e,n,i):t instanceof mk?function(t,e,n,i){if(!ak(t.precondition,e))return n;const r=vk(t.fieldTransforms,i,e),s=e.data;return s.setAll(gk(t)),s.setAll(r),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,i):function(t,e,n){return ak(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function dk(t,e){let n=null;for(const i of t.fieldTransforms){const t=e.data.field(i.field),r=QE(i.transform,t||null);null!=r&&(null===n&&(n=jS.empty()),n.set(i.field,r))}return n||null}function fk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Hx(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof JE&&e instanceof JE||t instanceof tk&&e instanceof tk?Hx(t.elements,e.elements,_S):t instanceof nk&&e instanceof nk?_S(t.Ie,e.Ie):t instanceof XE&&e instanceof XE}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pk extends lk{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class mk extends lk{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function gk(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function yk(t,e,n){const i=new Map;Ex(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,YE(o,a,n[r]))}return i}function vk(t,e,n){const i=new Map;for(const r of t){const t=r.transform,s=n.data.field(r.field);i.set(r.field,GE(t,s,e))}return i}class bk extends lk{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wk extends lk{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xk{constructor(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const e=this.mutations[i];e.key.isEqual(t.key)&&uk(e,t,n[i])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=hk(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=hk(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=FE();return this.mutations.forEach((i=>{const r=t.get(i.key),s=r.overlayedDocument;let o=this.applyToLocalView(s,r.mutatedFields);o=e.has(i.key)?null:o;const a=ck(s,o);null!==a&&n.set(i.key,a),s.isValidDocument()||s.convertToNoDocument(Gx.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),zE())}isEqual(t){return this.batchId===t.batchId&&Hx(this.mutations,t.mutations,((t,e)=>fk(t,e)))&&Hx(this.baseMutations,t.baseMutations,((t,e)=>fk(t,e)))}}class _k{constructor(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}static from(t,e,n){Ex(t.mutations.length===n.length);let i=VE;const r=t.mutations;for(let s=0;s<r.length;s++)i=i.insert(r[s].key,n[s].version);return new _k(t,e,n,i)}}class Sk{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ek{constructor(t,e){this.count=t,this.unchangedNames=e}}var kk,Tk;function Ck(t){switch(t){case Tx.OK:return Sx();case Tx.CANCELLED:case Tx.UNKNOWN:case Tx.DEADLINE_EXCEEDED:case Tx.RESOURCE_EXHAUSTED:case Tx.INTERNAL:case Tx.UNAVAILABLE:case Tx.UNAUTHENTICATED:return!1;case Tx.INVALID_ARGUMENT:case Tx.NOT_FOUND:case Tx.ALREADY_EXISTS:case Tx.PERMISSION_DENIED:case Tx.FAILED_PRECONDITION:case Tx.ABORTED:case Tx.OUT_OF_RANGE:case Tx.UNIMPLEMENTED:case Tx.DATA_LOSS:return!0;default:return Sx()}}function Ik(t){if(void 0===t)return wx("GRPC error has no .code"),Tx.UNKNOWN;switch(t){case kk.OK:return Tx.OK;case kk.CANCELLED:return Tx.CANCELLED;case kk.UNKNOWN:return Tx.UNKNOWN;case kk.DEADLINE_EXCEEDED:return Tx.DEADLINE_EXCEEDED;case kk.RESOURCE_EXHAUSTED:return Tx.RESOURCE_EXHAUSTED;case kk.INTERNAL:return Tx.INTERNAL;case kk.UNAVAILABLE:return Tx.UNAVAILABLE;case kk.UNAUTHENTICATED:return Tx.UNAUTHENTICATED;case kk.INVALID_ARGUMENT:return Tx.INVALID_ARGUMENT;case kk.NOT_FOUND:return Tx.NOT_FOUND;case kk.ALREADY_EXISTS:return Tx.ALREADY_EXISTS;case kk.PERMISSION_DENIED:return Tx.PERMISSION_DENIED;case kk.FAILED_PRECONDITION:return Tx.FAILED_PRECONDITION;case kk.ABORTED:return Tx.ABORTED;case kk.OUT_OF_RANGE:return Tx.OUT_OF_RANGE;case kk.UNIMPLEMENTED:return Tx.UNIMPLEMENTED;case kk.DATA_LOSS:return Tx.DATA_LOSS;default:return Sx()}}(Tk=kk||(kk={}))[Tk.OK=0]="OK",Tk[Tk.CANCELLED=1]="CANCELLED",Tk[Tk.UNKNOWN=2]="UNKNOWN",Tk[Tk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tk[Tk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tk[Tk.NOT_FOUND=5]="NOT_FOUND",Tk[Tk.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tk[Tk.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tk[Tk.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tk[Tk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tk[Tk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tk[Tk.ABORTED=10]="ABORTED",Tk[Tk.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tk[Tk.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tk[Tk.INTERNAL=13]="INTERNAL",Tk[Tk.UNAVAILABLE=14]="UNAVAILABLE",Tk[Tk.DATA_LOSS=15]="DATA_LOSS";let Pk=null;const Ak=new Zw([4294967295,4294967295],0);function Rk(t){const e=jx().encode(t),n=new tx;return n.update(e),new Uint8Array(n.digest())}function Dk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Zw([n,i],0),new Zw([r,s],0)]}class Mk{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new Nk(`Invalid padding: ${e}`);if(n<0)throw new Nk(`Invalid hash count: ${n}`);if(t.length>0&&0===this.hashCount)throw new Nk(`Invalid hash count: ${n}`);if(0===t.length&&0!==e)throw new Nk(`Invalid padding when bitmap length is 0: ${e}`);this.Ee=8*t.length-e,this.de=Zw.fromNumber(this.Ee)}Ae(t,e,n){let i=t.add(e.multiply(Zw.fromNumber(n)));return 1===i.compare(Ak)&&(i=new Zw([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ee)return!1;const e=Rk(t),[n,i]=Dk(e);for(let r=0;r<this.hashCount;r++){const t=this.Ae(n,i,r);if(!this.Re(t))return!1}return!0}static create(t,e,n){const i=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),s=new Mk(r,i,e);return n.forEach((t=>s.insert(t))),s}insert(t){if(0===this.Ee)return;const e=Rk(t),[n,i]=Dk(e);for(let r=0;r<this.hashCount;r++){const t=this.Ae(n,i,r);this.Ve(t)}}Ve(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class Nk extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ok{constructor(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const i=new Map;return i.set(t,Lk.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new Ok(Gx.min(),i,new G_(Ux),DE(),zE())}}class Lk{constructor(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new Lk(n,e,zE(),zE(),zE())}}class Fk{constructor(t,e,n,i){this.me=t,this.removedTargetIds=e,this.key=n,this.fe=i}}class jk{constructor(t,e){this.targetId=t,this.ge=e}}class Vk{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:eS.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}class Uk{constructor(){this.pe=0,this.ye=$k(),this.we=eS.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=zE(),e=zE(),n=zE();return this.ye.forEach(((i,r)=>{switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:Sx()}})),new Lk(this.we,this.Se,t,e,n)}Me(){this.be=!1,this.ye=$k()}xe(t,e){this.be=!0,this.ye=this.ye.insert(t,e)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Ex(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class zk{constructor(t){this.ke=t,this.qe=new Map,this.Qe=DE(),this.$e=Bk(),this.Ue=Bk(),this.Ke=new G_(Ux)}We(t){for(const e of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(e,t.fe):this.ze(e,t.key,t.fe);for(const e of t.removedTargetIds)this.ze(e,t.key,t.fe)}je(t){this.forEachTarget(t,(e=>{const n=this.He(e);switch(t.state){case 0:this.Je(e)&&n.Ce(t.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(t.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(e);break;case 3:this.Je(e)&&(n.Le(),n.Ce(t.resumeToken));break;case 4:this.Je(e)&&(this.Ye(e),n.Ce(t.resumeToken));break;default:Sx()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.qe.forEach(((t,n)=>{this.Je(n)&&e(n)}))}Ze(t){const e=t.targetId,n=t.ge.count,i=this.Xe(e);if(i){const r=i.target;if(fE(r))if(0===n){const t=new t_(r.path);this.ze(e,t,US.newNoDocument(t,Gx.min()))}else Ex(1===n);else{const i=this.et(e);if(i!==n){const n=this.tt(t),r=n?this.nt(n,t,i):1;if(0!==r){this.Ye(e);const t=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(e,t)}null==Pk||Pk.rt(function(t,e,n,i,r){var s,o,a,l,c,u;const h={localCacheCount:t,existenceFilterCount:e.count,databaseId:n.database,projectId:n.projectId},d=e.unchangedNames;return d&&(h.bloomFilter={applied:0===r,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:t=>{var e;return null!==(e=null==i?void 0:i.mightContain(t))&&void 0!==e&&e}}),h}(i,t.ge,this.ke.it(),n,r))}}}}tt(t){const e=t.ge.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:r=0}=e;let s,o;try{s=sS(n).toUint8Array()}catch(t){if(t instanceof tS)return xx("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{o=new Mk(s,i,r)}catch(t){return xx(t instanceof Nk?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return 0===o.Ee?null:o}nt(t,e,n){return e.ge.count===n-this.st(t,e.targetId)?0:2}st(t,e){const n=this.ke.getRemoteKeysForTarget(e);let i=0;return n.forEach((n=>{const r=this.ke.it(),s=`projects/${r.projectId}/databases/${r.database}/documents/${n.path.canonicalString()}`;t.mightContain(s)||(this.ze(e,n,null),i++)})),i}ot(t){const e=new Map;this.qe.forEach(((n,i)=>{const r=this.Xe(i);if(r){if(n.current&&fE(r.target)){const e=new t_(r.target.path);this._t(e).has(i)||this.ut(i,e)||this.ze(i,e,US.newNoDocument(e,t))}n.ve&&(e.set(i,n.Fe()),n.Me())}}));let n=zE();this.Ue.forEach(((t,e)=>{let i=!0;e.forEachWhile((t=>{const e=this.Xe(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(i=!1,!1)})),i&&(n=n.add(t))})),this.Qe.forEach(((e,n)=>n.setReadTime(t)));const i=new Ok(t,e,this.Ke,this.Qe,n);return this.Qe=DE(),this.$e=Bk(),this.Ue=Bk(),this.Ke=new G_(Ux),i}Ge(t,e){if(!this.Je(t))return;const n=this.ut(t,e.key)?2:0;this.He(t).xe(e.key,n),this.Qe=this.Qe.insert(e.key,e),this.$e=this.$e.insert(e.key,this._t(e.key).add(t)),this.Ue=this.Ue.insert(e.key,this.ct(e.key).add(t))}ze(t,e,n){if(!this.Je(t))return;const i=this.He(t);this.ut(t,e)?i.xe(e,1):i.Oe(e),this.Ue=this.Ue.insert(e,this.ct(e).delete(t)),this.Ue=this.Ue.insert(e,this.ct(e).add(t)),n&&(this.Qe=this.Qe.insert(e,n))}removeTarget(t){this.qe.delete(t)}et(t){const e=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let e=this.qe.get(t);return e||(e=new Uk,this.qe.set(t,e)),e}ct(t){let e=this.Ue.get(t);return e||(e=new X_(Ux),this.Ue=this.Ue.insert(t,e)),e}_t(t){let e=this.$e.get(t);return e||(e=new X_(Ux),this.$e=this.$e.insert(t,e)),e}Je(t){const e=null!==this.Xe(t);return e||bx("WatchChangeAggregator","Detected inactive target",t),e}Xe(t){const e=this.qe.get(t);return e&&e.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new Uk),this.ke.getRemoteKeysForTarget(t).forEach((e=>{this.ze(t,e,null)}))}ut(t,e){return this.ke.getRemoteKeysForTarget(t).has(e)}}function Bk(){return new G_(t_.comparator)}function $k(){return new G_(t_.comparator)}const Hk={asc:"ASCENDING",desc:"DESCENDING"},Wk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qk={and:"AND",or:"OR"};class Kk{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Gk(t,e){return t.useProto3Json||m_(e)?e:{value:e}}function Yk(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Xk(t,e){return Yk(t,e.toTimestamp())}function Jk(t){return Ex(!!t),Gx.fromTimestamp(function(t){const e=iS(t);return new Kx(e.seconds,e.nanos)}(t))}function Zk(t,e){return tT(t,e).canonicalString()}function tT(t,e){const n=function(t){return new Xx(["projects",t.projectId,"databases",t.database])}(t).child("documents");return void 0===e?n:n.child(e)}function eT(t){const e=Xx.fromString(t);return Ex(xT(e)),e}function nT(t,e){return Zk(t.databaseId,e.path)}function iT(t,e){const n=eT(e);if(n.get(1)!==t.databaseId.projectId)throw new Cx(Tx.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Cx(Tx.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new t_(aT(n))}function rT(t,e){return Zk(t.databaseId,e)}function sT(t){const e=eT(t);return 4===e.length?Xx.emptyPath():aT(e)}function oT(t){return new Xx(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aT(t){return Ex(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function lT(t,e,n){return{name:nT(t,e),fields:n.value.mapValue.fields}}function cT(t,e){let n;if(e instanceof pk)n={update:lT(t,e.key,e.value)};else if(e instanceof bk)n={delete:nT(t,e.key)};else if(e instanceof mk)n={update:lT(t,e.key,e.data),updateMask:wT(e.fieldMask)};else{if(!(e instanceof wk))return Sx();n={verify:nT(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof XE)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof JE)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof tk)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof nk)return{fieldPath:e.field.canonicalString(),increment:n.Ie};throw Sx()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Xk(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Sx()}(t,e.precondition)),n}function uT(t,e){return{documents:[rT(t,e.path)]}}function hT(t,e){const n={structuredQuery:{}},i=e.path;let r;null!==e.collectionGroup?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=rT(t,r);const s=function(t){if(0!==t.length)return bT(GS.create(t,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:yT(t.field),direction:pT(t.dir)}}(t)))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Gk(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(t){return{before:t.inclusive,values:t.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),{ht:n,parent:r}}function dT(t){let e=sT(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Ex(1===i);const t=n.from[0];t.allDescendants?r=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=function(t){const e=fT(t);return e instanceof GS&&QS(e)?e.getFilters():[e]}(n.where));let o=[];n.orderBy&&(o=function(t){return t.map((t=>function(t){return new HS(vT(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)))}(n.orderBy));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,m_(e)?null:e}(n.limit));let l=null;n.startAt&&(l=function(t){const e=!!t.before,n=t.values||[];return new zS(n,e)}(n.startAt));let c=null;return n.endAt&&(c=function(t){const e=!t.before,n=t.values||[];return new zS(n,e)}(n.endAt)),mE(e,r,o,s,a,"F",l,c)}function fT(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=vT(t.unaryFilter.field);return KS.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=vT(t.unaryFilter.field);return KS.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=vT(t.unaryFilter.field);return KS.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=vT(t.unaryFilter.field);return KS.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Sx()}}(t):void 0!==t.fieldFilter?function(t){return KS.create(vT(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Sx()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return GS.create(t.compositeFilter.filters.map((t=>fT(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Sx()}}(t.compositeFilter.op))}(t):Sx()}function pT(t){return Hk[t]}function mT(t){return Wk[t]}function gT(t){return qk[t]}function yT(t){return{fieldPath:t.canonicalString()}}function vT(t){return Zx.fromServerFormat(t.fieldPath)}function bT(t){return t instanceof KS?function(t){if("=="===t.op){if(MS(t.value))return{unaryFilter:{field:yT(t.field),op:"IS_NAN"}};if(DS(t.value))return{unaryFilter:{field:yT(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(MS(t.value))return{unaryFilter:{field:yT(t.field),op:"IS_NOT_NAN"}};if(DS(t.value))return{unaryFilter:{field:yT(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yT(t.field),op:mT(t.op),value:t.value}}}(t):t instanceof GS?function(t){const e=t.getFilters().map((t=>bT(t)));return 1===e.length?e[0]:{compositeFilter:{op:gT(t.op),filters:e}}}(t):Sx()}function wT(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function xT(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class _T{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Gx.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Gx.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:eS.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(t){return new _T(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new _T(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new _T(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new _T(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class ST{constructor(t){this.Tt=t}}function ET(t){const e=dT({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?_E(e,e.limit,"L"):e}class kT{constructor(){}At(t,e){this.Rt(t,e),e.Vt()}Rt(t,e){if("nullValue"in t)this.ft(e,5);else if("booleanValue"in t)this.ft(e,10),e.gt(t.booleanValue?1:0);else if("integerValue"in t)this.ft(e,15),e.gt(rS(t.integerValue));else if("doubleValue"in t){const n=rS(t.doubleValue);isNaN(n)?this.ft(e,13):(this.ft(e,15),g_(n)?e.gt(0):e.gt(n))}else if("timestampValue"in t){let n=t.timestampValue;this.ft(e,20),"string"==typeof n&&(n=iS(n)),e.yt(`${n.seconds||""}`),e.gt(n.nanos||0)}else if("stringValue"in t)this.wt(t.stringValue,e),this.St(e);else if("bytesValue"in t)this.ft(e,30),e.bt(sS(t.bytesValue)),this.St(e);else if("referenceValue"in t)this.Dt(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.ft(e,45),e.gt(n.latitude||0),e.gt(n.longitude||0)}else"mapValue"in t?FS(t)?this.ft(e,Number.MAX_SAFE_INTEGER):OS(t)?this.vt(t.mapValue,e):(this.Ct(t.mapValue,e),this.St(e)):"arrayValue"in t?(this.Ft(t.arrayValue,e),this.St(e)):Sx()}wt(t,e){this.ft(e,25),this.Mt(t,e)}Mt(t,e){e.yt(t)}Ct(t,e){const n=t.fields||{};this.ft(e,55);for(const i of Object.keys(n))this.wt(i,e),this.Rt(n[i],e)}vt(t,e){var n,i;const r=t.fields||{};this.ft(e,53);const s=wS,o=(null===(i=null===(n=r[s].arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.length)||0;this.ft(e,15),e.gt(rS(o)),this.wt(s,e),this.Rt(r[s],e)}Ft(t,e){const n=t.values||[];this.ft(e,50);for(const i of n)this.Rt(i,e)}Dt(t,e){this.ft(e,37),t_.fromName(t).path.forEach((t=>{this.ft(e,60),this.Mt(t,e)}))}ft(t,e){t.gt(e)}St(t){t.gt(2)}}kT.xt=new kT;class TT{constructor(){this.Tn=new CT}addToCollectionParentIndex(t,e){return this.Tn.add(e),u_.resolve()}getCollectionParents(t,e){return u_.resolve(this.Tn.getEntries(e))}addFieldIndex(t,e){return u_.resolve()}deleteFieldIndex(t,e){return u_.resolve()}deleteAllFieldIndexes(t){return u_.resolve()}createTargetIndexes(t,e){return u_.resolve()}getDocumentsMatchingTarget(t,e){return u_.resolve(null)}getIndexType(t,e){return u_.resolve(0)}getFieldIndexes(t,e){return u_.resolve([])}getNextCollectionGroupToUpdate(t){return u_.resolve(null)}getMinOffset(t,e){return u_.resolve(s_.min())}getMinOffsetFromCollectionGroup(t,e){return u_.resolve(s_.min())}updateCollectionGroup(t,e,n){return u_.resolve()}updateIndexEntries(t,e){return u_.resolve()}}class CT{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new X_(Xx.comparator),r=!i.has(n);return this.index[e]=i.add(n),r}has(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}getEntries(t){return(this.index[t]||new X_(Xx.comparator)).toArray()}}new Uint8Array(0);const IT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PT=41943040;class AT{static withCacheSize(t){return new AT(t,AT.DEFAULT_COLLECTION_PERCENTILE,AT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}}AT.DEFAULT_COLLECTION_PERCENTILE=10,AT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,AT.DEFAULT=new AT(PT,AT.DEFAULT_COLLECTION_PERCENTILE,AT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),AT.DISABLED=new AT(-1,0,0);class RT{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new RT(0)}static Kn(){return new RT(-1)}}const DT="LruGarbageCollector",MT=1048576;function NT(t,e){let[n,i]=t,[r,s]=e;const o=Ux(n,r);return 0===o?Ux(i,s):o}class OT{constructor(t){this.Hn=t,this.buffer=new X_(NT),this.Jn=0}Yn(){return++this.Jn}Zn(t){const e=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();NT(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class LT{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(t){bx(DT,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){d_(t)?bx(DT,"Ignoring IndexedDB error during garbage collection: ",t):await c_(t)}await this.er(3e5)}))}}class FT{constructor(t,e){this.tr=t,this.params=e}calculateTargetCount(t,e){return this.tr.nr(t).next((t=>Math.floor(e/100*t)))}nthSequenceNumber(t,e){if(0===e)return u_.resolve(f_.ae);const n=new OT(e);return this.tr.forEachTarget(t,(t=>n.Zn(t.sequenceNumber))).next((()=>this.tr.rr(t,(t=>n.Zn(t))))).next((()=>n.maxValue))}removeTargets(t,e,n){return this.tr.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.tr.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(bx("LruGarbageCollector","Garbage collection skipped; disabled"),u_.resolve(IT)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(bx("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IT):this.ir(t,e)))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,e){let n,i,r,s,o,a,l;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((e=>(e>this.params.maximumSequenceNumbersToCollect?(bx("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`),i=this.params.maximumSequenceNumbersToCollect):i=e,s=Date.now(),this.nthSequenceNumber(t,i)))).next((i=>(n=i,o=Date.now(),this.removeTargets(t,n,e)))).next((e=>(r=e,a=Date.now(),this.removeOrphanedDocuments(t,n)))).next((t=>(l=Date.now(),vx()<=eg.DEBUG&&bx("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${i} in `+(o-s)+"ms\n"+`\tRemoved ${r} targets in `+(a-o)+"ms\n"+`\tRemoved ${t} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),u_.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:t}))))}}function jT(t,e){return new FT(t,e)}class VT{constructor(){this.changes=new AE((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,US.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?u_.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class UT{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class zT{constructor(t,e,n,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((i=>(n=i,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==n&&hk(n.mutation,t,Z_.empty(),Kx.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,zE()).next((()=>e))))}getLocalViewOfDocuments(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zE();const i=LE();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,n).next((t=>{let e=NE();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=LE();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,zE())))}populateOverlays(t,e,n){const i=[];return n.forEach((t=>{e.has(t)||i.push(t)})),this.documentOverlayCache.getOverlays(t,i).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,i){let r=DE();const s=jE(),o=jE();return e.forEach(((t,e)=>{const o=n.get(e.key);i.has(e.key)&&(void 0===o||o.mutation instanceof mk)?r=r.insert(e.key,e):void 0!==o?(s.set(e.key,o.mutation.getFieldMask()),hk(o.mutation,e,o.mutation.getFieldMask(),Kx.now())):s.set(e.key,Z_.empty())})),this.recalculateAndSaveOverlays(t,r).next((t=>(t.forEach(((t,e)=>s.set(t,e))),e.forEach(((t,e)=>{var n;return o.set(t,new UT(e,null!==(n=s.get(t))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(t,e){const n=jE();let i=new G_(((t,e)=>t-e)),r=zE();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const r of t)r.keys().forEach((t=>{const s=e.get(t);if(null===s)return;let o=n.get(t)||Z_.empty();o=r.applyToLocalView(s,o),n.set(t,o);const a=(i.get(r.batchId)||zE()).add(t);i=i.insert(r.batchId,a)}))})).next((()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const i=o.getNext(),a=i.key,l=i.value,c=FE();l.forEach((t=>{if(!r.has(t)){const i=ck(e.get(t),n.get(t));null!==i&&c.set(t,i),r=r.add(t)}})),s.push(this.documentOverlayCache.saveOverlays(t,a,c))}return u_.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n,i){return function(t){return t_.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):vE(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,i):this.getDocumentsMatchingCollectionQuery(t,e,n,i)}getNextDocuments(t,e,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,i).next((r=>{const s=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,i-r.size):u_.resolve(LE());let o=e_,a=r;return s.next((e=>u_.forEach(e,((e,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),r.get(e)?u_.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,r))).next((()=>this.computeViews(t,a,e,zE()))).next((t=>({batchId:o,changes:OE(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new t_(e)).next((t=>{let e=NE();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n,i){const r=e.collectionGroup;let s=NE();return this.indexManager.getCollectionParents(t,r).next((o=>u_.forEach(o,(o=>{const a=function(t,e){return new pE(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(r));return this.getDocumentsMatchingCollectionQuery(t,a,n,i).next((t=>{t.forEach(((t,e)=>{s=s.insert(t,e)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(t,e,n,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,r,i)))).next((t=>{r.forEach(((e,n)=>{const i=n.getKey();null===t.get(i)&&(t=t.insert(i,US.newInvalidDocument(i)))}));let n=NE();return t.forEach(((t,i)=>{const s=r.get(t);void 0!==s&&hk(s.mutation,i,Z_.empty(),Kx.now()),TE(e,i)&&(n=n.insert(t,i))})),n}))}}class BT{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,e){return u_.resolve(this.dr.get(e))}saveBundleMetadata(t,e){return this.dr.set(e.id,function(t){return{id:t.id,version:t.version,createTime:Jk(t.createTime)}}(e)),u_.resolve()}getNamedQuery(t,e){return u_.resolve(this.Ar.get(e))}saveNamedQuery(t,e){return this.Ar.set(e.name,function(t){return{name:t.name,query:ET(t.bundledQuery),readTime:Jk(t.readTime)}}(e)),u_.resolve()}}class $T{constructor(){this.overlays=new G_(t_.comparator),this.Rr=new Map}getOverlay(t,e){return u_.resolve(this.overlays.get(e))}getOverlays(t,e){const n=LE();return u_.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,i)=>{this.Et(t,e,i)})),u_.resolve()}removeOverlaysForBatchId(t,e,n){const i=this.Rr.get(n);return void 0!==i&&(i.forEach((t=>this.overlays=this.overlays.remove(t))),this.Rr.delete(n)),u_.resolve()}getOverlaysForCollection(t,e,n){const i=LE(),r=e.length+1,s=new t_(e.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const t=o.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===r&&t.largestBatchId>n&&i.set(t.getKey(),t)}return u_.resolve(i)}getOverlaysForCollectionGroup(t,e,n,i){let r=new G_(((t,e)=>t-e));const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=r.get(t.largestBatchId);null===e&&(e=LE(),r=r.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=LE(),a=r.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((t,e)=>o.set(t,e))),!(o.size()>=i)););return u_.resolve(o)}Et(t,e,n){const i=this.overlays.get(n.key);if(null!==i){const t=this.Rr.get(i.largestBatchId).delete(n.key);this.Rr.set(i.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new Sk(e,n));let r=this.Rr.get(e);void 0===r&&(r=zE(),this.Rr.set(e,r)),this.Rr.set(e,r.add(n.key))}}class HT{constructor(){this.sessionToken=eS.EMPTY_BYTE_STRING}getSessionToken(t){return u_.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,u_.resolve()}}class WT{constructor(){this.Vr=new X_(qT.mr),this.gr=new X_(qT.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,e){const n=new qT(t,e);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.wr(new qT(t,e))}Sr(t,e){t.forEach((t=>this.removeReference(t,e)))}br(t){const e=new t_(new Xx([])),n=new qT(e,t),i=new qT(e,t+1),r=[];return this.gr.forEachInRange([n,i],(t=>{this.wr(t),r.push(t.key)})),r}Dr(){this.Vr.forEach((t=>this.wr(t)))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const e=new t_(new Xx([])),n=new qT(e,t),i=new qT(e,t+1);let r=zE();return this.gr.forEachInRange([n,i],(t=>{r=r.add(t.key)})),r}containsKey(t){const e=new qT(t,0),n=this.Vr.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class qT{constructor(t,e){this.key=t,this.Cr=e}static mr(t,e){return t_.comparator(t.key,e.key)||Ux(t.Cr,e.Cr)}static pr(t,e){return Ux(t.Cr,e.Cr)||t_.comparator(t.key,e.key)}}class KT{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Fr=1,this.Mr=new X_(qT.mr)}checkEmpty(t){return u_.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,i){const r=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new xk(r,e,n,i);this.mutationQueue.push(s);for(const o of i)this.Mr=this.Mr.add(new qT(o.key,r)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return u_.resolve(s)}lookupMutationBatch(t,e){return u_.resolve(this.Or(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=this.Nr(n),r=i<0?0:i;return u_.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return u_.resolve(0===this.mutationQueue.length?p_:this.Fr-1)}getAllMutationBatches(t){return u_.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new qT(e,0),i=new qT(e,Number.POSITIVE_INFINITY),r=[];return this.Mr.forEachInRange([n,i],(t=>{const e=this.Or(t.Cr);r.push(e)})),u_.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new X_(Ux);return e.forEach((t=>{const e=new qT(t,0),i=new qT(t,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([e,i],(t=>{n=n.add(t.Cr)}))})),u_.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1;let r=n;t_.isDocumentKey(r)||(r=r.child(""));const s=new qT(new t_(r),0);let o=new X_(Ux);return this.Mr.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(o=o.add(t.Cr)),!0)}),s),u_.resolve(this.Br(o))}Br(t){const e=[];return t.forEach((t=>{const n=this.Or(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){Ex(0===this.Lr(e.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return u_.forEach(e.mutations,(i=>{const r=new qT(i.key,e.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((()=>{this.Mr=n}))}qn(t){}containsKey(t,e){const n=new qT(e,0),i=this.Mr.firstAfterOrEqual(n);return u_.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,u_.resolve()}Lr(t,e){return this.Nr(t)}Nr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Or(t){const e=this.Nr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class GT{constructor(t){this.kr=t,this.docs=new G_(t_.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,i=this.docs.get(n),r=i?i.size:0,s=this.kr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return u_.resolve(n?n.document.mutableCopy():US.newInvalidDocument(e))}getEntries(t,e){let n=DE();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():US.newInvalidDocument(t))})),u_.resolve(n)}getDocumentsMatchingQuery(t,e,n,i){let r=DE();const s=e.path,o=new t_(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:t,value:{document:o}}=a.getNext();if(!s.isPrefixOf(t.path))break;t.path.length>s.length+1||o_(r_(o),n)<=0||(i.has(o.key)||TE(e,o))&&(r=r.insert(o.key,o.mutableCopy()))}return u_.resolve(r)}getAllFromCollectionGroup(t,e,n,i){Sx()}qr(t,e){return u_.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new YT(this)}getSize(t){return u_.resolve(this.size)}}class YT extends VT{constructor(t){super(),this.Ir=t}applyChanges(t){const e=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?e.push(this.Ir.addEntry(t,i)):this.Ir.removeEntry(n)})),u_.waitFor(e)}getFromCache(t,e){return this.Ir.getEntry(t,e)}getAllFromCache(t,e){return this.Ir.getEntries(t,e)}}class QT{constructor(t){this.persistence=t,this.Qr=new AE((t=>hE(t)),dE),this.lastRemoteSnapshotVersion=Gx.min(),this.highestTargetId=0,this.$r=0,this.Ur=new WT,this.targetCount=0,this.Kr=RT.Un()}forEachTarget(t,e){return this.Qr.forEach(((t,n)=>e(n))),u_.resolve()}getLastRemoteSnapshotVersion(t){return u_.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return u_.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),u_.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.$r&&(this.$r=e),u_.resolve()}zn(t){this.Qr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Kr=new RT(e),this.highestTargetId=e),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,e){return this.zn(e),this.targetCount+=1,u_.resolve()}updateTargetData(t,e){return this.zn(e),u_.resolve()}removeTargetData(t,e){return this.Qr.delete(e.target),this.Ur.br(e.targetId),this.targetCount-=1,u_.resolve()}removeTargets(t,e,n){let i=0;const r=[];return this.Qr.forEach(((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Qr.delete(s),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)})),u_.waitFor(r).next((()=>i))}getTargetCount(t){return u_.resolve(this.targetCount)}getTargetData(t,e){const n=this.Qr.get(e)||null;return u_.resolve(n)}addMatchingKeys(t,e,n){return this.Ur.yr(e,n),u_.resolve()}removeMatchingKeys(t,e,n){this.Ur.Sr(e,n);const i=this.persistence.referenceDelegate,r=[];return i&&e.forEach((e=>{r.push(i.markPotentiallyOrphaned(t,e))})),u_.waitFor(r)}removeMatchingKeysForTargetId(t,e){return this.Ur.br(e),u_.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Ur.vr(e);return u_.resolve(n)}containsKey(t,e){return u_.resolve(this.Ur.containsKey(e))}}class XT{constructor(t,e){this.Wr={},this.overlays={},this.Gr=new f_(0),this.zr=!1,this.zr=!0,this.jr=new HT,this.referenceDelegate=t(this),this.Hr=new QT(this),this.indexManager=new TT,this.remoteDocumentCache=function(t){return new GT(t)}((t=>this.referenceDelegate.Jr(t))),this.serializer=new ST(e),this.Yr=new BT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new $T,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Wr[t.toKey()];return n||(n=new KT(e,this.referenceDelegate),this.Wr[t.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,e,n){bx("MemoryPersistence","Starting transaction:",t);const i=new JT(this.Gr.next());return this.referenceDelegate.Zr(),n(i).next((t=>this.referenceDelegate.Xr(i).next((()=>t)))).toPromise().then((t=>(i.raiseOnCommittedEvent(),t)))}ei(t,e){return u_.or(Object.values(this.Wr).map((n=>()=>n.containsKey(t,e))))}}class JT extends l_{constructor(t){super(),this.currentSequenceNumber=t}}class ZT{constructor(t){this.persistence=t,this.ti=new WT,this.ni=null}static ri(t){return new ZT(t)}get ii(){if(this.ni)return this.ni;throw Sx()}addReference(t,e,n){return this.ti.addReference(n,e),this.ii.delete(n.toString()),u_.resolve()}removeReference(t,e,n){return this.ti.removeReference(n,e),this.ii.add(n.toString()),u_.resolve()}markPotentiallyOrphaned(t,e){return this.ii.add(e.toString()),u_.resolve()}removeTarget(t,e){this.ti.br(e.targetId).forEach((t=>this.ii.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.ii.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}Zr(){this.ni=new Set}Xr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return u_.forEach(this.ii,(n=>{const i=t_.fromPath(n);return this.si(t,i).next((t=>{t||e.removeEntry(i,Gx.min())}))})).next((()=>(this.ni=null,e.apply(t))))}updateLimboDocument(t,e){return this.si(t,e).next((t=>{t?this.ii.delete(e.toString()):this.ii.add(e.toString())}))}Jr(t){return 0}si(t,e){return u_.or([()=>u_.resolve(this.ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.ei(t,e)])}}class tC{constructor(t,e){this.persistence=t,this.oi=new AE((t=>b_(t.path)),((t,e)=>t.isEqual(e))),this.garbageCollector=jT(this,e)}static ri(t,e){return new tC(t,e)}Zr(){}Xr(t){return u_.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}nr(t){const e=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next((t=>e.next((e=>t+e))))}sr(t){let e=0;return this.rr(t,(t=>{e++})).next((()=>e))}rr(t,e){return u_.forEach(this.oi,((n,i)=>this.ar(t,n,i).next((t=>t?u_.resolve():e(i)))))}removeTargets(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)}removeOrphanedDocuments(t,e){let n=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.qr(t,(i=>this.ar(t,i,e).next((t=>{t||(n++,r.removeEntry(i,Gx.min()))})))).next((()=>r.apply(t))).next((()=>n))}markPotentiallyOrphaned(t,e){return this.oi.set(e,t.currentSequenceNumber),u_.resolve()}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,e,n){return this.oi.set(n,t.currentSequenceNumber),u_.resolve()}removeReference(t,e,n){return this.oi.set(n,t.currentSequenceNumber),u_.resolve()}updateLimboDocument(t,e){return this.oi.set(e,t.currentSequenceNumber),u_.resolve()}Jr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=PS(t.data.value)),e}ar(t,e,n){return u_.or([()=>this.persistence.ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const t=this.oi.get(e);return u_.resolve(void 0!==t&&t>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class eC{constructor(t,e,n,i){this.targetId=t,this.fromCache=e,this.Hi=n,this.Ji=i}static Yi(t,e){let n=zE(),i=zE();for(const r of e.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new eC(t,e.fromCache,n,i)}}class nC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class iC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=Fm()?8:h_(Lm())>0?6:4}initialize(t,e){this.ns=t,this.indexManager=e,this.Zi=!0}getDocumentsMatchingQuery(t,e,n,i){const r={result:null};return this.rs(t,e).next((t=>{r.result=t})).next((()=>{if(!r.result)return this.ss(t,e,i,n).next((t=>{r.result=t}))})).next((()=>{if(r.result)return;const n=new nC;return this._s(t,e,n).next((i=>{if(r.result=i,this.Xi)return this.us(t,e,n,i.size)}))})).next((()=>r.result))}us(t,e,n,i){return n.documentReadCount<this.es?(vx()<=eg.DEBUG&&bx("QueryEngine","SDK will not create cache indexes for query:",kE(e),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),u_.resolve()):(vx()<=eg.DEBUG&&bx("QueryEngine","Query:",kE(e),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ts*i?(vx()<=eg.DEBUG&&bx("QueryEngine","The SDK decides to create cache indexes for query:",kE(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,wE(e))):u_.resolve())}rs(t,e){if(yE(e))return u_.resolve(null);let n=wE(e);return this.indexManager.getIndexType(t,n).next((i=>0===i?null:(null!==e.limit&&1===i&&(e=_E(e,null,"F"),n=wE(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((i=>{const r=zE(...i);return this.ns.getDocuments(t,r).next((i=>this.indexManager.getMinOffset(t,n).next((n=>{const s=this.cs(e,i);return this.ls(e,s,r,n.readTime)?this.rs(t,_E(e,null,"F")):this.hs(t,s,e,n)}))))})))))}ss(t,e,n,i){return yE(e)||i.isEqual(Gx.min())?u_.resolve(null):this.ns.getDocuments(t,n).next((r=>{const s=this.cs(e,r);return this.ls(e,s,n,i)?u_.resolve(null):(vx()<=eg.DEBUG&&bx("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kE(e)),this.hs(t,s,e,i_(i,e_)).next((t=>t)))}))}cs(t,e){let n=new X_(IE(t));return e.forEach(((e,i)=>{TE(t,i)&&(n=n.add(i))})),n}ls(t,e,n,i){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const r="F"===t.limitType?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}_s(t,e,n){return vx()<=eg.DEBUG&&bx("QueryEngine","Using full collection scan to execute query:",kE(e)),this.ns.getDocumentsMatchingQuery(t,e,s_.min(),n)}hs(t,e,n,i){return this.ns.getDocumentsMatchingQuery(t,n,i).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}const rC="LocalStore";class sC{constructor(t,e,n,i){this.persistence=t,this.Ps=e,this.serializer=i,this.Ts=new G_(Ux),this.Is=new AE((t=>hE(t)),dE),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(n)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new zT(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ts)))}}function oC(t,e,n,i){return new sC(t,e,n,i)}async function aC(t,e){const n=kx(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let i;return n.mutationQueue.getAllMutationBatches(t).next((r=>(i=r,n.As(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const r=[],s=[];let o=zE();for(const t of i){r.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return n.localDocuments.getDocuments(t,o).next((t=>({Rs:t,removedBatchIds:r,addedBatchIds:s})))}))}))}function lC(t){const e=kx(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Hr.getLastRemoteSnapshotVersion(t)))}function cC(t,e,n){let i=zE(),r=zE();return n.forEach((t=>i=i.add(t))),e.getEntries(t,i).next((t=>{let i=DE();return n.forEach(((n,s)=>{const o=t.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(r=r.add(n)),s.isNoDocument()&&s.version.isEqual(Gx.min())?(e.removeEntry(n,s.readTime),i=i.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(e.addEntry(s),i=i.insert(n,s)):bx(rC,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{Vs:i,fs:r}}))}function uC(t,e){const n=kx(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=p_),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}function hC(t,e){const n=kx(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let i;return n.Hr.getTargetData(t,e).next((r=>r?(i=r,u_.resolve(i)):n.Hr.allocateTargetId(t).next((r=>(i=new _T(e,r,"TargetPurposeListen",t.currentSequenceNumber),n.Hr.addTargetData(t,i).next((()=>i)))))))})).then((t=>{const i=n.Ts.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(t.targetId,t),n.Is.set(e,t.targetId)),t}))}async function dC(t,e,n){const i=kx(t),r=i.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,(t=>i.persistence.referenceDelegate.removeTarget(t,r)))}catch(t){if(!d_(t))throw t;bx(rC,`Failed to update sequence numbers for target ${e}: ${t}`)}i.Ts=i.Ts.remove(e),i.Is.delete(r.target)}function fC(t,e,n){const i=kx(t);let r=Gx.min(),s=zE();return i.persistence.runTransaction("Execute query","readwrite",(t=>function(t,e,n){const i=kx(t),r=i.Is.get(n);return void 0!==r?u_.resolve(i.Ts.get(r)):i.Hr.getTargetData(e,n)}(i,t,wE(e)).next((e=>{if(e)return r=e.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(t,e.targetId).next((t=>{s=t}))})).next((()=>i.Ps.getDocumentsMatchingQuery(t,e,n?r:Gx.min(),n?s:zE()))).next((t=>(pC(i,CE(e),t),{documents:t,gs:s})))))}function pC(t,e,n){let i=t.Es.get(e)||Gx.min();n.forEach(((t,e)=>{e.readTime.compareTo(i)>0&&(i=e.readTime)})),t.Es.set(e,i)}class mC{constructor(){this.activeTargetIds=$E()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class gC{constructor(){this.ho=new mC,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,e,n){this.Po[t]=e}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new mC,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class yC{To(t){}shutdown(){}}const vC="ConnectivityMonitor";class bC{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){bx(vC,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){bx(vC,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let wC=null;function xC(){return null===wC?wC=268435456+Math.round(2147483648*Math.random()):wC++,"0x"+wC.toString(16)}const _C="RestConnection",SC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EC{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=e+"://"+t.host,this.yo=`projects/${n}/databases/${i}`,this.wo=this.databaseId.database===pS?`project_id=${n}`:`project_id=${n}&database_id=${i}`}So(t,e,n,i,r){const s=xC(),o=this.bo(t,e.toUriEncodedString());bx(_C,`Sending RPC '${t}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(a,i,r),this.vo(t,o,a,n).then((e=>(bx(_C,`Received RPC '${t}' ${s}: `,e),e)),(e=>{throw xx(_C,`RPC '${t}' ${s} failed with error: `,e,"url: ",o,"request:",n),e}))}Co(t,e,n,i,r,s){return this.So(t,e,n,i,r)}Do(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+gx,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}bo(t,e){const n=SC[t];return`${this.po}/v1/${e}:${n}`}terminate(){}}class kC{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}const TC="WebChannelConnection";class CC extends EC{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,e,n,i){const r=xC();return new Promise(((s,o)=>{const a=new ix;a.setWithCredentials(!0),a.listenOnce(sx.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case ox.NO_ERROR:const e=a.getResponseJson();bx(TC,`XHR for RPC '${t}' ${r} received:`,JSON.stringify(e)),s(e);break;case ox.TIMEOUT:bx(TC,`RPC '${t}' ${r} timed out`),o(new Cx(Tx.DEADLINE_EXCEEDED,"Request time out"));break;case ox.HTTP_ERROR:const n=a.getStatus();if(bx(TC,`RPC '${t}' ${r} failed with status:`,n,"response text:",a.getResponseText()),n>0){let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(Tx).indexOf(e)>=0?e:Tx.UNKNOWN}(e.status);o(new Cx(t,e.message))}else o(new Cx(Tx.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Cx(Tx.UNAVAILABLE,"Connection failed."));break;default:Sx()}}finally{bx(TC,`RPC '${t}' ${r} completed.`)}}));const l=JSON.stringify(i);bx(TC,`RPC '${t}' ${r} sending request:`,i),a.send(e,"POST",l,n,15)}))}Wo(t,e,n){const i=xC(),r=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=ux(),o=cx(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,e,n),a.encodeInitMessageHeaders=!0;const c=r.join("");bx(TC,`Creating RPC '${t}' stream ${i}: ${c}`,a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new kC({Fo:e=>{d?bx(TC,`Not sending because RPC '${t}' stream ${i} is closed:`,e):(h||(bx(TC,`Opening RPC '${t}' stream ${i} transport.`),u.open(),h=!0),bx(TC,`RPC '${t}' stream ${i} sending:`,e),u.send(e))},Mo:()=>u.close()}),p=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return p(u,rx.EventType.OPEN,(()=>{d||(bx(TC,`RPC '${t}' stream ${i} transport opened.`),f.Qo())})),p(u,rx.EventType.CLOSE,(()=>{d||(d=!0,bx(TC,`RPC '${t}' stream ${i} transport closed`),f.Uo())})),p(u,rx.EventType.ERROR,(e=>{d||(d=!0,xx(TC,`RPC '${t}' stream ${i} transport errored:`,e),f.Uo(new Cx(Tx.UNAVAILABLE,"The operation could not be completed")))})),p(u,rx.EventType.MESSAGE,(e=>{var n;if(!d){const r=e.data[0];Ex(!!r);const s=r,o=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){bx(TC,`RPC '${t}' stream ${i} received error:`,o);const e=o.status;let n=function(t){const e=kk[t];if(void 0!==e)return Ik(e)}(e),r=o.message;void 0===n&&(n=Tx.INTERNAL,r="Unknown error status: "+e+" with message "+o.message),d=!0,f.Uo(new Cx(n,r)),u.close()}else bx(TC,`RPC '${t}' stream ${i} received:`,r),f.Ko(r)}})),p(o,lx.STAT_EVENT,(e=>{e.stat===ax.PROXY?bx(TC,`RPC '${t}' stream ${i} detected buffering proxy`):e.stat===ax.NOPROXY&&bx(TC,`RPC '${t}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{f.$o()}),0),f}}function IC(){return"undefined"!=typeof document?document:null}function PC(t){return new Kk(t,!0)}class AC{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=t,this.timerId=e,this.Go=n,this.zo=i,this.jo=r,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const e=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),i=Math.max(0,e-n);i>0&&bx("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,(()=>(this.Yo=Date.now(),t()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const RC="PersistentStream";class DC{constructor(t,e,n,i,r,s,o,a){this.Ti=t,this.n_=n,this.r_=i,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new AC(t,e)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,e){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==t?this.a_.reset():e&&e.code===Tx.RESOURCE_EXHAUSTED?(wx(e.toString()),wx("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):e&&e.code===Tx.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(e)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),e=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((t=>{let[n,i]=t;this.i_===e&&this.V_(n,i)}),(e=>{t((()=>{const t=new Cx(Tx.UNKNOWN,"Fetching auth token failed: "+e.message);return this.m_(t)}))}))}V_(t,e){const n=this.R_(this.i_);this.stream=this.f_(t,e),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((t=>{n((()=>this.m_(t)))})),this.stream.onMessage((t=>{n((()=>1==++this.__?this.g_(t):this.onNext(t)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(t){return bx(RC,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return e=>{this.Ti.enqueueAndForget((()=>this.i_===t?e():(bx(RC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class MC extends DC{constructor(t,e,n,i,r,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,i,s),this.serializer=r}f_(t,e){return this.connection.Wo("Listen",t,e)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Sx()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(t,e){return t.useProto3Json?(Ex(void 0===e||"string"==typeof e),eS.fromBase64String(e||"")):(Ex(void 0===e||e instanceof Buffer||e instanceof Uint8Array),eS.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?Tx.UNKNOWN:Ik(t.code);return new Cx(e,t.message||"")}(o);n=new Vk(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=iT(t,i.document.name),s=Jk(i.document.updateTime),o=i.document.createTime?Jk(i.document.createTime):Gx.min(),a=new jS({mapValue:{fields:i.document.fields}}),l=US.newFoundDocument(r,s,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new Fk(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=iT(t,i.document),s=i.readTime?Jk(i.readTime):Gx.min(),o=US.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Fk([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=iT(t,i.document),s=i.removedTargetIds||[];n=new Fk([],s,r,null)}else{if(!("filter"in e))return Sx();{e.filter;const t=e.filter;t.targetId;const{count:i=0,unchangedNames:r}=t,s=new Ek(i,r),o=t.targetId;n=new jk(o,s)}}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Gx.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?Gx.min():e.readTime?Jk(e.readTime):Gx.min()}(t);return this.listener.p_(e,n)}y_(t){const e={};e.database=oT(this.serializer),e.addTarget=function(t,e){let n;const i=e.target;if(n=fE(i)?{documents:uT(t,i)}:{query:hT(t,i).ht},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=Qk(t,e.resumeToken);const i=Gk(t,e.expectedCount);null!==i&&(n.expectedCount=i)}else if(e.snapshotVersion.compareTo(Gx.min())>0){n.readTime=Yk(t,e.snapshotVersion.toTimestamp());const i=Gk(t,e.expectedCount);null!==i&&(n.expectedCount=i)}return n}(this.serializer,t);const n=function(t,e){const n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Sx()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.I_(e)}w_(t){const e={};e.database=oT(this.serializer),e.removeTarget=t,this.I_(e)}}class NC extends DC{constructor(t,e,n,i,r,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,i,s),this.serializer=r}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,e){return this.connection.Wo("Write",t,e)}g_(t){return Ex(!!t.streamToken),this.lastStreamToken=t.streamToken,Ex(!t.writeResults||0===t.writeResults.length),this.listener.D_()}onNext(t){Ex(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const e=function(t,e){return t&&t.length>0?(Ex(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?Jk(t.updateTime):Jk(e);return n.isEqual(Gx.min())&&(n=Jk(e)),new sk(n,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),n=Jk(t.commitTime);return this.listener.v_(n,e)}C_(){const t={};t.database=oT(this.serializer),this.I_(t)}b_(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>cT(this.serializer,t)))};this.I_(e)}}class OC{}class LC extends OC{constructor(t,e,n,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Cx(Tx.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,e,n,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[s,o]=r;return this.connection.So(t,tT(e,n),i,s,o)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===Tx.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Cx(Tx.UNKNOWN,t.toString())}))}Co(t,e,n,i,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.Co(t,tT(e,n),i,o,a,r)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===Tx.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Cx(Tx.UNKNOWN,t.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class FC{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(t){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,"Online"===t&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(wx(e),this.N_=!1):bx("OnlineStateTracker",e)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const jC="RemoteStore";class VC{constructor(t,e,n,i,r){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=r,this.z_.To((t=>{n.enqueueAndForget((async()=>{GC(this)&&(bx(jC,"Restarting streams for network reachability change."),await async function(t){const e=kx(t);e.W_.add(4),await zC(e),e.j_.set("Unknown"),e.W_.delete(4),await UC(e)}(this))}))})),this.j_=new FC(n,i)}}async function UC(t){if(GC(t))for(const e of t.G_)await e(!0)}async function zC(t){for(const e of t.G_)await e(!1)}function BC(t,e){const n=kx(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),KC(n)?qC(n):fI(n).c_()&&HC(n,e))}function $C(t,e){const n=kx(t),i=fI(n);n.K_.delete(e),i.c_()&&WC(n,e),0===n.K_.size&&(i.c_()?i.P_():GC(n)&&n.j_.set("Unknown"))}function HC(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Gx.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fI(t).y_(e)}function WC(t,e){t.H_.Ne(e),fI(t).w_(e)}function qC(t){t.H_=new zk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),fI(t).start(),t.j_.B_()}function KC(t){return GC(t)&&!fI(t).u_()&&t.K_.size>0}function GC(t){return 0===kx(t).W_.size}function YC(t){t.H_=void 0}async function QC(t){t.j_.set("Online")}async function XC(t){t.K_.forEach(((e,n)=>{HC(t,e)}))}async function JC(t,e){YC(t),KC(t)?(t.j_.q_(e),qC(t)):t.j_.set("Unknown")}async function ZC(t,e,n){if(t.j_.set("Online"),e instanceof Vk&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const i of e.targetIds)t.K_.has(i)&&(await t.remoteSyncer.rejectListen(i,n),t.K_.delete(i),t.H_.removeTarget(i))}(t,e)}catch(n){bx(jC,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await tI(t,n)}else if(e instanceof Fk?t.H_.We(e):e instanceof jk?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Gx.min()))try{const e=await lC(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.H_.ot(e);return n.targetChanges.forEach(((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=t.K_.get(i);r&&t.K_.set(i,r.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach(((e,n)=>{const i=t.K_.get(e);if(!i)return;t.K_.set(e,i.withResumeToken(eS.EMPTY_BYTE_STRING,i.snapshotVersion)),WC(t,e);const r=new _T(i.target,e,n,i.sequenceNumber);HC(t,r)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){bx(jC,"Failed to raise snapshot:",e),await tI(t,e)}}async function tI(t,e,n){if(!d_(e))throw e;t.W_.add(1),await zC(t),t.j_.set("Offline"),n||(n=()=>lC(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{bx(jC,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await UC(t)}))}function eI(t,e){return e().catch((n=>tI(t,n,e)))}async function nI(t){const e=kx(t),n=pI(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:p_;for(;iI(e);)try{const t=await uC(e.localStore,i);if(null===t){0===e.U_.length&&n.P_();break}i=t.batchId,rI(e,t)}catch(t){await tI(e,t)}sI(e)&&oI(e)}function iI(t){return GC(t)&&t.U_.length<10}function rI(t,e){t.U_.push(e);const n=pI(t);n.c_()&&n.S_&&n.b_(e.mutations)}function sI(t){return GC(t)&&!pI(t).u_()&&t.U_.length>0}function oI(t){pI(t).start()}async function aI(t){pI(t).C_()}async function lI(t){const e=pI(t);for(const n of t.U_)e.b_(n.mutations)}async function cI(t,e,n){const i=t.U_.shift(),r=_k.from(i,e,n);await eI(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await nI(t)}async function uI(t,e){e&&pI(t).S_&&await async function(t,e){if(function(t){return Ck(t)&&t!==Tx.ABORTED}(e.code)){const n=t.U_.shift();pI(t).h_(),await eI(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await nI(t)}}(t,e),sI(t)&&oI(t)}async function hI(t,e){const n=kx(t);n.asyncQueue.verifyOperationInProgress(),bx(jC,"RemoteStore received new credentials");const i=GC(n);n.W_.add(3),await zC(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await UC(n)}async function dI(t,e){const n=kx(t);e?(n.W_.delete(2),await UC(n)):e||(n.W_.add(2),await zC(n),n.j_.set("Unknown"))}function fI(t){return t.J_||(t.J_=function(t,e,n){const i=kx(t);return i.M_(),new MC(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(t.datastore,t.asyncQueue,{xo:QC.bind(null,t),No:XC.bind(null,t),Lo:JC.bind(null,t),p_:ZC.bind(null,t)}),t.G_.push((async e=>{e?(t.J_.h_(),KC(t)?qC(t):t.j_.set("Unknown")):(await t.J_.stop(),YC(t))}))),t.J_}function pI(t){return t.Y_||(t.Y_=function(t,e,n){const i=kx(t);return i.M_(),new NC(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:aI.bind(null,t),Lo:uI.bind(null,t),D_:lI.bind(null,t),v_:cI.bind(null,t)}),t.G_.push((async e=>{e?(t.Y_.h_(),await nI(t)):(await t.Y_.stop(),t.U_.length>0&&(bx(jC,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))}))),t.Y_}class mI{constructor(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new Ix,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,i,r){const s=Date.now()+n,o=new mI(t,e,s,i,r);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Cx(Tx.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gI(t,e){if(wx("AsyncQueue",`${e}: ${t}`),d_(t))return new Cx(Tx.UNAVAILABLE,`${e}: ${t}`);throw t}class yI{static emptySet(t){return new yI(t.comparator)}constructor(t){this.comparator=t?(e,n)=>t(e,n)||t_.comparator(e.key,n.key):(t,e)=>t_.comparator(t.key,e.key),this.keyedMap=NE(),this.sortedSet=new G_(this.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof yI))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(!t.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new yI;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class vI{constructor(){this.Z_=new G_(t_.comparator)}track(t){const e=t.doc.key,n=this.Z_.get(e);n?0!==t.type&&3===n.type?this.Z_=this.Z_.insert(e,t):3===t.type&&1!==n.type?this.Z_=this.Z_.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Z_=this.Z_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Z_=this.Z_.remove(e):1===t.type&&2===n.type?this.Z_=this.Z_.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):Sx():this.Z_=this.Z_.insert(e,t)}X_(){const t=[];return this.Z_.inorderTraversal(((e,n)=>{t.push(n)})),t}}class bI{constructor(t,e,n,i,r,s,o,a,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,i,r){const s=[];return e.forEach((t=>{s.push({type:0,doc:t})})),new bI(t,e,yI.emptySet(e),s,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&SE(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0}}class wI{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((t=>t.ra()))}}class xI{constructor(){this.queries=_I(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(t,e){const n=kx(t),i=n.queries;n.queries=_I(),i.forEach(((t,n)=>{for(const i of n.ta)i.onError(e)}))}(this,new Cx(Tx.ABORTED,"Firestore shutting down"))}}function _I(){return new AE((t=>EE(t)),SE)}async function SI(t,e){const n=kx(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.na()&&e.ra()&&(i=2):(s=new wI,i=e.ra()?0:1);try{switch(i){case 0:s.ea=await n.onListen(r,!0);break;case 1:s.ea=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(t){const n=gI(t,`Initialization of query '${kE(e.query)}' failed`);return void e.onError(n)}n.queries.set(r,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&CI(n)}async function EI(t,e){const n=kx(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const t=s.ta.indexOf(e);t>=0&&(s.ta.splice(t,1),0===s.ta.length?r=e.ra()?0:1:!s.na()&&e.ra()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function kI(t,e){const n=kx(t);let i=!1;for(const r of e){const t=r.query,e=n.queries.get(t);if(e){for(const t of e.ta)t.oa(r)&&(i=!0);e.ea=r}}i&&CI(n)}function TI(t,e,n){const i=kx(t),r=i.queries.get(e);if(r)for(const s of r.ta)s.onError(n);i.queries.delete(e)}function CI(t){t.ia.forEach((t=>{t.next()}))}var II,PI;(PI=II||(II={}))._a="default",PI.Cache="cache";class AI{constructor(t,e,n){this.query=t,this.aa=e,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new bI(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ua?this.la(t)&&(this.aa.next(t),e=!0):this.ha(t,this.onlineState)&&(this.Pa(t),e=!0),this.ca=t,e}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let e=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),e=!0),e}ha(t,e){if(!t.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==e;return(!this.options.Ta||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}la(t){if(t.docChanges.length>0)return!0;const e=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}Pa(t){t=bI.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==II.Cache}}class RI{constructor(t){this.key=t}}class DI{constructor(t){this.key=t}}class MI{constructor(t,e){this.query=t,this.fa=e,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=zE(),this.mutatedKeys=zE(),this.ya=IE(t),this.wa=new yI(this.ya)}get Sa(){return this.fa}ba(t,e){const n=e?e.Da:new vI,i=e?e.wa:this.wa;let r=e?e.mutatedKeys:this.mutatedKeys,s=i,o=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(((t,e)=>{const c=i.get(t),u=TE(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.va(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.ya(u,a)>0||l&&this.ya(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),r=d?r.add(t):r.delete(t)):(s=s.delete(t),r=r.delete(t)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const t="F"===this.query.limitType?s.last():s.first();s=s.delete(t.key),r=r.delete(t.key),n.track({type:1,doc:t})}return{wa:s,Da:n,ls:o,mutatedKeys:r}}va(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,i){const r=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const s=t.Da.X_();s.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Sx()}};return n(t)-n(e)}(t.type,e.type)||this.ya(t.doc,e.doc))),this.Ca(n),i=null!=i&&i;const o=e&&!i?this.Fa():[],a=0===this.pa.size&&this.current&&!i?1:0,l=a!==this.ga;return this.ga=a,0!==s.length||l?{snapshot:new bI(this.query,t.wa,r,s,t.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:o}:{Ma:o}}sa(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({wa:this.wa,Da:new vI,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach((t=>this.fa=this.fa.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.fa=this.fa.delete(t))),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=zE(),this.wa.forEach((t=>{this.xa(t.key)&&(this.pa=this.pa.add(t.key))}));const e=[];return t.forEach((t=>{this.pa.has(t)||e.push(new DI(t))})),this.pa.forEach((n=>{t.has(n)||e.push(new RI(n))})),e}Oa(t){this.fa=t.gs,this.pa=zE();const e=this.ba(t.documents);return this.applyChanges(e,!0)}Na(){return bI.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const NI="SyncEngine";class OI{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class LI{constructor(t){this.key=t,this.Ba=!1}}class FI{constructor(t,e,n,i,r,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new AE((t=>EE(t)),SE),this.qa=new Map,this.Qa=new Set,this.$a=new G_(t_.comparator),this.Ua=new Map,this.Ka=new WT,this.Wa={},this.Ga=new Map,this.za=RT.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function jI(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=sP(t);let r;const s=i.ka.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Na()):r=await UI(i,e,n,!0),r}async function VI(t,e){const n=sP(t);await UI(n,e,!0,!1)}async function UI(t,e,n,i){const r=await hC(t.localStore,wE(e)),s=r.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return i&&(a=await zI(t,e,s,"current"===o,r.resumeToken)),t.isPrimaryClient&&n&&BC(t.remoteStore,r),a}async function zI(t,e,n,i,r){t.Ha=(e,n,i)=>async function(t,e,n,i){let r=e.view.ba(n);r.ls&&(r=await fC(t.localStore,e.query,!1).then((t=>{let{documents:n}=t;return e.view.ba(n,r)})));const s=i&&i.targetChanges.get(e.targetId),o=i&&null!=i.targetMismatches.get(e.targetId),a=e.view.applyChanges(r,t.isPrimaryClient,s,o);return ZI(t,e.targetId,a.Ma),a.snapshot}(t,e,n,i);const s=await fC(t.localStore,e,!0),o=new MI(e,s.gs),a=o.ba(s.documents),l=Lk.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState,r),c=o.applyChanges(a,t.isPrimaryClient,l);ZI(t,n,c.Ma);const u=new OI(e,n,o);return t.ka.set(e,u),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function BI(t,e,n){const i=kx(t),r=i.ka.get(e),s=i.qa.get(r.targetId);if(s.length>1)return i.qa.set(r.targetId,s.filter((t=>!SE(t,e)))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await dC(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),n&&$C(i.remoteStore,r.targetId),XI(i,r.targetId)})).catch(c_)):(XI(i,r.targetId),await dC(i.localStore,r.targetId,!0))}async function $I(t,e){const n=kx(t),i=n.ka.get(e),r=n.qa.get(i.targetId);n.isPrimaryClient&&1===r.length&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),$C(n.remoteStore,i.targetId))}async function HI(t,e){const n=kx(t);try{const t=await function(t,e){const n=kx(t),i=e.snapshotVersion;let r=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});r=n.Ts;const o=[];e.targetChanges.forEach(((s,a)=>{const l=r.get(a);if(!l)return;o.push(n.Hr.removeMatchingKeys(t,s.removedDocuments,a).next((()=>n.Hr.addMatchingKeys(t,s.addedDocuments,a))));let c=l.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(a)?c=c.withResumeToken(eS.EMPTY_BYTE_STRING,Gx.min()).withLastLimboFreeSnapshotVersion(Gx.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,i)),r=r.insert(a,c),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&o.push(n.Hr.updateTargetData(t,c))}));let a=DE(),l=zE();if(e.documentUpdates.forEach((i=>{e.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))})),o.push(cC(t,s,e.documentUpdates).next((t=>{a=t.Vs,l=t.fs}))),!i.isEqual(Gx.min())){const e=n.Hr.getLastRemoteSnapshotVersion(t).next((e=>n.Hr.setTargetsMetadata(t,t.currentSequenceNumber,i)));o.push(e)}return u_.waitFor(o).next((()=>s.apply(t))).next((()=>n.localDocuments.getLocalViewOfDocuments(t,a,l))).next((()=>a))})).then((t=>(n.Ts=r,t)))}(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const i=n.Ua.get(e);i&&(Ex(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?i.Ba=!0:t.modifiedDocuments.size>0?Ex(i.Ba):t.removedDocuments.size>0&&(Ex(i.Ba),i.Ba=!1))})),await nP(n,t,e)}catch(t){await c_(t)}}function WI(t,e,n){const i=kx(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const t=[];i.ka.forEach(((n,i)=>{const r=i.view.sa(e);r.snapshot&&t.push(r.snapshot)})),function(t,e){const n=kx(t);n.onlineState=e;let i=!1;n.queries.forEach(((t,n)=>{for(const r of n.ta)r.sa(e)&&(i=!0)})),i&&CI(n)}(i.eventManager,e),t.length&&i.La.p_(t),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function qI(t,e,n){const i=kx(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Ua.get(e),s=r&&r.key;if(s){let t=new G_(t_.comparator);t=t.insert(s,US.newNoDocument(s,Gx.min()));const n=zE().add(s),r=new Ok(Gx.min(),new Map,new G_(Ux),t,n);await HI(i,r),i.$a=i.$a.remove(s),i.Ua.delete(e),eP(i)}else await dC(i.localStore,e,!1).then((()=>XI(i,e,n))).catch(c_)}async function KI(t,e){const n=kx(t),i=e.batch.batchId;try{const t=await function(t,e){const n=kx(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const i=e.batch.keys(),r=n.ds.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){const r=n.batch,s=r.keys();let o=u_.resolve();return s.forEach((t=>{o=o.next((()=>i.getEntry(e,t))).next((e=>{const s=n.docVersions.get(t);Ex(null!==s),e.version.compareTo(s)<0&&(r.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),i.addEntry(e)))}))})),o.next((()=>t.mutationQueue.removeMutationBatch(e,r)))}(n,t,e,r).next((()=>r.apply(t))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=zE();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e)))).next((()=>n.localDocuments.getDocuments(t,i)))}))}(n.localStore,e);QI(n,i,null),YI(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await nP(n,t)}catch(t){await c_(t)}}async function GI(t,e,n){const i=kx(t);try{const t=await function(t,e){const n=kx(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let i;return n.mutationQueue.lookupMutationBatch(t,e).next((e=>(Ex(null!==e),i=e.keys(),n.mutationQueue.removeMutationBatch(t,e)))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,i))).next((()=>n.localDocuments.getDocuments(t,i)))}))}(i.localStore,e);QI(i,e,n),YI(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await nP(i,t)}catch(n){await c_(n)}}function YI(t,e){(t.Ga.get(e)||[]).forEach((t=>{t.resolve()})),t.Ga.delete(e)}function QI(t,e,n){const i=kx(t);let r=i.Wa[i.currentUser.toKey()];if(r){const t=r.get(e);t&&(n?t.reject(n):t.resolve(),r=r.remove(e)),i.Wa[i.currentUser.toKey()]=r}}function XI(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.qa.get(e))t.ka.delete(i),n&&t.La.Ja(i,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach((e=>{t.Ka.containsKey(e)||JI(t,e)}))}function JI(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);null!==n&&($C(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),eP(t))}function ZI(t,e,n){for(const i of n)i instanceof RI?(t.Ka.addReference(i.key,e),tP(t,i)):i instanceof DI?(bx(NI,"Document no longer in limbo: "+i.key),t.Ka.removeReference(i.key,e),t.Ka.containsKey(i.key)||JI(t,i.key)):Sx()}function tP(t,e){const n=e.key,i=n.path.canonicalString();t.$a.get(n)||t.Qa.has(i)||(bx(NI,"New document in limbo: "+n),t.Qa.add(i),eP(t))}function eP(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new t_(Xx.fromString(e)),i=t.za.next();t.Ua.set(i,new LI(n)),t.$a=t.$a.insert(n,i),BC(t.remoteStore,new _T(wE(gE(n.path)),i,"TargetPurposeLimboResolution",f_.ae))}}async function nP(t,e,n){const i=kx(t),r=[],s=[],o=[];i.ka.isEmpty()||(i.ka.forEach(((t,a)=>{o.push(i.Ha(a,e,n).then((t=>{var e;if((t||n)&&i.isPrimaryClient){const r=t?!t.fromCache:null===(e=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===e?void 0:e.current;i.sharedClientState.updateQueryState(a.targetId,r?"current":"not-current")}if(t){r.push(t);const e=eC.Yi(a.targetId,t);s.push(e)}})))})),await Promise.all(o),i.La.p_(r),await async function(t,e){const n=kx(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>u_.forEach(e,(e=>u_.forEach(e.Hi,(i=>n.persistence.referenceDelegate.addReference(t,e.targetId,i))).next((()=>u_.forEach(e.Ji,(i=>n.persistence.referenceDelegate.removeReference(t,e.targetId,i)))))))))}catch(t){if(!d_(t))throw t;bx(rC,"Failed to update sequence numbers: "+t)}for(const i of e){const t=i.targetId;if(!i.fromCache){const e=n.Ts.get(t),i=e.snapshotVersion,r=e.withLastLimboFreeSnapshotVersion(i);n.Ts=n.Ts.insert(t,r)}}}(i.localStore,s))}async function iP(t,e){const n=kx(t);if(!n.currentUser.isEqual(e)){bx(NI,"User change. New user:",e.toKey());const t=await aC(n.localStore,e);n.currentUser=e,function(t,e){t.Ga.forEach((t=>{t.forEach((t=>{t.reject(new Cx(Tx.CANCELLED,e))}))})),t.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await nP(n,t.Rs)}}function rP(t,e){const n=kx(t),i=n.Ua.get(e);if(i&&i.Ba)return zE().add(i.key);{let t=zE();const i=n.qa.get(e);if(!i)return t;for(const e of i){const i=n.ka.get(e);t=t.unionWith(i.view.Sa)}return t}}function sP(t){const e=kx(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=HI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qI.bind(null,e),e.La.p_=kI.bind(null,e.eventManager),e.La.Ja=TI.bind(null,e.eventManager),e}function oP(t){const e=kx(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GI.bind(null,e),e}class aP{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=PC(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,e){return null}nu(t,e){return null}eu(t){return oC(this.persistence,new iC,t.initialUser,this.serializer)}Xa(t){return new XT(ZT.ri,this.serializer)}Za(t){return new gC}async terminate(){var t,e;null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(e=this.indexBackfillerScheduler)||void 0===e||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}aP.provider={build:()=>new aP};class lP extends aP{constructor(t){super(),this.cacheSizeBytes=t}tu(t,e){Ex(this.persistence.referenceDelegate instanceof tC);const n=this.persistence.referenceDelegate.garbageCollector;return new LT(n,t.asyncQueue,e)}Xa(t){const e=void 0!==this.cacheSizeBytes?AT.withCacheSize(this.cacheSizeBytes):AT.DEFAULT;return new XT((t=>tC.ri(t,e)),this.serializer)}}class cP{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>WI(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=iP.bind(null,this.syncEngine),await dI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new xI}createDatastore(t){const e=PC(t.databaseInfo.databaseId),n=function(t){return new CC(t)}(t.databaseInfo);return function(t,e,n,i){return new LC(t,e,n,i)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(t,e,n,i,r){return new VC(t,e,n,i,r)}(this.localStore,this.datastore,t.asyncQueue,(t=>WI(this.syncEngine,t,0)),bC.D()?new bC:new yC)}createSyncEngine(t,e){return function(t,e,n,i,r,s,o){const a=new FI(t,e,n,i,r,s);return o&&(a.ja=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(t){const e=kx(t);bx(jC,"RemoteStore shutting down."),e.W_.add(5),await zC(e),e.z_.shutdown(),e.j_.set("Unknown")}(this.remoteStore),null===(t=this.datastore)||void 0===t||t.terminate(),null===(e=this.eventManager)||void 0===e||e.terminate()}}cP.provider={build:()=>new cP};class uP{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):wx("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const hP="FirestoreClient";class dP{constructor(t,e,n,i,r){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=mx.UNAUTHENTICATED,this.clientId=Vx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(n,(async t=>{bx(hP,"Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(bx(hP,"Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ix;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=gI(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function fP(t,e){t.asyncQueue.verifyOperationInProgress(),bx(hP,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async t=>{i.isEqual(t)||(await aC(e.localStore,t),i=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function pP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mP(t);bx(hP,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((t=>hI(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>hI(e.remoteStore,n))),t._onlineComponents=e}async function mP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){bx(hP,"Using user provided OfflineComponentProvider");try{await fP(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(t){return"FirebaseError"===t.name?t.code===Tx.FAILED_PRECONDITION||t.code===Tx.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;xx("Error using user provided cache. Falling back to memory cache: "+n),await fP(t,new aP)}}else bx(hP,"Using default OfflineComponentProvider"),await fP(t,new lP(void 0));return t._offlineComponents}async function gP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(bx(hP,"Using user provided OnlineComponentProvider"),await pP(t,t._uninitializedComponentsProvider._online)):(bx(hP,"Using default OnlineComponentProvider"),await pP(t,new cP))),t._onlineComponents}function yP(t){return gP(t).then((t=>t.syncEngine))}async function vP(t){const e=await gP(t),n=e.eventManager;return n.onListen=jI.bind(null,e.syncEngine),n.onUnlisten=BI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$I.bind(null,e.syncEngine),n}function bP(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new Ix;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,i,r){const s=new uP({next:n=>{s.su(),e.enqueueAndForget((()=>EI(t,o))),n.fromCache&&"server"===i.source?r.reject(new Cx(Tx.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:t=>r.reject(t)}),o=new AI(n,s,{includeMetadataChanges:!0,Ta:!0});return SI(t,o)}(await vP(t),t.asyncQueue,e,n,i))),i.promise}function wP(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const xP=new Map;function _P(t,e,n){if(!n)throw new Cx(Tx.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function SP(t){if(!t_.isDocumentKey(t))throw new Cx(Tx.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function EP(t){if(t_.isDocumentKey(t))throw new Cx(Tx.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kP(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":Sx()}function TP(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Cx(Tx.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kP(t);throw new Cx(Tx.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}const CP="firestore.googleapis.com",IP=!0;class PP{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new Cx(Tx.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CP,this.ssl=IP}else this.host=t.host,this.ssl=null!==(e=t.ssl)&&void 0!==e?e:IP;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=PT;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<MT)throw new Cx(Tx.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,n,i){if(!0===e&&!0===i)throw new Cx(Tx.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wP(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new Cx(Tx.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (must not be NaN)`);if(t.timeoutSeconds<5)throw new Cx(Tx.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (minimum allowed value is 5)`);if(t.timeoutSeconds>30)throw new Cx(Tx.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(t,e){return t.timeoutSeconds===e.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class AP{constructor(t,e,n,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Cx(Tx.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Cx(Tx.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PP(t),this._emulatorOptions=t.emulatorOptions||{},void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new Ax;switch(t.type){case"firstParty":return new Nx(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Cx(Tx.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=xP.get(t);e&&(bx("ComponentProvider","Removing Datastore"),xP.delete(t),e.terminate())}(this),Promise.resolve()}}function RP(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var r;const s=(t=TP(t,AP))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;s.host!==CP&&s.host!==a&&xx("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:i});if(!Bm(l,o)&&(t._setSettings(l),i.mockUserToken)){let e,n;if("string"==typeof i.mockUserToken)e=i.mockUserToken,n=mx.MOCK_USER;else{e=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Im(JSON.stringify({alg:"none",type:"JWT"})),Im(JSON.stringify(s)),""].join(".")}(i.mockUserToken,null===(r=t._app)||void 0===r?void 0:r.options.projectId);const s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Cx(Tx.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new mx(s)}t._authCredentials=new Rx(new Px(e,n))}}class DP{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new DP(this.firestore,t,this._query)}}class MP{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new NP(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new MP(this.firestore,t,this._key)}}class NP extends DP{constructor(t,e,n){super(t,e,gE(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new MP(this.firestore,null,new t_(t))}withConverter(t){return new NP(this.firestore,t,this._path)}}function OP(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(t=Ym(t),_P("collection","path",e),t instanceof AP){const n=Xx.fromString(e,...i);return EP(n),new NP(t,null,n)}{if(!(t instanceof MP||t instanceof NP))throw new Cx(Tx.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Xx.fromString(e,...i));return EP(n),new NP(t.firestore,null,n)}}const LP="AsyncQueue";class FP{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new AC(this,"async_queue_retry"),this.Su=()=>{const t=IC();t&&bx(LP,"Visibility state changed to "+t.visibilityState),this.a_.t_()},this.bu=t;const e=IC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const e=IC();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise((()=>{}));const e=new Ix;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Vu.push(t),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(OA){if(!d_(OA))throw OA;bx(LP,"Operation failed with retryable error: "+OA)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(t){const e=this.bu.then((()=>(this.pu=!0,t().catch((t=>{this.gu=t,this.pu=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw wx("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.pu=!1,t))))));return this.bu=e,e}enqueueAfterDelay(t,e,n){this.Du(),this.wu.indexOf(t)>-1&&(e=0);const i=mI.createAndSchedule(this,t,e,n,(t=>this.Fu(t)));return this.fu.push(i),i}Du(){this.gu&&Sx()}verifyOperationInProgress(){}async Mu(){let t;do{t=this.bu,await t}while(t!==this.bu)}xu(t){for(const e of this.fu)if(e.timerId===t)return!0;return!1}Ou(t){return this.Mu().then((()=>{this.fu.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.fu)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Mu()}))}Nu(t){this.wu.push(t)}Fu(t){const e=this.fu.indexOf(t);this.fu.splice(e,1)}}class jP extends AP{constructor(t,e,n,i){super(t,e,n,i),this.type="firestore",this._queue=new FP,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new FP(t),this._firestoreClient=void 0,await t}}}function VP(t){if(t._terminated)throw new Cx(Tx.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||UP(t),t._firestoreClient}function UP(t){var e,n,i;const r=t._freezeSettings(),s=function(t,e,n,i){return new fS(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,wP(i.experimentalLongPollingOptions),i.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||(null===(n=r.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(i=r.localCache)||void 0===i?void 0:i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new dP(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(t){const e=null==t?void 0:t._online.build();return{_offline:null==t?void 0:t._offline.build(e),_online:e}}(t._componentsProvider))}class zP{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zP(eS.fromBase64String(t))}catch(t){throw new Cx(Tx.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new zP(eS.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class BP{constructor(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(let i=0;i<e.length;++i)if(0===e[i].length)throw new Cx(Tx.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zx(e)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class $P{constructor(t){this._methodName=t}}class HP{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Cx(Tx.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Cx(Tx.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ux(this._lat,t._lat)||Ux(this._long,t._long)}}class WP{constructor(t){this._values=(t||[]).map((t=>t))}toArray(){return this._values.map((t=>t))}isEqual(t){return function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}(this._values,t._values)}}const qP=/^__.*__$/;class KP{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new mk(t,this.data,this.fieldMask,e,this.fieldTransforms):new pk(t,this.data,e,this.fieldTransforms)}}function GP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Sx()}}class YP{constructor(t,e,n,i,r,s){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===r&&this.Bu(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new YP(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.ku({path:n,Qu:!1});return i.$u(t),i}Uu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.ku({path:n,Qu:!1});return i.Bu(),i}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return oA(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(0===t.length)throw this.Wu("Document fields must not be empty");if(GP(this.Lu)&&qP.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class QP{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||PC(t)}ju(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new YP({Lu:t,methodName:e,zu:n,path:Zx.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function XP(t){const e=t._freezeSettings(),n=PC(t._databaseId);return new QP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JP(t,e,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=t.ju(s.merge||s.mergeFields?2:0,e,n,r);nA("Data must be an object, but it was:",o,i);const a=tA(i,o);let l,c;if(s.merge)l=new Z_(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const i of s.mergeFields){const r=iA(e,i,n);if(!o.contains(r))throw new Cx(Tx.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);aA(t,r)||t.push(r)}l=new Z_(t),c=o.fieldTransforms.filter((t=>l.covers(t.field)))}else l=null,c=o.fieldTransforms;return new KP(new jS(a),l,c)}function ZP(t,e){if(eA(t=Ym(t)))return nA("Unsupported field value:",e,t),tA(t,e);if(t instanceof $P)return function(t,e){if(!GP(e.Lu))throw e.Wu(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.Wu(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&4!==e.Lu)throw e.Wu("Nested arrays are not supported");return function(t,e){const n=[];let i=0;for(const r of t){let t=ZP(r,e.Ku(i));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Ym(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return qE(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=Kx.fromDate(t);return{timestampValue:Yk(e.serializer,n)}}if(t instanceof Kx){const n=new Kx(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Yk(e.serializer,n)}}if(t instanceof HP)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof zP)return{bytesValue:Qk(e.serializer,t._byteString)};if(t instanceof MP){const n=e.databaseId,i=t.firestore._databaseId;if(!i.isEqual(n))throw e.Wu(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Zk(t.firestore._databaseId||e.databaseId,t._key.path)}}if(t instanceof WP)return function(t,e){return{mapValue:{fields:{[gS]:{stringValue:bS},[wS]:{arrayValue:{values:t.toArray().map((t=>{if("number"!=typeof t)throw e.Wu("VectorValues must only contain numeric values.");return HE(e.serializer,t)}))}}}}}}(t,e);throw e.Wu(`Unsupported field value: ${kP(t)}`)}(t,e)}function tA(t,e){const n={};return K_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):q_(t,((t,i)=>{const r=ZP(i,e.qu(t));null!=r&&(n[t]=r)})),{mapValue:{fields:n}}}function eA(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Kx||t instanceof HP||t instanceof zP||t instanceof MP||t instanceof $P||t instanceof WP)}function nA(t,e,n){if(!eA(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const i=kP(n);throw"an object"===i?e.Wu(t+" a custom object"):e.Wu(t+" "+i)}}function iA(t,e,n){if((e=Ym(e))instanceof BP)return e._internalPath;if("string"==typeof e)return sA(t,e);throw oA("Field path arguments must be of type string or ",t,!1,void 0,n)}const rA=new RegExp("[~\\*/\\[\\]]");function sA(t,e,n){if(e.search(rA)>=0)throw oA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new BP(...e.split("."))._internalPath}catch(i){throw oA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function oA(t,e,n,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new Cx(Tx.INVALID_ARGUMENT,a+t+l)}function aA(t,e){return t.some((t=>t.isEqual(e)))}class lA{constructor(t,e,n,i,r){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new MP(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new cA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(uA("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class cA extends lA{data(){return super.data()}}function uA(t,e){return"string"==typeof e?sA(t,e):e instanceof BP?e._internalPath:e._delegate._internalPath}function hA(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Cx(Tx.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dA{convertValue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(xS(t)){case 0:return null;case 1:return t.booleanValue;case 2:return rS(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(sS(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Sx()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return q_(t,((t,i)=>{n[t]=this.convertValue(i,e)})),n}convertVectorValue(t){var e,n,i;const r=null===(i=null===(n=null===(e=t.fields)||void 0===e?void 0:e[wS].arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.map((t=>rS(t.doubleValue)));return new WP(r)}convertGeoPoint(t){return new HP(rS(t.latitude),rS(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=hS(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(dS(t));default:return null}}convertTimestamp(t){const e=iS(t);return new Kx(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Xx.fromString(t);Ex(xT(n));const i=new mS(n.get(1),n.get(3)),r=new t_(n.popFirst(5));return i.isEqual(e)||wx(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),r}}function fA(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class pA{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class mA extends lA{constructor(t,e,n,i,r,s){super(t,e,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const e=new gA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(uA("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class gA extends mA{data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(t)}}class yA{constructor(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new pA(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new gA(this._firestore,this._userDataWriter,n.key,n,new pA(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const t=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Cx(Tx.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>{const i=new gA(t._firestore,t._userDataWriter,n.doc.key,n.doc,new pA(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:e++}}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const i=new gA(t._firestore,t._userDataWriter,e.doc.key,e.doc,new pA(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let r=-1,s=-1;return 0!==e.type&&(r=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:vA(e.type),doc:i,oldIndex:r,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function vA(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Sx()}}class bA extends dA{constructor(t){super(),this.firestore=t}convertBytes(t){return new zP(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new MP(this.firestore,null,e)}}function wA(t){t=TP(t,DP);const e=TP(t.firestore,jP),n=VP(e),i=new bA(e);return hA(t._query),bP(n,t._query).then((n=>new yA(e,i,t,n)))}function xA(t,e){const n=TP(t.firestore,jP),i=function(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(t=Ym(t),1===arguments.length&&(e=Vx.newId()),_P("doc","path",e),t instanceof AP){const n=Xx.fromString(e,...i);return SP(n),new MP(t,null,new t_(n))}{if(!(t instanceof MP||t instanceof NP))throw new Cx(Tx.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Xx.fromString(e,...i));return SP(n),new MP(t.firestore,t instanceof NP?t.converter:null,new t_(n))}}(t),r=fA(t.converter,e);return _A(n,[JP(XP(t.firestore),"addDoc",i._key,r,null!==t.converter,{}).toMutation(i._key,ok.exists(!1))]).then((()=>i))}function _A(t,e){return function(t,e){const n=new Ix;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){const i=oP(t);try{const t=await function(t,e){const n=kx(t),i=Kx.now(),r=e.reduce(((t,e)=>t.add(e.key)),zE());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let a=DE(),l=zE();return n.ds.getEntries(t,r).next((t=>{a=t,a.forEach(((t,e)=>{e.isValidDocument()||(l=l.add(t))}))})).next((()=>n.localDocuments.getOverlayedDocuments(t,a))).next((r=>{s=r;const o=[];for(const t of e){const e=dk(t,s.get(t.key).overlayedDocument);null!=e&&o.push(new mk(t.key,e,VS(e.value.mapValue),ok.exists(!0)))}return n.mutationQueue.addMutationBatch(t,i,o,e)})).next((e=>{o=e;const i=e.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(t,e.batchId,i)}))})).then((()=>({batchId:o.batchId,changes:OE(s)})))}(i.localStore,e);i.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let i=t.Wa[t.currentUser.toKey()];i||(i=new G_(Ux)),i=i.insert(e,n),t.Wa[t.currentUser.toKey()]=i}(i,t.batchId,n),await nP(i,t.changes),await nI(i.remoteStore)}catch(t){const e=gI(t,"Failed to persist write");n.reject(e)}}(await yP(t),e,n))),n.promise}(VP(t),e)}new WeakMap;!function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(t){gx=t}(uy),sy(new Qm("firestore",((t,n)=>{let{instanceIdentifier:i,options:r}=n;const s=t.getProvider("app").getImmediate(),o=new jP(new Dx(t.getProvider("auth-internal")),new Lx(s,t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Cx(Tx.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mS(t.options.projectId,e)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),fy(fx,px,t),fy(fx,px,"esm2017")}();const SA=hy({apiKey:"AIzaSyC1dw2ioup-QcZ1CJbQpaXKXpd65C5knE0",authDomain:"aispec-af4c2.firebaseapp.com",projectId:"aispec-af4c2",storageBucket:"aispec-af4c2.firebasestorage.app",messagingSenderId:"584241353741",appId:"1:584241353741:web:fdd4a7eba11cabd7587144"}),EA=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dy();const e=oy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function(t,e){const n=oy(t,"auth");if(n.isInitialized()){const t=n.getImmediate();if(Bm(n.getOptions(),null!==e&&void 0!==e?e:{}))return t;Ay(t,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Ww,persistence:[tw,Nb,Vb]}),i=Nm("authTokenSyncURL");if(i&&"boolean"===typeof isSecureContext&&isSecureContext){const t=new URL(i,location.origin);if(location.origin===t.origin){const e=(r=t.toString(),async t=>{const e=t&&await t.getIdTokenResult(),n=e&&((new Date).getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>Yw)return;const i=null===e||void 0===e?void 0:e.token;Qw!==i&&(Qw=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});!function(t,e,n){Ym(t).beforeAuthStateChanged(e,n)}(n,e,(()=>e(n.currentUser))),function(t,e,n,i){Ym(t).onIdTokenChanged(e,n,i)}(n,(t=>e(t)))}}var r;const s=Dm("auth");return s&&Jv(n,`http://${s}`),n}(SA),kA=function(t,e){const n="object"==typeof t?t:dy(),i="string"==typeof t?t:e||pS,r=oy(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const t=(t=>{const e=Dm(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),i]:[e.substring(0,n),i]})("firestore");t&&RP(r,...t)}return r}(SA),TA=()=>{const[t,e]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)("patient"),[a,l]=(0,i.useState)("");return(0,pe.jsxs)("div",{children:[(0,pe.jsx)("h1",{children:"Login"}),(0,pe.jsxs)("form",{onSubmit:e=>{e.preventDefault(),Pb(EA,t,n).then((t=>{const e=t.user;console.log("Logged in as:",e.email)})).catch((t=>{l(t.message)}))},children:[(0,pe.jsx)("input",{type:"email",value:t,onChange:t=>e(t.target.value),placeholder:"Email"}),(0,pe.jsx)("input",{type:"password",value:n,onChange:t=>r(t.target.value),placeholder:"Password"}),(0,pe.jsx)("button",{type:"submit",children:"Login"})]}),(0,pe.jsx)("button",{onClick:()=>{const t=new mb;fw(EA,t).then((t=>{const e=t.user;console.log("Logged in as:",e.email)})).catch((t=>{l(t.message)}))},children:"Login with Google"}),a&&(0,pe.jsx)("p",{children:a})]})},CA={page:{minHeight:"100vh",background:"linear-gradient(to right, #e0f7fa, #fff)",display:"flex",justifyContent:"center",alignItems:"center"},card:{width:"100%",maxWidth:"420px",padding:"32px",borderRadius:"16px",boxShadow:"0 6px 20px rgba(0,0,0,0.1)",backgroundColor:"#ffffff",textAlign:"center"},title:{fontSize:"24px",marginBottom:"10px",color:"#007BFF"},subtitle:{fontSize:"16px",marginBottom:"24px",color:"#666"},form:{display:"flex",flexDirection:"column",gap:"16px"},input:{padding:"12px 16px",fontSize:"16px",borderRadius:"10px",border:"1px solid #ccc",outline:"none"},button:{padding:"12px 16px",fontSize:"16px",backgroundColor:"#007BFF",color:"#fff",border:"none",borderRadius:"10px",cursor:"pointer",transition:"background-color 0.3s"},error:{color:"red",fontSize:"14px"}},IA=()=>{const[t,e]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(""),a=tt();return(0,pe.jsx)("div",{style:CA.page,children:(0,pe.jsxs)("div",{style:CA.card,children:[(0,pe.jsx)("h2",{style:CA.title,children:"\ud83e\udde0 Create Your Account"}),(0,pe.jsx)("p",{style:CA.subtitle,children:"Join Speech AI and start your journey \ud83d\udde3\ufe0f"}),(0,pe.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o("");try{const e=OP(kA,"users");if((await wA(e)).size>=5)return void o("Signups are limited to 5 users only.");const i=(await Ib(EA,t,n)).user;await xA(e,{uid:i.uid,email:i.email,createdAt:new Date}),a("/dashboard/patient")}catch(i){o(i.message)}},style:CA.form,children:[(0,pe.jsx)("input",{type:"email",placeholder:"Email address",value:t,onChange:t=>e(t.target.value),style:CA.input,required:!0}),(0,pe.jsx)("input",{type:"password",placeholder:"Create password",value:n,onChange:t=>r(t.target.value),style:CA.input,required:!0}),s&&(0,pe.jsx)("p",{style:CA.error,children:s}),(0,pe.jsx)("button",{type:"submit",style:CA.button,children:"Sign Up"})]})]})})},PA={page:{minHeight:"100vh",background:"linear-gradient(to right, #e0f7fa, #fff)",display:"flex",justifyContent:"center",alignItems:"center"},card:{width:"100%",maxWidth:"420px",padding:"32px",borderRadius:"16px",boxShadow:"0 6px 20px rgba(0,0,0,0.1)",backgroundColor:"#ffffff",textAlign:"center"},title:{fontSize:"24px",marginBottom:"20px",color:"#007BFF"},form:{display:"flex",flexDirection:"column",gap:"16px",marginBottom:"16px"},input:{padding:"12px 16px",fontSize:"16px",borderRadius:"10px",border:"1px solid #ccc",outline:"none"},button:{padding:"12px 16px",fontSize:"16px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"10px",cursor:"pointer"},googleButton:{padding:"10px 14px",marginTop:"8px",fontSize:"14px",backgroundColor:"#ffffff",border:"1px solid #ccc",borderRadius:"8px",cursor:"pointer"},toggle:{marginTop:"20px",fontSize:"14px",color:"#666"},link:{color:"#007bff",cursor:"pointer",textDecoration:"underline"},error:{color:"red",fontSize:"14px"}},AA=()=>{const[t,e]=(0,i.useState)(!0),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(""),[a,l]=(0,i.useState)(""),c=tt();return(0,pe.jsx)("div",{style:PA.page,children:(0,pe.jsxs)("div",{style:PA.card,children:[(0,pe.jsx)("h2",{style:PA.title,children:t?"\ud83d\udd10 Login":"\ud83e\udde0 Sign Up"}),(0,pe.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l("");try{if(t)await Pb(EA,n,s),c("/dashboard/patient");else{const t=OP(kA,"users");if((await wA(t)).size>=5)return void l("Only 5 users allowed to sign up.");const e=(await Ib(EA,n,s)).user;await xA(t,{uid:e.uid,email:e.email,createdAt:new Date}),c("/dashboard/patient")}}catch(i){l(i.message)}},style:PA.form,children:[(0,pe.jsx)("input",{type:"email",placeholder:"Email address",value:n,onChange:t=>r(t.target.value),style:PA.input,required:!0}),(0,pe.jsx)("input",{type:"password",placeholder:"Password",value:s,onChange:t=>o(t.target.value),style:PA.input,required:!0}),a&&(0,pe.jsx)("p",{style:PA.error,children:a}),(0,pe.jsx)("button",{type:"submit",style:PA.button,children:t?"Login":"Sign Up"})]}),(0,pe.jsx)("button",{onClick:async()=>{try{const t=new mb;await fw(EA,t),c("/dashboard/patient")}catch(t){l(t.message)}},style:PA.googleButton,children:"\ud83d\udd35 Login with Google"}),(0,pe.jsxs)("p",{style:PA.toggle,children:[t?"Don't have an account?":"Already have an account?"," ",(0,pe.jsx)("span",{style:PA.link,onClick:()=>{e(!t),l("")},children:t?"Sign Up":"Login"})]})]})})},RA=t=>{let{children:e}=t;return EA.currentUser?e:(0,pe.jsx)(mt,{to:"/",replace:!0})},DA=()=>{const[t,e]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(""),[a,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(1),[h,d]=(0,i.useState)([]),[f,p]=(0,i.useState)(!0),[m,g]=(0,i.useState)(""),[y,v]=(0,i.useState)([]),[b,w]=(0,i.useState)(!1),x=(0,i.useRef)(null),_=(t+" "+n).trim(),S=()=>{const t=(()=>{const t=window.SpeechRecognition||window.webkitSpeechRecognition;if(!t)return alert("Your browser does not support Speech Recognition."),null;const e=new t;return e.lang="en-US",e.interimResults=!1,e.continuous=!1,e})();t&&(x.current=t,t.start(),t.onstart=()=>w(!0),t.onresult=t=>{const e=t.results[0][0].transcript,n={speaker:f?"Therapist":"Child",text:e};d((t=>[...t,n]))},t.onend=()=>w(!1),t.onerror=()=>w(!1))},E=y.filter((t=>t.fullName.toLowerCase().includes(a.toLowerCase()))),k=E.slice(5*(c-1),5*c),T=Math.ceil(E.length/5);return(0,pe.jsxs)("div",{style:{padding:"2rem",maxWidth:"900px",margin:"auto",fontFamily:"Arial, sans-serif"},children:[(0,pe.jsx)("h2",{style:{textAlign:"center",color:"#2563EB"},children:"\ud83e\udde0 Session Transcription"}),(0,pe.jsxs)("div",{style:{background:"#E0F2FE",padding:"1.5rem",borderRadius:"1rem",display:"flex",flexWrap:"wrap",gap:"1rem",marginBottom:"1.5rem",justifyContent:"center"},children:[(0,pe.jsx)("input",{placeholder:"First Name",value:t,onChange:t=>e(t.target.value),style:{flex:"1 1 200px",padding:"0.6rem 1rem",borderRadius:"999px",border:"1px solid #CBD5E1",backgroundColor:"#F0F9FF",fontSize:"1rem"}}),(0,pe.jsx)("input",{placeholder:"Surname",value:n,onChange:t=>r(t.target.value),style:{flex:"1 1 200px",padding:"0.6rem 1rem",borderRadius:"999px",border:"1px solid #CBD5E1",backgroundColor:"#F0F9FF",fontSize:"1rem"}}),(0,pe.jsx)("input",{placeholder:"Age",type:"number",value:s,onChange:t=>o(t.target.value),style:{width:"100px",padding:"0.6rem 1rem",borderRadius:"999px",border:"1px solid #CBD5E1",backgroundColor:"#F0F9FF",fontSize:"1rem"}})]}),(0,pe.jsxs)("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[(0,pe.jsx)("button",{onClick:()=>{d([]),w(!0),S()},disabled:b||!_||!s,style:{background:"#2563EB",color:"#fff",padding:"0.6rem 1.2rem",border:"none",borderRadius:"8px",cursor:"pointer",marginRight:"1rem"},children:"\ud83c\udf99\ufe0f Start Transcribing"}),(0,pe.jsxs)("button",{onClick:()=>{p((t=>!t)),S()},disabled:b||!_,style:{background:"#FBBF24",padding:"0.6rem 1.2rem",color:"#000",border:"none",borderRadius:"8px",cursor:"pointer"},children:["\ud83d\udd04 Next Speaker (",f?"Therapist":"Child",")"]})]}),(0,pe.jsxs)("div",{style:{background:"#E0F2FE",padding:"1rem",borderRadius:"10px",marginBottom:"1rem"},children:[(0,pe.jsxs)("strong",{children:[f?"Therapist":"Child",":"]})," ",b?"Listening...":"Paused"]}),(0,pe.jsxs)("div",{style:{background:"#F0F9FF",padding:"1rem",borderRadius:"10px",marginBottom:"1rem"},children:[(0,pe.jsx)("h4",{style:{color:"#2563EB"},children:"Transcript Log"}),h.map(((t,e)=>(0,pe.jsxs)("p",{children:[(0,pe.jsxs)("strong",{children:[t.speaker,":"]})," ",t.text]},e)))]}),(0,pe.jsxs)("div",{style:{background:"#DBEAFE",padding:"1rem",borderRadius:"10px",marginBottom:"1.5rem"},children:[(0,pe.jsx)("label",{children:(0,pe.jsx)("strong",{children:"\ud83d\udcdd Therapist Comments:"})}),(0,pe.jsx)("textarea",{rows:3,style:{width:"100%",padding:"0.5rem",borderRadius:"8px",border:"1px solid #E5E7EB"},value:m,onChange:t=>g(t.target.value)})]}),(0,pe.jsx)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:(0,pe.jsx)("button",{onClick:()=>{const t=(new Date).toLocaleString(),e={fullName:_,age:s,timestamp:t,comments:m,log:[...h]};v((t=>[...t,e])),d([]),g(""),u(1)},disabled:!_||!h.length,style:{background:"#22C55E",color:"#fff",padding:"0.6rem 1.2rem",borderRadius:"8px",border:"none",cursor:"pointer"},children:"\ud83d\udcbe Save Session"})}),(0,pe.jsx)("h3",{style:{marginBottom:"0.5rem"},children:"\ud83d\udcda Previous Sessions"}),(0,pe.jsx)("input",{placeholder:"Search by name...",value:a,onChange:t=>l(t.target.value),style:{marginBottom:"1rem",width:"100%",padding:"0.5rem",borderRadius:"8px",border:"1px solid #D1D5DB"}}),0===k.length&&(0,pe.jsx)("p",{style:{textAlign:"center",color:"#9CA3AF"},children:"No sessions found."}),(0,pe.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"1rem",justifyContent:"center",marginBottom:"1.5rem"},children:k.map(((t,e)=>(0,pe.jsxs)("div",{style:{border:"1px solid #E5E7EB",borderRadius:"12px",padding:"1rem",marginBottom:"1rem",background:"#F0F9FF",boxShadow:"0 2px 6px rgba(0,0,0,0.05)"},children:[(0,pe.jsxs)("h4",{style:{marginBottom:"0.3rem",color:"#2563EB"},children:[t.fullName," ",(0,pe.jsxs)("span",{style:{color:"#6B7280"},children:["(Age ",t.age,")"]})]}),(0,pe.jsxs)("p",{children:[(0,pe.jsx)("strong",{children:"Date:"})," ",t.timestamp]}),(0,pe.jsxs)("p",{children:[(0,pe.jsx)("strong",{children:"Comments:"})," ",t.comments.slice(0,100),"..."]}),(0,pe.jsx)("button",{onClick:()=>(t=>{const e=t.log.map((t=>t.speaker+": "+t.text)),n="Patient: "+t.fullName+" (Age: "+t.age+")\nDate: "+t.timestamp+"\n\n"+e.join("\n")+"\n\nComments:\n"+t.comments,i=new Blob([n],{type:"text/plain"}),r=URL.createObjectURL(i),s=document.createElement("a");s.href=r,s.download=t.fullName.replace(/ /g,"_")+"-session.txt",s.click(),URL.revokeObjectURL(r)})(t),style:{marginTop:"0.5rem",background:"#2563EB",color:"#fff",padding:"0.4rem 0.8rem",borderRadius:"6px",border:"none",cursor:"pointer"},children:"\u2b07\ufe0f Download"})]},e)))}),T>1&&(0,pe.jsx)("div",{style:{textAlign:"center",marginTop:"1rem"},children:[...Array(T)].map(((t,e)=>(0,pe.jsx)("button",{onClick:()=>u(e+1),style:{margin:"0 0.25rem",padding:"0.4rem 0.8rem",borderRadius:"6px",border:"none",background:e+1===c?"#2563EB":"#E5E7EB",color:e+1===c?"#fff":"#000",cursor:"pointer"},children:e+1},e)))})]})},MA=()=>(0,pe.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-md max-w-3xl mx-auto mt-10",children:[(0,pe.jsx)(dc,{}),(0,pe.jsx)("div",{className:"mt-6",children:(0,pe.jsx)(fc,{})})]});const NA=function(){return(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(me,{}),(0,pe.jsxs)(vt,{children:[(0,pe.jsx)(gt,{path:"/",element:(0,pe.jsx)(AA,{})}),(0,pe.jsx)(gt,{path:"/login",element:(0,pe.jsx)(TA,{})}),(0,pe.jsx)(gt,{path:"/signup",element:(0,pe.jsx)(IA,{})}),(0,pe.jsx)(gt,{path:"/dashboard/professional",element:(0,pe.jsx)("h2",{children:"Welcome, Professional!"})}),(0,pe.jsx)(gt,{path:"/dashboard/patient",element:(0,pe.jsx)(RA,{children:(0,pe.jsx)(hc,{})})}),(0,pe.jsx)(gt,{path:"/home",element:(0,pe.jsx)(RA,{children:(0,pe.jsx)(hc,{})})}),(0,pe.jsx)(gt,{path:"/practice",element:(0,pe.jsx)(RA,{children:(0,pe.jsx)(MA,{})})}),(0,pe.jsx)(gt,{path:"/progress",element:(0,pe.jsx)(RA,{children:(0,pe.jsx)(_m,{})})}),(0,pe.jsx)(gt,{path:"/about",element:(0,pe.jsx)(Em,{})}),(0,pe.jsx)(gt,{path:"/contact",element:(0,pe.jsx)(xc,{})}),(0,pe.jsx)(gt,{path:"/microphone",element:(0,pe.jsx)(wc,{})}),(0,pe.jsx)(gt,{path:"/microphone/:id",element:(0,pe.jsx)(vc,{})}),(0,pe.jsx)(gt,{path:"/transcribe",element:(0,pe.jsx)(RA,{children:(0,pe.jsx)(DA,{})})}),(0,pe.jsx)(gt,{path:"*",element:(0,pe.jsx)("h2",{className:"text-center mt-10",children:"404 - Page Not Found"})})]})]})};r.createRoot(document.getElementById("root")).render((0,pe.jsx)(i.StrictMode,{children:(0,pe.jsx)(Jt,{basename:"/speech-ai-app",children:(0,pe.jsx)(NA,{})})}))})();
//# sourceMappingURL=main.e6ed9ea1.js.map